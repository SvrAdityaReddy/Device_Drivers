Script started on Sun 19 Nov 2017 13:58:58 UTC
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make
make -C /lib/modules/4.9.45-v7+/build M=/home/pi/DDD/A2/mailbox modules
make[1]: Entering directory '/home/pi/linux'
  CC [M]  /home/pi/DDD/A2/mailbox/mailbox.o
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:[m[K In function â€˜[01m[Kmailbox_init[m[Kâ€™:
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:10:1:[m[K [01;35m[Kwarning: [m[Kno return statement in function returning non-void [[01;35m[K-Wreturn-type[m[K]
 [01;35m[K}[m[K
 [01;35m[K^[m[K
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /home/pi/DDD/A2/mailbox/mailbox.mod.o
  LD [M]  /home/pi/DDD/A2/mailbox/mailbox.ko
make[1]: Leaving directory '/home/pi/linux'
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make[Kvim ms[Kailbox.c
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;24r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[24;1H"mailbox.c" 18L, 477C[>c[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[9;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[12;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[24;63H17,15[9CAll[17;15H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[24;53H~@k[17;15H[24;53H   [16;1H[24;64H6,0-1[16;1H[?12l[?25h[?25l[24;53H~@k[16;1H[24;53H   [15;15H[24;64H5,15 [15;15H[?12l[?25h[?25l[24;53H~@k[15;15H[24;53H   [14;15H[24;64H4[14;15H[?12l[?25h[?25l[24;53H~@k[14;15H[24;53H   [13;1H[11;38H[46m{

}[m[24;64H3,1 [13;1H[?12l[?25h[?25l[24;53Hi[13;1H[24;53H [13;1H[24;1H[1m-- INSERT --[m[24;13H[K[24;63H13,1[10CAll[13;1H[?12l[?25h[?25l[11;38H{

}[24;64H2[12;1H[?12l[?25h[?25l[24;64H1[11;1H[?12l[?25h[?25l[8;37H[46m{

}[m[24;64H0[10;1H[?12l[?25h[?25l[8;37H{

}[24;63H9,1 [9;1H[?12l[?25h[?25l[24;65H2-9[9;9H[?12l[?25h[?25l[24;65H3-10[9;10H[?12l[?25h[?25l[24;65H4-11[9;11H[?12l[?25h[?25l[24;65H5-12[9;12H[?12l[?25h[?25l[24;65H6-13[9;13H[?12l[?25h[?25l[24;65H7-14[9;14H[?12l[?25h[?25lk[46m([18C)[m[24;65H8-15[9;15H[?12l[?25h[?25l[24;65H9-16[9;16H[?12l[?25h[?25l([18C)[24;65H10-17[9;17H[?12l[?25h[?25l[24;66H1-18[9;18H[?12l[?25h[?25l[24;66H2-19[9;19H[?12l[?25h[?25l[24;66H3-20[9;20H[?12l[?25h[?25l[24;66H4-21[9;21H[?12l[?25h[?25l[24;66H5-22[9;22H[?12l[?25h[?25l[24;66H6-23[9;23H[?12l[?25h[?25l[24;66H7-24[9;24H[?12l[?25h[?25l[24;66H8-25[9;25H[?12l[?25h[?25l[24;66H9-26[9;26H[?12l[?25h[?25l[24;65H20-27[9;27H[?12l[?25h[?25l[24;66H1-28[9;28H[?12l[?25h[?25l[24;66H2-29[9;29H[?12l[?25h[?25l[24;66H3-30[9;30H[?12l[?25h[?25l[24;66H4-31[9;31H[?12l[?25h[?25l[24;66H5-32[9;32H[?12l[?25h[?25l[24;66H6-33[9;33H[?12l[?25h[?25l[9;15H[46m([18C)[m[24;66H7-34[9;34H[?12l[?25h[?25l[24;66H8-35[9;35H[?12l[?25h[?25l[9;15H([18C)[24;66H9-36[9;36H[?12l[?25h[?25l[10;23r[10;1H[L[1;24r[24;63H[K[24;63H10,2-9[8CAll[10;9H[?12l[?25h[?25lr[24;66H3-10[10;10H[?12l[?25h[?25le[24;66H4-11[10;11H[?12l[?25h[?25lt[24;66H5-12[10;12H[?12l[?25h[?25lu[24;66H6-13[10;13H[?12l[?25h[?25lr[24;66H7-14[10;14H[?12l[?25h[?25l[33mreturn[m[24;66H8-15[10;15H[?12l[?25h[?25l[24;66H9-16[10;16H[?12l[?25h[?25l[31m1[m[24;66H10-17[10;17H[?12l[?25h[?25l;[24;67H1-18[10;18H[?12l[?25h[?25l[24;63H9,11-18 [9;18H[?12l[?25h[?25l[24;66H2-19[9;19H[?12l[?25h[?25l[24;66H3-20[9;20H[?12l[?25h[?25l[24;66H4-21[9;21H[?12l[?25h[?25l[24;66H5-22[9;22H[?12l[?25h[?25l[24;66H6-23[9;23H[?12l[?25h[?25l[24;66H7-24[9;24H[?12l[?25h[?25l[24;66H8-25[9;25H[?12l[?25h[?25l[24;66H9-26[9;26H[?12l[?25h[?25l[24;65H20-27[9;27H[?12l[?25h[?25l[24;66H1-28[9;28H[?12l[?25h[?25l[24;66H2-29[9;29H[?12l[?25h[?25l[24;66H3-30[9;30H[?12l[?25h[?25l[24;66H4-31[9;31H[?12l[?25h[?25l[24;66H5-32[9;32H[?12l[?25h[?25l[24;66H6-33[9;33H[?12l[?25h[?25l[9;15H[46m([18C)[m[24;66H7-34[9;34H[?12l[?25h[?25l[24;66H8-35[9;35H[?12l[?25h[?25l[9;15H([18C)[24;66H9-36[9;36H[?12l[?25h[?25l[10;23r[10;1H[L[1;24r[24;63H[K[24;63H10,2-9[8CAll[10;9H[?12l[?25h[?25ls[24;66H3-10[10;10H[?12l[?25h[?25lt[24;66H4-11[10;11H[?12l[?25h[?25lr[24;66H5-12[10;12H[?12l[?25h[?25lu[24;66H6-13[10;13H[?12l[?25h[?25lc[24;66H7-14[10;14H[?12l[?25h[?25l[32mstruct[m[24;66H8-15[10;15H[?12l[?25h[?25l[24;66H9-16[10;16H[?12l[?25h[?25ld[24;66H10-17[10;17H[?12l[?25h[?25le[24;67H1-18[10;18H[?12l[?25h[?25lv[24;67H2-19[10;19H[?12l[?25h[?25li[24;67H3-20[10;20H[?12l[?25h[?25lc[24;67H4-21[10;21H[?12l[?25h[?25le[24;67H5-22[10;22H[?12l[?25h[?25l_[24;67H6-23[10;23H[?12l[?25h[?25ln[24;67H7-24[10;24H[?12l[?25h[?25lo[24;67H8-25[10;25H[?12l[?25h[?25ld[24;67H9-26[10;26H[?12l[?25h[?25le[24;66H20-27[10;27H[?12l[?25h[?25l[24;67H1-28[10;28H[?12l[?25h[?25lf[24;67H2-29[10;29H[?12l[?25h[?25lw[24;67H3-30[10;30H[?12l[?25h[?25l[24;67H2-29[10;29H[?12l[?25h[?25l[24;67H1-28[10;28H[?12l[?25h[?25l[24;67H2-29[10;29H[?12l[?25h[?25l[24;67H3-30[10;30H[?12l[?25h[?25l;[24;67H4-31[10;31H[?12l[?25h[?25l[11;23r[11;1H[L[1;24r[24;63H[K[24;63H11,2-9[8CAll[11;9H[?12l[?25h[?25lf[24;66H3-10[11;10H[?12l[?25h[?25lw[24;66H4-11[11;11H[?12l[?25h[?25l[24;66H5-12[11;12H[?12l[?25h[?25l=[24;66H6-13[11;13H[?12l[?25h[?25l[24;66H7-14[11;14H[?12l[?25h[?25lo[24;66H8-15[11;15H[?12l[?25h[?25lf[24;66H9-16[11;16H[?12l[?25h[?25l_[24;66H10-17[11;17H[?12l[?25h[?25lf[24;67H1-18[11;18H[?12l[?25h[?25li[24;67H2-19[11;19H[?12l[?25h[?25ln[24;67H3-20[11;20H[?12l[?25h[?25ld[24;67H4-21[11;21H[?12l[?25h[?25l_[24;67H5-22[11;22H[?12l[?25h[?25lc[24;67H6-23[11;23H[?12l[?25h[?25lo[24;67H7-24[11;24H[?12l[?25h[?25lm[24;67H8-25[11;25H[?12l[?25h[?25lp[24;67H9-26[11;26H[?12l[?25h[?25la[24;66H20-27[11;27H[?12l[?25h[?25lt[24;67H1-28[11;28H[?12l[?25h[?25li[24;67H2-29[11;29H[?12l[?25h[?25lb[24;67H3-30[11;30H[?12l[?25h[?25ll[24;67H4-31[11;31H[?12l[?25h[?25le[24;67H5-32[11;32H[?12l[?25h[?25l_[24;67H6-33[11;33H[?12l[?25h[?25ln[24;67H7-34[11;34H[?12l[?25h[?25lo[24;67H8-35[11;35H[?12l[?25h[?25ld[24;67H9-36[11;36H[?12l[?25h[?25le[24;66H30-37[11;37H[?12l[?25h[?25l([24;67H1-38[11;38H[?12l[?25h[?25l)[46m()[m[24;67H2-39[11;39H[?12l[?25h[?25l;()[24;67H3-40[11;40H[?12l[?25h[?25l[46m()[m[24;67H2-39[11;39H[?12l[?25h[?25l[24;67H1-38[11;38H[?12l[?25h[?25l[46mN[m);N[46m)[m[24;67H2-39[11;39H[?12l[?25h[?25l[46mU[m);U[46m)[m[24;67H3-40[11;40H[?12l[?25h[?25l[46mL[m);L[46m)[m[24;67H4-41[11;41H[?12l[?25h[?25l[31mNUL[m[31m[46mL[m);[31mL[m[46m)[m[24;67H5-42[11;42H[?12l[?25h[?25l[46m,[m);,[46m)[m[24;67H6-43[11;43H[?12l[?25h[?25l([5C)[24;64H2,11-18[12;18H[?12l[?25h[?25l[11;37H[46m([5C)[m[24;64H1,36-43[11;43H[?12l[?25h[?25l([5C)[24;64H2,11-18[12;18H[?12l[?25h[?25l[24;64H1,38-45[11;45H[?12l[?25h[?25l[11;37H[46m([5C)[m[24;67H7-44[11;44H[?12l[?25h[?25l[24;67H6-43[11;43H[?12l[?25h[?25l([5C)[24;67H5-42[11;42H[?12l[?25h[?25l[24;67H4-41[11;41H[?12l[?25h[?25l[24;67H3-40[11;40H[?12l[?25h[?25l[24;67H2-39[11;39H[?12l[?25h[?25l[46m([5C)[m[24;67H1-38[11;38H[?12l[?25h[?25l[24;67H0-37[11;37H[?12l[?25h[?25l([5C)[24;66H29-36[11;36H[?12l[?25h[?25l[24;67H8-35[11;35H[?12l[?25h[?25l[24;67H7-34[11;34H[?12l[?25h[?25l[24;67H6-33[11;33H[?12l[?25h[?25l[24;67H5-32[11;32H[?12l[?25h[?25l[24;67H4-31[11;31H[?12l[?25h[?25l[24;67H3-30[11;30H[?12l[?25h[?25l[24;67H2-29[11;29H[?12l[?25h[?25l[24;67H1-28[11;28H[?12l[?25h[?25l[24;67H0-27[11;27H[?12l[?25h[?25l[24;66H19-26[11;26H[?12l[?25h[?25l[24;67H8-25[11;25H[?12l[?25h[?25l[24;67H7-24[11;24H[?12l[?25h[?25l[24;67H6-23[11;23H[?12l[?25h[?25l[24;67H5-22[11;22H[?12l[?25h[?25l[24;67H4-21[11;21H[?12l[?25h[?25l[24;67H3-20[11;20H[?12l[?25h[?25l[24;67H2-19[11;19H[?12l[?25h[?25l[24;67H1-18[11;18H[?12l[?25h[?25l[24;67H0-17[11;17H[?12l[?25h[?25l[24;66H9-16 [11;16H[?12l[?25h[?25l[24;66H8-15[11;15H[?12l[?25h[?25l[24;66H7-14[11;14H[?12l[?25h[?25l[24;66H6-13[11;13H[?12l[?25h[?25l[24;66H5-12[11;12H[?12l[?25h[?25l[24;66H4-11[11;11H[?12l[?25h[?25l[24;66H3-10[11;10H[?12l[?25h[?25l[24;66H2-9 [11;9H[?12l[?25h[?25lifw = of_find_compatible_node([31mNULL[m,);[24;66H3-10[11;10H[?12l[?25h[?25lfw = of_find_compatible_node([31mNUL[m[1C,);[11;45H[K[24;66H2-9 [11;9H[?12l[?25h[?25l/fw = of_find_compatible_node([31mNULL[m,);[24;66H3-10[11;10H[?12l[?25h[?25l[34m//fw = of_find_compatible_node(NULL,);[m[24;66H4-11[11;11H[?12l[?25h[?25l[24;64H0[10;11H[?12l[?25h[?25l[24;66H5-12[10;12H[?12l[?25h[?25l[24;66H6-13[10;13H[?12l[?25h[?25l[24;66H7-14[10;14H[?12l[?25h[?25l[24;66H8-15[10;15H[?12l[?25h[?25l[24;66H9-16[10;16H[?12l[?25h[?25l[24;66H10-17[10;17H[?12l[?25h[?25l[24;67H1-18[10;18H[?12l[?25h[?25l[24;67H2-19[10;19H[?12l[?25h[?25l[24;67H3-20[10;20H[?12l[?25h[?25l[24;67H4-21[10;21H[?12l[?25h[?25l[24;67H5-22[10;22H[?12l[?25h[?25l[24;67H6-23[10;23H[?12l[?25h[?25l[24;67H7-24[10;24H[?12l[?25h[?25l[24;67H8-25[10;25H[?12l[?25h[?25l[24;67H9-26[10;26H[?12l[?25h[?25l[24;66H20-27[10;27H[?12l[?25h[?25l[24;67H1-28[10;28H[?12l[?25h[?25l*fw;[24;67H2-29[10;29H[?12l[?25h[?25l[24;67H3-30[10;30H[?12l[?25h[?25l[24;67H4-31[10;31H[?12l[?25h[?25l ;[24;67H5-32[10;32H[?12l[?25h[?25l=;[24;67H6-33[10;33H[?12l[?25h[?25l ;[24;67H7-34[10;34H[?12l[?25h[?25lN;[24;67H8-35[10;35H[?12l[?25h[?25lU;[24;67H9-36[10;36H[?12l[?25h[?25lL;[24;66H30-37[10;37H[?12l[?25h[?25l[31mNULL[m;[24;67H1-38[10;38H[?12l[?25h[?25l[24;64H1[11;38H[?12l[?25h[?25l[1C[34m[46m([5C)[m[24;67H2-39[11;39H[?12l[?25h[?25l[24;67H3-40[11;40H[?12l[?25h[?25l[34m(NULL,)[m[24;67H4-41[11;41H[?12l[?25h[?25l[24;67H5-42[11;42H[?12l[?25h[?25l[24;67H6-43[11;43H[?12l[?25h[?25l[24;67H7-44[11;44H[?12l[?25h[?25l[34m[46m([5C)[m[24;67H8-45[11;45H[?12l[?25h[?25l[24;67H9-46[11;46H[?12l[?25h[?25l[11;39H[34m(NULL,)[m[24;66H40-47[11;47H[?12l[?25h[?25l[12;23r[12;1H[L[1;24r[12;9H[34m//[m[24;63H[K[24;63H12,4-11[7CAll[12;11H[?12l[?25h[?25l/[12;10H[K[24;66H3-10[12;10H[?12l[?25h[?25l[12;9H[K[24;66H2-9 [12;9H[?12l[?25h[?25ls[24;66H3-10[12;10H[?12l[?25h[?25lt[24;66H4-11[12;11H[?12l[?25h[?25lr[24;66H5-12[12;12H[?12l[?25h[?25lu[24;66H6-13[12;13H[?12l[?25h[?25lc[24;66H7-14[12;14H[?12l[?25h[?25ly[24;66H8-15[12;15H[?12l[?25h[?25lt[24;66H9-16[12;16H[?12l[?25h[?25l[12;15H[K[24;66H8-15[12;15H[?12l[?25h[?25l[12;14H[K[24;66H7-14[12;14H[?12l[?25h[?25l[32mstruct[m[24;66H8-15[12;15H[?12l[?25h[?25l[24;66H9-16[12;16H[?12l[?25h[?25lr[24;66H10-17[12;17H[?12l[?25h[?25lp[24;67H1-18[12;18H[?12l[?25h[?25li[24;67H2-19[12;19H[?12l[?25h[?25l_[24;67H3-20[12;20H[?12l[?25h[?25lf[24;67H4-21[12;21H[?12l[?25h[?25li[24;67H5-22[12;22H[?12l[?25h[?25lr[24;67H6-23[12;23H[?12l[?25h[?25lm[24;67H7-24[12;24H[?12l[?25h[?25lw[24;67H8-25[12;25H[?12l[?25h[?25la[24;67H9-26[12;26H[?12l[?25h[?25lr[24;66H20-27[12;27H[?12l[?25h[?25le[24;67H1-28[12;28H[?12l[?25h[?25l[24;67H2-29[12;29H[?12l[?25h[?25l*[24;67H3-30[12;30H[?12l[?25h[?25lf[24;67H4-31[12;31H[?12l[?25h[?25lw[24;67H5-32[12;32H[?12l[?25h[?25l[24;67H6-33[12;33H[?12l[?25h[?25l=[24;67H7-34[12;34H[?12l[?25h[?25l[24;67H8-35[12;35H[?12l[?25h[?25lr[24;67H9-36[12;36H[?12l[?25h[?25lp[24;66H30-37[12;37H[?12l[?25h[?25li[24;67H1-38[12;38H[?12l[?25h[?25l_[24;67H2-39[12;39H[?12l[?25h[?25lf[24;67H3-40[12;40H[?12l[?25h[?25lr[24;67H4-41[12;41H[?12l[?25h[?25l[12;40H[K[24;67H3-40[12;40H[?12l[?25h[?25li[24;67H4-41[12;41H[?12l[?25h[?25lr[24;67H5-42[12;42H[?12l[?25h[?25lm[24;67H6-43[12;43H[?12l[?25h[?25lw[24;67H7-44[12;44H[?12l[?25h[?25la[24;67H8-45[12;45H[?12l[?25h[?25lr[24;67H9-46[12;46H[?12l[?25h[?25le[24;66H40-47[12;47H[?12l[?25h[?25l_[24;67H1-48[12;48H[?12l[?25h[?25lg[24;67H2-49[12;49H[?12l[?25h[?25le[24;67H3-50[12;50H[?12l[?25h[?25lt[24;67H4-51[12;51H[?12l[?25h[?25l([24;67H5-52[12;52H[?12l[?25h[?25l)[46m()[m[24;67H6-53[12;53H[?12l[?25h[?25l[24;67H5-52[12;52H[?12l[?25h[?25l[46mN[m)N[46m)[m[24;67H6-53[12;53H[?12l[?25h[?25l[46mU[m)U[46m)[m[24;67H7-54[12;54H[?12l[?25h[?25l[46mL[m)L[46m)[m[24;67H8-55[12;55H[?12l[?25h[?25l[31mNUL[m[31m[46mL[m)[31mL[m[46m)[m[24;67H9-56[12;56H[?12l[?25h[?25l[24;66H50-57[12;57H[?12l[?25h[?25l;[12;51H([4C)[24;67H1-58[12;58H[?12l[?25h[?25l[13;23r[13;1H[L[1;24r[24;63H[K[24;63H13,2-9[8CAll[13;9H[?12l[?25h[?25li[24;66H3-10[13;10H[?12l[?25h[?25l[13;9H[K[24;66H2-9 [13;9H[?12l[?25h[?25lp[24;66H3-10[13;10H[?12l[?25h[?25lr[24;66H4-11[13;11H[?12l[?25h[?25li[24;66H5-12[13;12H[?12l[?25h[?25ln[24;66H6-13[13;13H[?12l[?25h[?25lt[24;66H7-14[13;14H[?12l[?25h[?25lf[24;66H8-15[13;15H[?12l[?25h[?25l([24;66H9-16[13;16H[?12l[?25h[?25l)[46m()[m[24;66H10-17[13;17H[?12l[?25h[?25l[24;66H9-16 [13;16H[?12l[?25h[?25l[46mK[m)K[46m)[m[24;66H10-17[13;17H[?12l[?25h[?25l[46mE[m)E[46m)[m[24;67H1-18[13;18H[?12l[?25h[?25l[46mR[m)R[46m)[m[24;67H2-19[13;19H[?12l[?25h[?25l[46mN[m)N[46m)[m[24;67H3-20[13;20H[?12l[?25h[?25l[46m_[m)_[46m)[m[24;67H4-21[13;21H[?12l[?25h[?25l[46mI[m)I[46m)[m[24;67H5-22[13;22H[?12l[?25h[?25l[46mN[m)N[46m)[m[24;67H6-23[13;23H[?12l[?25h[?25l[46mF[m)F[46m)[m[24;67H7-24[13;24H[?12l[?25h[?25l[46mO[m)O[46m)[m[24;67H8-25[13;25H[?12l[?25h[?25l[46m [m) [46m)[m[24;67H9-26[13;26H[?12l[?25h[?25l[31m[46m"[m[31m)
        return 1;
}
static void __init mailbox_exit(void){
        printk(KERN_INFO [m[1Cexit\n[1C[31m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([m[1Crpi driver [33mfor[m mailbox hdmi read[1C[31m);
MODULE_LICENSE([m[1CGP[2C[31m);[13;26H"[m[31m[46m)[m[24;66H20-27[13;27H[?12l[?25h[?25l[31m[46m"[m)
        [33mreturn[m [1C;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){
        printk(KERN_INFO [1C[31mexit[m[35m\n[m[1C);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([1C[31mrpi driver for mailbox hdmi read[m[1C);
MODULE_LICENSE([1C[31mGP[m[2C);[13;27H[31m"[m[46m)[m[24;67H1-28[13;28H[?12l[?25h[?25l[13;15H([12C)[24;67H0-27[13;27H[?12l[?25h[?25l[31mr"[m)[24;67H1-28[13;28H[?12l[?25h[?25l[31mp"[m)[24;67H2-29[13;29H[?12l[?25h[?25l[31mi"[m)[24;67H3-30[13;30H[?12l[?25h[?25l[31m_"[m)[24;67H4-31[13;31H[?12l[?25h[?25l[31mf"[m)[24;67H5-32[13;32H[?12l[?25h[?25l[31mi"[m)[24;67H6-33[13;33H[?12l[?25h[?25l[31mr"[m)[24;67H7-34[13;34H[?12l[?25h[?25l[31mm"[m)[24;67H8-35[13;35H[?12l[?25h[?25l[31mw"[m)[24;67H9-36[13;36H[?12l[?25h[?25l[31ma"[m)[24;66H30-37[13;37H[?12l[?25h[?25l[31mr"[m)[24;67H1-38[13;38H[?12l[?25h[?25l[31me"[m)[24;67H2-39[13;39H[?12l[?25h[?25l[31m_"[m)[24;67H3-40[13;40H[?12l[?25h[?25l[31mg"[m)[24;67H4-41[13;41H[?12l[?25h[?25l[31me"[m)[24;67H5-42[13;42H[?12l[?25h[?25l[31mt"[m)[24;67H6-43[13;43H[?12l[?25h[?25l[31m="[m)[24;67H7-44[13;44H[?12l[?25h[?25l[24;67H6-43[13;43H[?12l[?25h[?25l[31m ="[m)[24;67H7-44[13;44H[?12l[?25h[?25l[31m:="[m)[24;67H8-45[13;45H[?12l[?25h[?25l[24;67H9-46[13;46H[?12l[?25h[?25l[31m "[m)[24;66H40-47[13;47H[?12l[?25h[?25l[31m%"[m)[24;67H1-48[13;48H[?12l[?25h[?25l[35m%p[m[31m"[m)[24;67H2-49[13;49H[?12l[?25h[?25l[13;15H[46m([34C)[m[24;67H3-50[13;50H[?12l[?25h[?25l[46m,[m),[46m)[m[24;67H4-51[13;51H[?12l[?25h[?25l[46mf[m)f[46m)[m[24;67H5-52[13;52H[?12l[?25h[?25l[46mw[m)w[46m)[m[24;67H6-53[13;53H[?12l[?25h[?25l[24;67H7-54[13;54H[?12l[?25h[?25l;[13;15H([37C)[24;67H8-55[13;55H[?12l[?25h[?25l[14;23r[14;1H[L[1;24r[24;63H[K[24;63H14,2-9[8CTop[14;9H[?12l[?25h[?25l[24;64H3[13;9H[?12l[?25h[?25l[24;64H2[12;9H[?12l[?25h[?25l[24;64H1[11;9H[?12l[?25h[?25l[24;64H0[10;9H[?12l[?25h[?25l[24;63H9,2-9 [9;9H[?12l[?25h[?25l[24;63H8,9  [8;9H[?12l[?25h[?25l[24;63H7,1[7;1H[?12l[?25h[?25li[24;65H2[7;2H[?12l[?25h[?25l[7;1H[K[24;65H1[7;1H[?12l[?25h[?25l[8;23r[8;1H[L[1;24r[24;63H[K[24;63H8,1[11CTop[8;1H[?12l[?25h[?25l[9;23r[9;1H[L[1;24r[24;63H[K[24;63H9,1[11CTop[9;1H[?12l[?25h[?25l[24;63H8[8;1H[?12l[?25h[?25ls[24;65H2[8;2H[?12l[?25h[?25lt[24;65H3[8;3H[?12l[?25h[?25lr[24;65H4[8;4H[?12l[?25h[?25lu[24;65H5[8;5H[?12l[?25h[?25lc[24;65H6[8;6H[?12l[?25h[?25l[32mstruct[m[24;65H7[8;7H[?12l[?25h[?25l[24;65H8[8;8H[?12l[?25h[?25le[24;65H9[8;9H[?12l[?25h[?25ld[24;65H10[8;10H[?12l[?25h[?25li[24;66H1[8;11H[?12l[?25h[?25ld[24;66H2[8;12H[?12l[?25h[?25l_[24;66H3[8;13H[?12l[?25h[?25lb[24;66H4[8;14H[?12l[?25h[?25lu[24;66H5[8;15H[?12l[?25h[?25l[8;14H[K[24;66H4[8;14H[?12l[?25h[?25l[8;13H[K[24;66H3[8;13H[?12l[?25h[?25lt[24;66H4[8;14H[?12l[?25h[?25la[24;66H5[8;15H[?12l[?25h[?25lg[24;66H6[8;16H[?12l[?25h[?25l{[24;66H7[8;17H[?12l[?25h[?25l}[46m{}[m[24;66H8[8;18H[?12l[?25h[?25l[24;66H7[8;17H[?12l[?25h[?25l[9;23r[9;1H[L[1;24r[8;17H[K[9;1H}[24;63H[K[24;63H9,1[11CTop[9;1H[46m}[?12l[?25h[?25l[10;23r[m[10;1H[L[1;24r[9;1H[K[10;1H}[24;63H[K[24;63H10,1[10CTop[10;1H[46m}[?12l[?25h[?25l[m[8;16H{

}[24;63H9,1 [9;1H[?12l[?25h[?25l[24;65H2-9[9;9H[?12l[?25h[?25lu[24;65H3-10[9;10H[?12l[?25h[?25l3[24;65H4-11[9;11H[?12l[?25h[?25l2[24;65H5-12[9;12H[?12l[?25h[?25l[24;65H6-13[9;13H[?12l[?25h[?25lb[24;65H7-14[9;14H[?12l[?25h[?25ll[24;65H8-15[9;15H[?12l[?25h[?25lk[24;65H9-16[9;16H[?12l[?25h[?25ln[24;65H10-17[9;17H[?12l[?25h[?25lo[24;66H1-18[9;18H[?12l[?25h[?25l[9;17H[K[24;66H0-17[9;17H[?12l[?25h[?25l[9;16H[K[24;65H9-16 [9;16H[?12l[?25h[?25l[9;15H[K[24;65H8-15[9;15H[?12l[?25h[?25l[9;14H[K[24;65H7-14[9;14H[?12l[?25h[?25ll[24;65H8-15[9;15H[?12l[?25h[?25lo[24;65H9-16[9;16H[?12l[?25h[?25lc[24;65H10-17[9;17H[?12l[?25h[?25lk[24;66H1-18[9;18H[?12l[?25h[?25l_[24;66H2-19[9;19H[?12l[?25h[?25ln[24;66H3-20[9;20H[?12l[?25h[?25li[24;66H4-21[9;21H[?12l[?25h[?25l[9;20H[K[24;66H3-20[9;20H[?12l[?25h[?25lu[24;66H4-21[9;21H[?12l[?25h[?25lm[24;66H5-22[9;22H[?12l[?25h[?25lb[24;66H6-23[9;23H[?12l[?25h[?25le[24;66H7-24[9;24H[?12l[?25h[?25lr[24;66H8-25[9;25H[?12l[?25h[?25l;[24;66H9-26[9;26H[?12l[?25h[?25l[10;23r[10;1H[L[1;24r[24;63H[K[24;63H10,2-9[8CTop[10;9H[?12l[?25h[?25lu[24;66H3-10[10;10H[?12l[?25h[?25l3[24;66H4-11[10;11H[?12l[?25h[?25l2[24;66H5-12[10;12H[?12l[?25h[?25l[24;66H6-13[10;13H[?12l[?25h[?25lt[24;66H7-14[10;14H[?12l[?25h[?25l[10;13H[K[24;66H6-13[10;13H[?12l[?25h[?25ls[24;66H7-14[10;14H[?12l[?25h[?25lt[24;66H8-15[10;15H[?12l[?25h[?25la[24;66H9-16[10;16H[?12l[?25h[?25lt[24;66H10-17[10;17H[?12l[?25h[?25lu[24;67H1-18[10;18H[?12l[?25h[?25ls[24;67H2-19[10;19H[?12l[?25h[?25l;[24;67H3-20[10;20H[?12l[?25h[?25l[11;23r[11;1H[L[1;24r[24;63H[K[24;63H11,2-9[8CTop[11;9H[?12l[?25h[?25lu[24;66H3-10[11;10H[?12l[?25h[?25ln[24;66H4-11[11;11H[?12l[?25h[?25ls[24;66H5-12[11;12H[?12l[?25h[?25li[24;66H6-13[11;13H[?12l[?25h[?25lg[24;66H7-14[11;14H[?12l[?25h[?25ln[24;66H8-15[11;15H[?12l[?25h[?25le[24;66H9-16[11;16H[?12l[?25h[?25l[11;9H[32munsigned[m[24;66H10-17[11;17H[?12l[?25h[?25l[24;67H1-18[11;18H[?12l[?25h[?25lc[24;67H2-19[11;19H[?12l[?25h[?25lh[24;67H3-20[11;20H[?12l[?25h[?25la[24;67H4-21[11;21H[?12l[?25h[?25l[32mchar[m[24;67H5-22[11;22H[?12l[?25h[?25l[24;67H6-23[11;23H[?12l[?25h[?25le[24;67H7-24[11;24H[?12l[?25h[?25ld[24;67H8-25[11;25H[?12l[?25h[?25li[24;67H9-26[11;26H[?12l[?25h[?25ld[24;66H20-27[11;27H[?12l[?25h[?25l_[24;67H1-28[11;28H[?12l[?25h[?25lb[24;67H2-29[11;29H[?12l[?25h[?25ll[24;67H3-30[11;30H[?12l[?25h[?25lo[24;67H4-31[11;31H[?12l[?25h[?25la[24;67H5-32[11;32H[?12l[?25h[?25l[11;31H[K[24;67H4-31[11;31H[?12l[?25h[?25lc[24;67H5-32[11;32H[?12l[?25h[?25lk[24;67H6-33[11;33H[?12l[?25h[?25l[[24;67H7-34[11;34H[?12l[?25h[?25l][46m[][m[24;67H8-35[11;35H[?12l[?25h[?25l;[][24;67H9-36[11;36H[?12l[?25h[?25l[46m[][m[24;67H8-35[11;35H[?12l[?25h[?25l[24;67H7-34[11;34H[?12l[?25h[?25l[31m[46m1[m];[31m1[m[46m][m[24;67H8-35[11;35H[?12l[?25h[?25l[31m[46m2[m];[31m2[m[46m][m[24;67H9-36[11;36H[?12l[?25h[?25l[31m[46m8[m];[31m8[m[46m][m[24;66H30-37[11;37H[?12l[?25h[?25l[24;67H1-38[11;38H[?12l[?25h[?25l[8;16H[46m{[m[11;33H[[3C]
[46m}[m[24;64H2,2    [12;2H[?12l[?25h[?25l[8;16H{[12;1H}[24;64H3,1[13;1H[?12l[?25h[?25l[14;37H[46m{[22;1H}[m[24;64H4,38[14;38H[?12l[?25h[?25l{[22;1H}[24;64H3,1 [13;1H[?12l[?25h[?25l[8;16H[46m{[12;1H}[m[24;64H2,2[12;2H[?12l[?25h[?25l[8;16H{[12;1H}[24;64H3,1[13;1H[?12l[?25h[?25l[8;16H[46m{[12;1H}[m[24;64H2,2[12;2H[?12l[?25h[?25l;[8;16H{[12;1H}[24;66H3[12;3H[?12l[?25h[?25l[8;16H[46m{[12;1H}[m[24;66H2[12;2H[?12l[?25h[?25le;[8;16H{[12;1H}[24;66H3[12;3H[?12l[?25h[?25ld;[24;66H4[12;4H[?12l[?25h[?25li;[24;66H5[12;5H[?12l[?25h[?25ld;[24;66H6[12;6H[?12l[?25h[?25l_;[24;66H7[12;7H[?12l[?25h[?25lt;[24;66H8[12;8H[?12l[?25h[?25la;[24;66H9[12;9H[?12l[?25h[?25lg;[24;66H10[12;10H[?12l[?25h[?25l1;[24;67H1[12;11H[?12l[?25h[?25l[24;64H3,1 [13;1H[?12l[?25h[?25l[24;64H4,11[14;11H[?12l[?25h[?25l[24;64H5,4-11[15;11H[?12l[?25h[?25l[24;64H6[16;11H[?12l[?25h[?25l[24;64H7[17;11H[?12l[?25h[?25l[24;64H8[18;11H[?12l[?25h[?25l[1;23r[23;1H
[1;24r[23;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);[24;63H[K[24;63H19,4-11[7C14%[18;11H[?12l[?25h[?25l[1;23r[23;1H
[1;24r[23;1H}[24;63H[K[24;63H20,1[10C28%[18;1H[?12l[?25h[?25l[1;23r[23;1H
[1;24r[23;1Hmodule_init(mailbox_init);[24;63H[K[24;63H21,4-11[7C42%[18;11H[?12l[?25h[?25l[1;23r[23;1H
[1;24r[23;1Hmodule_exit(mailbox_exit);[24;63H[K[24;63H22,2[10C57%[10;37H[46m{[18;1H}[?12l[?25h[?25l[1;23r[m[23;1H
[1;24r[24;63H[K[24;63H23,11[9C71%[9;37H{[17;1H}[18;11H[?12l[?25h[?25l[1;23r[23;1H
[1;24r[23;1HMODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);[24;63H[K[24;63H24,4-11[7C85%[18;11H[?12l[?25h[?25l[1;23r[23;1H
[1;24r[23;1HMODULE_LICENSE([31m"GPL"[m);[24;63H[K[24;63H25,2[10CBot[16;38H[46m{

}[?12l[?25h[?25l[m[16;38H{

}[24;64H6,11[19;11H[?12l[?25h[?25l[24;64H7[20;11H[?12l[?25h[?25l[24;64H8,1 [21;1H[?12l[?25h[?25l[24;64H9,11[22;11H[?12l[?25h[?25l[24;63H30[23;11H[?12l[?25h[?25l[24;63H29[22;11H[?12l[?25h[?25l[24;64H8,1 [21;1H[?12l[?25h[?25l[24;64H7,11[20;11H[?12l[?25h[?25l[24;64H6[19;11H[?12l[?25h[?25l[16;38H[46m{

}[m[24;64H5,2 [18;2H[?12l[?25h[?25l[16;38H{

}[24;64H4,4-11[17;11H[?12l[?25h[?25l[24;64H3,11  [16;11H[?12l[?25h[?25l[7;37H[46m{[15;1H}[m[24;64H2,2 [15;2H[?12l[?25h[?25l[7;37H{[15;1H}[24;64H1,4-11[14;11H[?12l[?25h[?25l[24;64H0,1   [13;1H[?12l[?25h[?25l[24;63H19,4-11[12;11H[?12l[?25h[?25l[24;64H8[11;11H[?12l[?25h[?25l[24;64H9[12;11H[?12l[?25h[?25l[24;63H20,1   [13;1H[?12l[?25h[?25l[24;66H2-9[13;9H[?12l[?25h[?25l[24;63H19[12;9H[?12l[?25h[?25l[24;64H8[11;9H[?12l[?25h[?25l[24;64H7[10;9H[?12l[?25h[?25l[24;64H6[9;9H[?12l[?25h[?25l[24;64H5[8;9H[?12l[?25h[?25l[9;23r[9;1H[L[1;24r[8;9H[K[9;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[24;63H[K[24;63H16,2-9[8C87%[9;9H[?12l[?25h[?25l[24;64H5[8;9H[?12l[?25h[?25li[24;66H3-10[8;10H[?12l[?25h[?25ln[24;66H4-11[8;11H[?12l[?25h[?25l[32mint[m[24;66H5-12[8;12H[?12l[?25h[?25l[24;66H6-13[8;13H[?12l[?25h[?25le[24;66H7-14[8;14H[?12l[?25h[?25lr[24;66H8-15[8;15H[?12l[?25h[?25lr[24;66H9-16[8;16H[?12l[?25h[?25lo[24;66H10-17[8;17H[?12l[?25h[?25lr[24;67H1-18[8;18H[?12l[?25h[?25l;[24;67H2-19[8;19H[?12l[?25h[?25l[24;64H6[9;19H[?12l[?25h[?25l[24;64H7[10;19H[?12l[?25h[?25l[24;64H8[11;19H[?12l[?25h[?25l[24;64H9[12;19H[?12l[?25h[?25l[24;63H20[13;19H[?12l[?25h[?25l[24;64H1,2-9  [14;9H[?12l[?25h[?25le[24;66H3-10[14;10H[?12l[?25h[?25lr[24;66H4-11[14;11H[?12l[?25h[?25lr[24;66H5-12[14;12H[?12l[?25h[?25lo[24;66H6-13[14;13H[?12l[?25h[?25lr[24;66H7-14[14;14H[?12l[?25h[?25l[24;66H8-15[14;15H[?12l[?25h[?25l=[24;66H9-16[14;16H[?12l[?25h[?25l[24;66H10-17[14;17H[?12l[?25h[?25l([24;67H1-18[14;18H[?12l[?25h[?25l)[46m()[m[24;67H2-19[14;19H[?12l[?25h[?25l[24;67H1-18[14;18H[?12l[?25h[?25l[24;67H0-17[14;17H[?12l[?25h[?25l()[24;66H9-16 [14;16H[?12l[?25h[?25l [46m()[m[24;66H10-17[14;17H[?12l[?25h[?25l[46mr([m)r[1C[46m)[m[24;67H1-18[14;18H[?12l[?25h[?25l[46mp([m)p[1C[46m)[m[24;67H2-19[14;19H[?12l[?25h[?25l[46mi([m)i[1C[46m)[m[24;67H3-20[14;20H[?12l[?25h[?25l[46m_([m)_[1C[46m)[m[24;67H4-21[14;21H[?12l[?25h[?25l[46mf([m)f[1C[46m)[m[24;67H5-22[14;22H[?12l[?25h[?25l[46mi([m)i[1C[46m)[m[24;67H6-23[14;23H[?12l[?25h[?25l[46mr([m)r[1C[46m)[m[24;67H7-24[14;24H[?12l[?25h[?25l[46mm([m)m[1C[46m)[m[24;67H8-25[14;25H[?12l[?25h[?25l[46mw([m)w[1C[46m)[m[24;67H9-26[14;26H[?12l[?25h[?25l[46ma([m)a[1C[46m)[m[24;66H20-27[14;27H[?12l[?25h[?25l[46mr([m)r[1C[46m)[m[24;67H1-28[14;28H[?12l[?25h[?25l[46me([m)e[1C[46m)[m[24;67H2-29[14;29H[?12l[?25h[?25l[46m_([m)_[1C[46m)[m[24;67H3-30[14;30H[?12l[?25h[?25l[46mp([m)p[1C[46m)[m[24;67H4-31[14;31H[?12l[?25h[?25l[46mr([m)r[1C[46m)[m[24;67H5-32[14;32H[?12l[?25h[?25l[46mo([m)o[1C[46m)[m[24;67H6-33[14;33H[?12l[?25h[?25l[46mp([m)p[1C[46m)[m[24;67H7-34[14;34H[?12l[?25h[?25l[46me([m)e[1C[46m)[m[24;67H8-35[14;35H[?12l[?25h[?25l[46mr([m)r[1C[46m)[m[24;67H9-36[14;36H[?12l[?25h[?25l[46mt([m)t[1C[46m)[m[24;66H30-37[14;37H[?12l[?25h[?25l[46my([m)y[1C[46m)[m[24;67H1-38[14;38H[?12l[?25h[?25l[1C[46m([m)([1C[46m)[m[24;67H2-39[14;39H[?12l[?25h[?25l[46m)[m[14;40H[K[14;38H[46m([m[24;67H1-38[14;38H[?12l[?25h[?25l[24;67H2-39[14;39H[?12l[?25h[?25l[46mf[m)f[46m)[m[24;67H3-40[14;40H[?12l[?25h[?25l[46mw[m)w[46m)[m[24;67H4-41[14;41H[?12l[?25h[?25l[46m,[m),[46m)[m[24;67H5-42[14;42H[?12l[?25h[?25l[46mR[m)R[46m)[m[24;67H6-43[14;43H[?12l[?25h[?25l[46mP[m)P[46m)[m[24;67H7-44[14;44H[?12l[?25h[?25l[46mI[m)I[46m)[m[24;67H8-45[14;45H[?12l[?25h[?25l[46m_[m)_[46m)[m[24;67H9-46[14;46H[?12l[?25h[?25l[46mF[m)F[46m)[m[24;66H40-47[14;47H[?12l[?25h[?25l[46mI[m)I[46m)[m[24;67H1-48[14;48H[?12l[?25h[?25l[46mR[m)R[46m)[m[24;67H2-49[14;49H[?12l[?25h[?25l[46mM[m)M[46m)[m[24;67H3-50[14;50H[?12l[?25h[?25l[46mW[m)W[46m)[m[24;67H4-51[14;51H[?12l[?25h[?25l[46mA[m)A[46m)[m[24;67H5-52[14;52H[?12l[?25h[?25l[46mR[m)R[46m)[m[24;67H6-53[14;53H[?12l[?25h[?25l[46mE[m)E[46m)[m[24;67H7-54[14;54H[?12l[?25h[?25l[46m_[m)_[46m)[m[24;67H8-55[14;55H[?12l[?25h[?25l[46mG[m)G[46m)[m[24;67H9-56[14;56H[?12l[?25h[?25l[46mE[m)E[46m)[m[24;66H50-57[14;57H[?12l[?25h[?25l[46mT[m)T[46m)[m[24;67H1-58[14;58H[?12l[?25h[?25l[46m_[m)_[46m)[m[24;67H2-59[14;59H[?12l[?25h[?25l[46mE[m)E[46m)[m[24;67H3-60[14;60H[?12l[?25h[?25l[46mD[m)D[46m)[m[24;67H4-61[14;61H[?12l[?25h[?25l[46mI[m)I[46m)[m[24;67H5-62[14;62H[?12l[?25h[?25l[46mD[m)D[46m)[m[24;67H6-63[14;63H[?12l[?25h[?25l[46m_[m)_[46m)[m[24;67H7-64[14;64H[?12l[?25h[?25l[46mB[m)B[46m)[m[24;67H8-65[14;65H[?12l[?25h[?25l[46mL[m)L[46m)[m[24;67H9-66[14;66H[?12l[?25h[?25l[46mO[m)O[46m)[m[24;66H60-67[14;67H[?12l[?25h[?25l[46mC[m)C[46m)[m[24;67H1-68[14;68H[?12l[?25h[?25l[46mK[m)K[46m)[m[24;67H2-69[14;69H[?12l[?25h[?25l[46m,[m),[46m)[m[24;67H3-70[14;70H[?12l[?25h[?25l[46m&[m)&[46m)[m[24;67H4-71[14;71H[?12l[?25h[?25l[46me[m)e[46m)[m[24;67H5-72[14;72H[?12l[?25h[?25l[46md[m)d[46m)[m[24;67H6-73[14;73H[?12l[?25h[?25l[46mi[m)i[46m)[m[24;67H7-74[14;74H[?12l[?25h[?25l[46md[m)d[46m)[m[24;67H8-75[14;75H[?12l[?25h[?25l[46m_[m)_[46m)[m[24;67H9-76[14;76H[?12l[?25h[?25l[46mt[m)t[46m)[m[24;66H70-77[14;77H[?12l[?25h[?25l[46ma[m)a[46m)[m[24;67H1-78[14;78H[?12l[?25h[?25l[46mg[m)g[46m)[m[24;67H2-79[14;79H[?12l[?25h[?25l[46m1[m)[14;79H1[46m)[m[24;67H3-80[14;80H[?12l[?25h[?25l[15;23r[15;1H[L[1;24r[14;80H[46m,,[m[15;1H)[24;63H[K[24;63H21,74-81      77%[14;80H,,[15;1H[46m)[?12l[?25h[?25ls[m)s[46m)[m[24;67H5-82[15;2H[?12l[?25h[?25l[46mi[m)i[46m)[m[24;67H6-83[15;3H[?12l[?25h[?25l[46mz[m)z[46m)[m[24;67H7-84[15;4H[?12l[?25h[?25l[46me[m)e[46m)[m[24;67H8-85[15;5H[?12l[?25h[?25l[46mo[m)o[46m)[m[24;67H9-86[15;6H[?12l[?25h[?25l[33msizeo[m[33m[46mf[m)[33mf[m[46m)[m[24;66H80-87[15;7H[?12l[?25h[?25l[46m([m)[14;38H([41C,,[15;1H[33ms[m[6C[46m)[m[24;67H1-88[15;8H[?12l[?25h[?25l[1C)[14;38H[46m([m[41C,,[15;1H[33ms[m[5C()[46m)[m[24;67H2-89[15;9H[?12l[?25h[?25l[14;38H([41C,,[15;1H[33ms[m[5C[46m()[m)[24;67H1-88[15;8H[?12l[?25h[?25l[46me[m))e[46m)[m[24;67H2-89[15;9H[?12l[?25h[?25l[46md[m))d[46m)[m[24;67H3-90[15;10H[?12l[?25h[?25l[46mi[m))i[46m)[m[24;67H4-91[15;11H[?12l[?25h[?25l[46md[m))d[46m)[m[24;67H5-92[15;12H[?12l[?25h[?25l[46m_[m))_[46m)[m[24;67H6-93[15;13H[?12l[?25h[?25l[46mt[m))t[46m)[m[24;67H7-94[15;14H[?12l[?25h[?25l[46ma[m))a[46m)[m[24;67H8-95[15;15H[?12l[?25h[?25l[46mg[m))g[46m)[m[24;67H9-96[15;16H[?12l[?25h[?25l[46m1[m))1[46m)[m[24;66H90-97[15;17H[?12l[?25h[?25l[14;38H[46m([m[41C,,[15;1H[33ms[m[5C([9C)[46m)[m[24;67H1-98[15;18H[?12l[?25h[?25l[24;67H2-99[15;19H[?12l[?25h[?25l;[14;38H([41C,,[15;1H[33ms[m[16C)[24;67H3-100[15;20H[?12l[?25h[?25l[16;23r[16;1H[L[1;24r[24;63H[K[24;63H22,2-9[8C70%[16;9H[?12l[?25h[?25lp[24;66H3-10[16;10H[?12l[?25h[?25lr[24;66H4-11[16;11H[?12l[?25h[?25li[24;66H5-12[16;12H[?12l[?25h[?25ln[24;66H6-13[16;13H[?12l[?25h[?25lt[24;66H7-14[16;14H[?12l[?25h[?25lf[24;66H8-15[16;15H[?12l[?25h[?25l([24;66H9-16[16;16H[?12l[?25h[?25l)[46m()[m[24;66H10-17[16;17H[?12l[?25h[?25l;()[24;67H1-18[16;18H[?12l[?25h[?25l[46m()[m[24;67H0-17[16;17H[?12l[?25h[?25l[24;66H9-16 [16;16H[?12l[?25h[?25l[46mK[m);K[46m)[m[24;66H10-17[16;17H[?12l[?25h[?25l[46mE[m);E[46m)[m[24;67H1-18[16;18H[?12l[?25h[?25l[46mR[m);R[46m)[m[24;67H2-19[16;19H[?12l[?25h[?25l[46mN[m);N[46m)[m[24;67H3-20[16;20H[?12l[?25h[?25l[46m_[m);_[46m)[m[24;67H4-21[16;21H[?12l[?25h[?25l[46mI[m);I[46m)[m[24;67H5-22[16;22H[?12l[?25h[?25l[46mN[m);N[46m)[m[24;67H6-23[16;23H[?12l[?25h[?25l[46mF[m);F[46m)[m[24;67H7-24[16;24H[?12l[?25h[?25l[46mO[m);O[46m)[m[24;67H8-25[16;25H[?12l[?25h[?25l[46m [m); [46m)[m[24;67H9-26[16;26H[?12l[?25h[?25l[31m[46m"[m[31m);
        return 1;
}
static void __init mailbox_exit(void){
        printk(KERN_INFO [m[1Cexit\n[1C[31m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);[16;26H"[m[31m[46m)[m[24;66H20-27[16;27H[?12l[?25h[?25l[31m[46m"[m);
        [33mreturn[m [1C;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){
        printk(KERN_INFO [1C[31mexit[m[35m\n[m[1C);
}
module_init(mailbox_init);
module_exit(mailbox_exit);[16;27H[31m"[m[46m)[m[24;67H1-28[16;28H[?12l[?25h[?25l[16;15H([12C)[24;67H0-27[16;27H[?12l[?25h[?25l[31mB"[m);[24;67H1-28[16;28H[?12l[?25h[?25l[31ml"[m);[24;67H2-29[16;29H[?12l[?25h[?25l[31mo"[m);[24;67H3-30[16;30H[?12l[?25h[?25l[31ma"[m);[24;67H4-31[16;31H[?12l[?25h[?25l[31mc"[m);[24;67H5-32[16;32H[?12l[?25h[?25l[31mk"[m);[24;67H6-33[16;33H[?12l[?25h[?25l[24;67H5-32[16;32H[?12l[?25h[?25l[24;67H4-31[16;31H[?12l[?25h[?25l[31mck"[m);[16;35H[K[24;67H3-30[16;30H[?12l[?25h[?25l[24;67H4-31[16;31H[?12l[?25h[?25l[24;67H5-32[16;32H[?12l[?25h[?25l[31m "[m);[24;67H6-33[16;33H[?12l[?25h[?25l[31mN"[m);[24;67H7-34[16;34H[?12l[?25h[?25l[31mo"[m);[24;67H8-35[16;35H[?12l[?25h[?25l[31m:"[m);[24;67H9-36[16;36H[?12l[?25h[?25l[31m%"[m);[24;66H30-37[16;37H[?12l[?25h[?25l[35m%s[m[31m"[m);[24;67H1-38[16;38H[?12l[?25h[?25l[31m%"[m);[16;40H[K[24;67H0-37[16;37H[?12l[?25h[?25l[35m%x[m[31m"[m);[24;67H1-38[16;38H[?12l[?25h[?25l[31m,"[m);[24;67H2-39[16;39H[?12l[?25h[?25l[31m "[m);[24;67H3-40[16;40H[?12l[?25h[?25l[31ms"[m);[24;67H4-41[16;41H[?12l[?25h[?25l[31mt"[m);[24;67H5-42[16;42H[?12l[?25h[?25l[31ma"[m);[24;67H6-43[16;43H[?12l[?25h[?25l[31mt"[m);[24;67H7-44[16;44H[?12l[?25h[?25l[31mu"[m);[24;67H8-45[16;45H[?12l[?25h[?25l[31ms"[m);[24;67H9-46[16;46H[?12l[?25h[?25l[31m:"[m);[24;66H40-47[16;47H[?12l[?25h[?25l[31m "[m);[24;67H1-48[16;48H[?12l[?25h[?25l[31m"[m);[16;50H[K[24;67H0-47[16;47H[?12l[?25h[?25l[31m%"[m);[24;67H1-48[16;48H[?12l[?25h[?25l[35m%x[m[31m"[m);[24;67H2-49[16;49H[?12l[?25h[?25l[31m,"[m);[24;67H3-50[16;50H[?12l[?25h[?25l[31m "[m);[24;67H4-51[16;51H[?12l[?25h[?25l[31me"[m);[24;67H5-52[16;52H[?12l[?25h[?25l[31mr"[m);[24;67H6-53[16;53H[?12l[?25h[?25l[31mr"[m);[24;67H7-54[16;54H[?12l[?25h[?25l[31mo"[m);[24;67H8-55[16;55H[?12l[?25h[?25l[31mr"[m);[24;67H9-56[16;56H[?12l[?25h[?25l[31m:"[m);[24;66H50-57[16;57H[?12l[?25h[?25l[31m%"[m);[24;67H1-58[16;58H[?12l[?25h[?25l[35m%x[m[31m"[m);[24;67H2-59[16;59H[?12l[?25h[?25l[31m%"[m);[16;61H[K[24;67H1-58[16;58H[?12l[?25h[?25l[35m%d[m[31m"[m);[24;67H2-59[16;59H[?12l[?25h[?25l[16;15H[46m([44C)[m[24;67H3-60[16;60H[?12l[?25h[?25l[46m,[m);,[46m)[m[24;67H4-61[16;61H[?12l[?25h[?25l[46me[m);e[46m)[m[24;67H5-62[16;62H[?12l[?25h[?25l[46md[m);d[46m)[m[24;67H6-63[16;63H[?12l[?25h[?25l[46mi[m);i[46m)[m[24;67H7-64[16;64H[?12l[?25h[?25l[46md[m);d[46m)[m[24;67H8-65[16;65H[?12l[?25h[?25l[46m_[m);_[46m)[m[24;67H9-66[16;66H[?12l[?25h[?25l[46mt[m);t[46m)[m[24;66H60-67[16;67H[?12l[?25h[?25l[46ma[m);a[46m)[m[24;67H1-68[16;68H[?12l[?25h[?25l[46mg[m);g[46m)[m[24;67H2-69[16;69H[?12l[?25h[?25l[46m1[m);1[46m)[m[24;67H3-70[16;70H[?12l[?25h[?25l[46m.[m);.[46m)[m[24;67H4-71[16;71H[?12l[?25h[?25l[46mb[m);b[46m)[m[24;67H5-72[16;72H[?12l[?25h[?25l[46ml[m);l[46m)[m[24;67H6-73[16;73H[?12l[?25h[?25l[46mo[m);o[46m)[m[24;67H7-74[16;74H[?12l[?25h[?25l[46mc[m);c[46m)[m[24;67H8-75[16;75H[?12l[?25h[?25l[46mk[m);k[46m)[m[24;67H9-76[16;76H[?12l[?25h[?25l[46m_[m);_[46m)[m[24;66H70-77[16;77H[?12l[?25h[?25l[46mn[m);n[46m)[m[24;67H1-78[16;78H[?12l[?25h[?25l[46mu[m);[16;78Hu[46m)[m[24;67H2-79[16;79H[?12l[?25h[?25l[17;23r[17;1H[L[1;24r[16;79H[46mm[m))[17;1H;[24;63H[K[24;63H22,73-80      63%[16;79Hm[46m))[m[17;1H;[16;80H[?12l[?25h[?25l[46mbb[m[17;1H);[16;80Hbb[17;1H[46m)[m[24;67H4-81[17;1H[?12l[?25h[?25l[46me[m);e[46m)[m[24;67H5-82[17;2H[?12l[?25h[?25l[46mr[m);er[46m)[m[24;67H6-83[17;3H[?12l[?25h[?25l[46m,[m);,[46m)[m[24;67H7-84[17;4H[?12l[?25h[?25l[46me[m);e[46m)[m[24;67H8-85[17;5H[?12l[?25h[?25l[46md[m);d[46m)[m[24;67H9-86[17;6H[?12l[?25h[?25l[46mi[m);i[46m)[m[24;66H80-87[17;7H[?12l[?25h[?25l[46md[m);d[46m)[m[24;67H1-88[17;8H[?12l[?25h[?25l[46m.[m);.[46m)[m[24;67H2-89[17;9H[?12l[?25h[?25l[46mt[m);t[46m)[m[24;67H3-90[17;10H[?12l[?25h[?25l[46ma[m);a[46m)[m[24;67H4-91[17;11H[?12l[?25h[?25l[46mg[m);g[46m)[m[24;67H5-92[17;12H[?12l[?25h[?25l[46m1[m);1[46m)[m[24;67H6-93[17;13H[?12l[?25h[?25l[16;15H([64Cbb[17;1He[11C)[24;67H5-92[17;12H[?12l[?25h[?25l[24;67H4-91[17;11H[?12l[?25h[?25l[24;67H3-90[17;10H[?12l[?25h[?25l[24;67H2-89[17;9H[?12l[?25h[?25ltag1);[17;14H[K[24;67H1-88[17;8H[?12l[?25h[?25l_tag1);[24;67H2-89[17;9H[?12l[?25h[?25l[24;67H3-90[17;10H[?12l[?25h[?25l[24;67H4-91[17;11H[?12l[?25h[?25l[24;67H5-92[17;12H[?12l[?25h[?25l[16;15H[46m([m[64Cbb[17;1He[11C[46m)[m[24;67H6-93[17;13H[?12l[?25h[?25l[46m.[m);.[46m)[m[24;67H7-94[17;14H[?12l[?25h[27m[23m[m[H[2J[?25l[2;1H[32mstruct[m edid_tag{[3;9Hu32 block_number;[4;9Hu32 status;[5;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[9;9H[32mint[m error;[10;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[11;9H[32mstruct[m device_node *fw = [31mNULL[m;[12;9H[34m//fw = of_find_compatible_node(NULL,);[m[13;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[14;9Hprintf(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[15;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,,[16;1H[33msizeof[m(edid_tag1));[17;9Hprintf[46m([mKERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_numbb[18;1Her,edid_tag1.[46m)[m;[19;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[22;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
[1m-- INSERT --[m[50C22,87-94      60%[18;14H[?12l[?25h[27m[23m[m[H[2J[?25l[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[9;9Hu32 block_number;[10;9Hu32 status;[11;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[15;9H[32mint[m error;[16;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;9H[32mstruct[m device_node *fw = [31mNULL[m;[18;9H[34m//fw = of_find_compatible_node(NULL,);[m[19;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;9Hprintf(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[22;9Hprintf[46m([mKERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.[46m)[m;[23;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[26;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                                                                                               [34;1H~                                                                                                                                               [35;1H~                                                                                                                                               [36;1H~                                                                                                                                               [37;1H~                                                                                                                                               [38;1H~                                                                                                                                               [39;1H~                                                                                                                                               [40;1H~                                                                                                                                               [m[41;1H[1m-- INSERT --[m[114C21,87-94      All[21;94H[?12l[?25h[?25l[41;127H[K[41;127H21,87-94      All[22;15H([78C)[21;94H[?12l[?25h[?25l[1;40r[1;1H[3M[1;41r[38;1H[1m[34m~                                                                                                                                               [39;1H~                                                                                                                                               [40;1H~                                                                                                                                               [m[41;127H[K[41;127H21,87-94      Bot[18;94H[?12l[?25h[?25l[1;40r[1;1H[3M[1;41r[38;1H[1m[34m~                                                                                                                                               [39;1H~                                                                                                                                               [40;1H~                                                                                                                                               [m[41;127H[K[41;127H21,87-94      Bot[15;94H[?12l[?25h[?25l[41;128H0,48-55[14;55H[?12l[?25h[?25l[41;128H1,87-94[15;94H[?12l[?25h[?25l[16;15H[46m([78C)[m[41;128H2[16;94H[?12l[?25h[?25l[46ms[m);s[46m)[m[41;131H8-95[16;95H[?12l[?25h[?25l[46mt[m);t[46m)[m[41;131H9-96[16;96H[?12l[?25h[?25l[46ma[m);a[46m)[m[41;130H90-97[16;97H[?12l[?25h[?25l[46mt[m);t[46m)[m[41;131H1-98[16;98H[?12l[?25h[?25l[46mu[m);u[46m)[m[41;131H2-99[16;99H[?12l[?25h[?25l[46ms[m);s[46m)[m[41;131H3-100[16;100H[?12l[?25h[?25l[46m.[m);.[46m)[m[41;131H4-101[16;101H[?12l[?25h[?25l)[46m;[m[16;102H[K[16;100H[46m)[m;[41;131H3-100[16;100H[?12l[?25h[?25l[46m,[m);,[46m)[m[41;131H4-101[16;101H[?12l[?25h[?25l[46me[m);e[46m)[m[41;131H5-102[16;102H[?12l[?25h[?25l[46mr[m);r[46m)[m[41;131H6-103[16;103H[?12l[?25h[?25l[46mr[m);r[46m)[m[41;131H7-104[16;104H[?12l[?25h[?25l[46mo[m);o[46m)[m[41;131H8-105[16;105H[?12l[?25h[?25l[46mr[m);r[46m)[m[41;131H9-106[16;106H[?12l[?25h[?25l[41;130H100-107[16;107H[?12l[?25h[?25l[16;15H([90C)[41;132H1-108[16;108H[?12l[?25h[?25l[17;40r[17;1H[L[1;41r[41;127H[K[41;127H23,2-9[8CBot[17;9H[?12l[?25h[?25l[41;130H1  [17;1H[?12l[?25h[?25l[16;40r[40;1H
[1;41r[16;9Hprintf(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[40;1H[1m[34m~                                                                                                                                               [m[41;127H[K[41;127H22,101-108    Bot[16;108H[?12l[?25h[?25l[41;128H1,93-100 [15;100H[?12l[?25h[?25l[41;128H0,48-55 [14;55H[?12l[?25h[?25l[15;40r[15;1H[L[1;41r[41;127H[K[41;127H21,2-9[8CBot[15;9H[?12l[?25h[?25le[41;130H3-10[15;10H[?12l[?25h[?25ld[41;130H4-11[15;11H[?12l[?25h[?25li[41;130H5-12[15;12H[?12l[?25h[?25ld[41;130H6-13[15;13H[?12l[?25h[?25l_[41;130H7-14[15;14H[?12l[?25h[?25lt[41;130H8-15[15;15H[?12l[?25h[?25la[41;130H9-16[15;16H[?12l[?25h[?25lg[41;130H10-17[15;17H[?12l[?25h[?25l1[41;131H1-18[15;18H[?12l[?25h[?25l.[41;131H2-19[15;19H[?12l[?25h[?25lb[41;131H3-20[15;20H[?12l[?25h[?25ll[41;131H4-21[15;21H[?12l[?25h[?25lo[41;131H5-22[15;22H[?12l[?25h[?25lc[41;131H6-23[15;23H[?12l[?25h[?25lk[41;131H7-24[15;24H[?12l[?25h[?25l_[41;131H8-25[15;25H[?12l[?25h[?25ln[41;131H9-26[15;26H[?12l[?25h[?25lu[41;130H20-27[15;27H[?12l[?25h[?25lm[41;131H1-28[15;28H[?12l[?25h[?25lb[41;131H2-29[15;29H[?12l[?25h[?25le[41;131H3-30[15;30H[?12l[?25h[?25lr[41;131H4-31[15;31H[?12l[?25h[?25l[41;131H5-32[15;32H[?12l[?25h[?25l=[41;131H6-33[15;33H[?12l[?25h[?25l[41;131H7-34[15;34H[?12l[?25h[?25l;[41;131H8-35[15;35H[?12l[?25h[?25l[41;131H7-34[15;34H[?12l[?25h[?25l[31m0[m;[41;131H8-35[15;35H[?12l[?25h[41;1H[K[15;34H[?25l[41;117H^[[15;34H[41;117H  [15;35H[41;127H21,27-34      Bot[15;34H[?12l[?25h[?25l[41;117HV[15;34H[41;117H1[15;34H[7m        edid_tag1.block_number = [1C; [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[15;34H[41;127H21,27-34      Bot[15;34H[?12l[?25h[?25l[41;117Ht[15;34H[?12l[?25h[?25l[41;118H~@k[15;34H[41;117H1   [15;34H[?12l[?25h[?25l[41;117H~@k[15;34H[41;117H2  [14;34H[7m        printf(KERN_INFO [m[7m[31m"rpi_fir[1Cware_get := [m[7m[35m%p[m[7m[31m"[m[7m,fw); [m[15;34H[7m[31m0[m[41;128H0[14;34H[?12l[?25h[?25l[41;117H~@k[14;34H[41;117H1  [15;34H[14;1H        printf(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[14;55H[K[15;34H[31m0[m[41;128H1[15;34H[?12l[?25h[?25l[41;117H^[[15;34H[41;117H1 [15;34H[41;118H^[[15;34H[41;117H   [15;34H        edid_tag1.block_number = [1C;[15;36H[K[41;1H[K[41;127H21,27-34      Bot[15;34H[?12l[?25h[?25l[41;117HV[15;34H[41;117H1[15;34H[7m        edid_tag1.block_number = [1C; [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[15;34H[41;127H21,27-34      Bot[15;34H[?12l[?25h[?25l[41;117Hy[15;34H[41;117H [15;8H        edid_tag1.block_number = [1C;[15;36H[K[41;1H[K[41;127H21,1-8[8CBot[15;8H[?12l[?25h[?25l[41;117Hp[15;8H[41;117H [16;9H[16;40r[16;1H[L[1;41r[16;9Hedid_tag1.block_number = [31m0[m;[41;127H[K[41;127H22,2-9[8CBot[16;9H[?12l[?25h[?25l[41;117H~@k[16;9H[41;117H   [16;10H[41;130H3-10[16;10H[?12l[?25h[?25l[41;117H~@k[16;10H[41;117H   [16;11H[41;130H4-11[16;11H[?12l[?25h[?25l[41;117H~@k[16;11H[41;117H   [16;12H[41;130H5-12[16;12H[?12l[?25h[?25l[41;117H~@k[16;12H[41;117H   [16;13H[41;130H6-13[16;13H[?12l[?25h[?25l[41;117H~@k[16;13H[41;117H   [16;14H[41;130H7-14[16;14H[?12l[?25h[?25l[41;117H~@k[16;14H[41;117H   [16;15H[41;130H8-15[16;15H[?12l[?25h[?25l[41;117H~@k[16;15H[41;117H   [16;16H[41;130H9-16[16;16H[?12l[?25h[?25l[41;117H~@k[16;16H[41;117H   [16;17H[41;130H10-17[16;17H[?12l[?25h[?25l[41;117H~@k[16;17H[41;117H   [16;18H[41;131H1-18[16;18H[?12l[?25h[?25l[41;117H~@k[16;18H[41;117H   [16;19H[41;131H2-19[16;19H[?12l[?25h[?25l[41;117H~@k[16;19H[41;117H   [16;20H[41;131H3-20[16;20H[?12l[?25h[?25l[41;117H~@k[16;20H[41;117H   [16;21H[41;131H4-21[16;21H[?12l[?25h[?25l[41;117H~@k[16;21H[41;117H   [16;22H[41;131H5-22[16;22H[?12l[?25h[?25l[41;117H~@k[16;22H[41;117H   [16;23H[41;131H6-23[16;23H[?12l[?25h[?25l[41;117H~@k[16;23H[41;117H   [16;24H[41;131H7-24[16;24H[?12l[?25h[?25l[41;117H~@k[16;24H[41;117H   [16;25H[41;131H8-25[16;25H[?12l[?25h[?25l[41;117H~@k[16;25H[41;117H   [16;26H[41;131H9-26[16;26H[?12l[?25h[?25l[41;117H~@k[16;26H[41;117H   [16;27H[41;130H20-27[16;27H[?12l[?25h[?25l[41;117H~@k[16;27H[41;117H   [16;28H[41;131H1-28[16;28H[?12l[?25h[?25l[41;117H~@k[16;28H[41;117H   [16;29H[41;131H2-29[16;29H[?12l[?25h[?25l[41;117H~@k[16;29H[41;117H   [16;30H[41;131H3-30[16;30H[?12l[?25h[?25l[41;117H~@k[16;30H[41;117H   [16;31H[41;131H4-31[16;31H[?12l[?25h[?25l[41;117H~@k[16;31H[41;117H   [16;30H[41;131H3-30[16;30H[?12l[?25h[?25l[41;117H~@k[16;30H[41;117H   [16;29H[41;131H2-29[16;29H[?12l[?25h[?25l[41;117H~@k[16;29H[41;117H   [16;28H[41;131H1-28[16;28H[?12l[?25h[?25l[41;117H~@k[16;28H[41;117H   [16;27H[41;131H0-27[16;27H[?12l[?25h[?25l[41;117Hi[16;27H[41;117H [16;27H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H22,20-27      Bot[16;27H[?12l[?25h[?25l[41;131H1-28[16;28H[?12l[?25h[?25l[41;131H2-29[16;29H[?12l[?25h[?25l[41;131H3-30[16;30H[?12l[?25h[?25l[41;131H4-31[16;31H[?12l[?25h[?25l = [31m0[m;[16;35H[K[41;131H3-30[16;30H[?12l[?25h[?25l = [31m0[m;[16;34H[K[41;131H2-29[16;29H[?12l[?25h[?25l = [31m0[m;[16;33H[K[41;131H1-28[16;28H[?12l[?25h[?25l = [31m0[m;[16;32H[K[41;131H0-27[16;27H[?12l[?25h[?25l = [31m0[m;[16;31H[K[41;130H19-26[16;26H[?12l[?25h[?25l = [31m0[m;[16;30H[K[41;131H8-25[16;25H[?12l[?25h[?25l = [31m0[m;[16;29H[K[41;131H7-24[16;24H[?12l[?25h[?25l = [31m0[m;[16;28H[K[41;131H6-23[16;23H[?12l[?25h[?25l = [31m0[m;[16;27H[K[41;131H5-22[16;22H[?12l[?25h[?25l = [31m0[m;[16;26H[K[41;131H4-21[16;21H[?12l[?25h[?25l = [31m0[m;[16;25H[K[41;131H3-20[16;20H[?12l[?25h[?25l = [31m0[m;[16;24H[K[41;131H2-19[16;19H[?12l[?25h[?25ls = [31m0[m;[41;131H3-20[16;20H[?12l[?25h[?25lt = [31m0[m;[41;131H4-21[16;21H[?12l[?25h[?25la = [31m0[m;[41;131H5-22[16;22H[?12l[?25h[?25lt = [31m0[m;[41;131H6-23[16;23H[?12l[?25h[?25lu = [31m0[m;[41;131H7-24[16;24H[?12l[?25h[?25ls = [31m0[m;[41;131H8-25[16;25H[?12l[?25h[?25l[41;131H9-26[16;26H[?12l[?25h[?25l[41;130H20-27[16;27H[?12l[?25h[?25l[41;131H1-28[16;28H[?12l[?25h[?25l[41;131H2-29[16;29H[?12l[?25h[?25l[41;131H3-30[16;30H[?12l[?25h[?25l[17;40r[17;1H[L[1;41r[41;127H[K[41;127H23,2-9[8CBot[17;9H[?12l[?25h[?25lf[41;130H3-10[17;10H[?12l[?25h[?25lo[41;130H4-11[17;11H[?12l[?25h[?25l[33mfor[m[41;130H5-12[17;12H[?12l[?25h[?25l([41;130H6-13[17;13H[?12l[?25h[?25l)[46m()[m[41;130H7-14[17;14H[?12l[?25h[?25l[41;130H6-13[17;13H[?12l[?25h[?25l[46mi[m)i[46m)[m[41;130H7-14[17;14H[?12l[?25h[?25l)[17;14H[K[17;13H[46m)[m[41;130H6-13[17;13H[?12l[?25h[?25l[46me[m)e[46m)[m[41;130H7-14[17;14H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;130H8-15[17;15H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;130H9-16[17;16H[?12l[?25h[?25l[46mo[m)o[46m)[m[41;130H10-17[17;17H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H1-18[17;18H[?12l[?25h[?25l[46m=[m)=[46m)[m[41;131H2-19[17;19H[?12l[?25h[?25l[31m[46m0[m)[31m0[m[46m)[m[41;131H3-20[17;20H[?12l[?25h[?25l[46m;[m);[46m)[m[41;131H4-21[17;21H[?12l[?25h[?25l[46me[m)e[46m)[m[41;131H5-22[17;22H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H6-23[17;23H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H7-24[17;24H[?12l[?25h[?25l[46mo[m)o[46m)[m[41;131H8-25[17;25H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H9-26[17;26H[?12l[?25h[?25l[46m<[m)<[46m)[m[41;130H20-27[17;27H[?12l[?25h[?25l[31m[46m1[m)[31m1[m[46m)[m[41;131H1-28[17;28H[?12l[?25h[?25l[31m[46m2[m)[31m2[m[46m)[m[41;131H2-29[17;29H[?12l[?25h[?25l[31m[46m8[m)[31m8[m[46m)[m[41;131H3-30[17;30H[?12l[?25h[?25l[46m;[m);[46m)[m[41;131H4-31[17;31H[?12l[?25h[?25l[46me[m)e[46m)[m[41;131H5-32[17;32H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H6-33[17;33H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H7-34[17;34H[?12l[?25h[?25l[46mo[m)o[46m)[m[41;131H8-35[17;35H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H9-36[17;36H[?12l[?25h[?25l[46m+[m)+[46m)[m[41;130H30-37[17;37H[?12l[?25h[?25l[46m+[m)+[46m)[m[41;131H1-38[17;38H[?12l[?25h[?25l[41;131H2-39[17;39H[?12l[?25h[?25l[18;40r[18;1H[L[1;41r[41;127H[K[41;127H24,3-17[7CBot[17;12H([25C)[18;17H[?12l[?25h[?25le[41;130H4-18[18;18H[?12l[?25h[?25ld[41;130H5-19[18;19H[?12l[?25h[?25li[41;130H6-20[18;20H[?12l[?25h[?25ld[41;130H7-21[18;21H[?12l[?25h[?25l_[41;130H8-22[18;22H[?12l[?25h[?25lt[41;130H9-23[18;23H[?12l[?25h[?25la[41;130H10-24[18;24H[?12l[?25h[?25lg[41;131H1-25[18;25H[?12l[?25h[?25l1[41;131H2-26[18;26H[?12l[?25h[?25l.[41;131H3-27[18;27H[?12l[?25h[?25le[41;131H4-28[18;28H[?12l[?25h[?25ld[41;131H5-29[18;29H[?12l[?25h[?25li[41;131H6-30[18;30H[?12l[?25h[?25ld[41;131H7-31[18;31H[?12l[?25h[?25l_[41;131H8-32[18;32H[?12l[?25h[?25lb[41;131H9-33[18;33H[?12l[?25h[?25ll[41;130H20-34[18;34H[?12l[?25h[?25lo[41;131H1-35[18;35H[?12l[?25h[?25lc[41;131H2-36[18;36H[?12l[?25h[?25lk[41;131H3-37[18;37H[?12l[?25h[?25l[[19;99H[1m[37m[41m;[20;107H;[21;17H;[m[41;131H4-38[18;38H[?12l[?25h[?25l][19;99H;[20;107H;[21;17H;[18;37H[46m[][m[41;131H5-39[18;39H[?12l[?25h[?25l[41;131H4-38[18;38H[?12l[?25h[?25l[46me[m]e[46m][m[41;131H5-39[18;39H[?12l[?25h[?25l[46mr[m]r[46m][m[41;131H6-40[18;40H[?12l[?25h[?25l[46mr[m]r[46m][m[41;131H7-41[18;41H[?12l[?25h[?25l[46mo[m]o[46m][m[41;131H8-42[18;42H[?12l[?25h[?25l[46mr[m]r[46m][m[41;131H9-43[18;43H[?12l[?25h[?25l[41;130H30-44[18;44H[?12l[?25h[?25l[18;37H[error][41;131H1-45[18;45H[?12l[?25h[?25l=[41;131H2-46[18;46H[?12l[?25h[?25l[41;131H3-47[18;47H[?12l[?25h[?25l[31m0[m[41;131H4-48[18;48H[?12l[?25h[?25l;[41;131H5-49[18;49H[?12l[?25h[?25l[41;128H5,42[19;49H[?12l[?25h[?25l[41;128H6[20;49H[?12l[?25h[?25l[41;131H3-50[20;50H[?12l[?25h[?25l[41;131H4-51[20;51H[?12l[?25h[?25l[41;131H5-52[20;52H[?12l[?25h[?25l[41;131H6-53[20;53H[?12l[?25h[?25l[41;131H7-54[20;54H[?12l[?25h[?25l[41;131H8-55[20;55H[?12l[?25h[?25l[41;131H9-56[20;56H[?12l[?25h[?25l[41;130H50-57[20;57H[?12l[?25h[?25l[41;131H1-58[20;58H[?12l[?25h[?25l[41;131H2-59[20;59H[?12l[?25h[?25l[41;131H3-60[20;60H[?12l[?25h[?25l[41;131H4-61[20;61H[?12l[?25h[?25l[41;131H5-62[20;62H[?12l[?25h[?25l[41;131H6-63[20;63H[?12l[?25h[?25l[41;131H7-64[20;64H[?12l[?25h[?25l[41;131H8-65[20;65H[?12l[?25h[?25l[41;131H9-66[20;66H[?12l[?25h[?25l[41;130H60-67[20;67H[?12l[?25h[?25l[41;131H1-68[20;68H[?12l[?25h[?25l[41;131H2-69[20;69H[?12l[?25h[?25l[41;131H3-70[20;70H[?12l[?25h[?25l[41;131H4-71[20;71H[?12l[?25h[?25l[41;131H5-72[20;72H[?12l[?25h[?25l[41;131H6-73[20;73H[?12l[?25h[?25l[41;131H7-74[20;74H[?12l[?25h[?25l[41;131H8-75[20;75H[?12l[?25h[?25l[41;131H9-76[20;76H[?12l[?25h[?25l[41;130H70-77[20;77H[?12l[?25h[?25l[41;131H1-78[20;78H[?12l[?25h[?25l[41;131H2-79[20;79H[?12l[?25h[?25l[41;131H3-80[20;80H[?12l[?25h[?25l[41;131H4-81[20;81H[?12l[?25h[?25l[41;131H5-82[20;82H[?12l[?25h[?25l[41;131H6-83[20;83H[?12l[?25h[?25l[41;131H7-84[20;84H[?12l[?25h[?25l[41;131H8-85[20;85H[?12l[?25h[?25l[41;131H9-86[20;86H[?12l[?25h[?25l[41;130H80-87[20;87H[?12l[?25h[?25l[41;131H1-88[20;88H[?12l[?25h[?25l[41;131H2-89[20;89H[?12l[?25h[?25l[41;131H3-90[20;90H[?12l[?25h[?25l[41;131H4-91[20;91H[?12l[?25h[?25l[41;131H5-92[20;92H[?12l[?25h[?25l[41;131H6-93[20;93H[?12l[?25h[?25l[41;131H7-94[20;94H[?12l[?25h[?25l[41;131H8-95[20;95H[?12l[?25h[?25l[41;131H9-96[20;96H[?12l[?25h[?25l[41;130H90-97[20;97H[?12l[?25h[?25l[41;131H1-98[20;98H[?12l[?25h[?25l[41;131H2-99[20;99H[?12l[?25h[?25l[41;131H3-100[20;100H[?12l[?25h[?25l[41;131H4-101[20;101H[?12l[?25h[?25l[41;131H5-102[20;102H[?12l[?25h[?25l[41;131H6-103[20;103H[?12l[?25h[?25l[41;131H7-104[20;104H[?12l[?25h[?25l[41;131H8-105[20;105H[?12l[?25h[?25l[20;15H[46m([90C)[m[41;131H9-106[20;106H[?12l[?25h[?25l[41;130H100-107[20;107H[?12l[?25h[?25l[20;15H([90C)[41;132H1-108[20;108H[?12l[?25h[?25l[21;40r[21;1H[L[1;41r[41;127H[K[41;127H27,2-9[8CBot[21;9H[?12l[?25h[?25lf[41;130H3-10[21;10H[?12l[?25h[?25lo[41;130H4-11[21;11H[?12l[?25h[?25l[33mfor[m[41;130H5-12[21;12H[?12l[?25h[?25l[1m[37m[41m)[m[41;130H6-13[21;13H[?12l[?25h[?25l[21;12H[K[41;130H5-12[21;12H[?12l[?25h[?25l([41;130H6-13[21;13H[?12l[?25h[?25l)[46m()[m[41;130H7-14[21;14H[?12l[?25h[?25l[41;130H6-13[21;13H[?12l[?25h[?25l[46me[m)e[46m)[m[41;130H7-14[21;14H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;130H8-15[21;15H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;130H9-16[21;16H[?12l[?25h[?25l[46mo[m)o[46m)[m[41;130H10-17[21;17H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H1-18[21;18H[?12l[?25h[?25l[46m=[m)=[46m)[m[41;131H2-19[21;19H[?12l[?25h[?25l[31m[46m0[m)[31m0[m[46m)[m[41;131H3-20[21;20H[?12l[?25h[?25l[46m;[m);[46m)[m[41;131H4-21[21;21H[?12l[?25h[?25l[46me[m)e[46m)[m[41;131H5-22[21;22H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H6-23[21;23H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H7-24[21;24H[?12l[?25h[?25l[46mo[m)o[46m)[m[41;131H8-25[21;25H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;131H9-26[21;26H[?12l[?25h[?25l[21;12H([13C)[41;128H6[20;26H[?12l[?25h[?25l[21;12H[46m([13C)[m[41;128H7[21;26H[?12l[?25h[?25l[46m<[m)<[46m)[m[41;130H20-27[21;27H[?12l[?25h[?25l[31m[46m1[m)[31m1[m[46m)[m[41;131H1-28[21;28H[?12l[?25h[?25l[31m[46m2[m)[31m2[m[46m)[m[41;131H2-29[21;29H[?12l[?25h[?25l[31m[46m8[m)[31m8[m[46m)[m[41;131H3-30[21;30H[?12l[?25h[?25l[41;131H4-31[21;31H[?12l[?25h[?25l{[21;12H([17C)[46m{

}[m[41;131H5-32[21;32H[?12l[?25h[?25l}[46m}[m

}[41;131H6-33[21;33H[?12l[?25h[?25l[41;131H5-32[21;32H[?12l[?25h[?25l[22;40r[22;1H[L[1;41r[21;32H[K[22;9H}[41;127H[K[41;127H28,2-9[8CBot[22;9H[46m}[?12l[?25h[?25l[23;40r[m[23;1H[L[1;41r[22;9H[K[23;9H}[41;127H[K[41;127H29,2-9[8CBot[23;9H[46m}[?12l[?25h[?25l[m[21;31H{[23;9H}[41;128H8[22;9H[?12l[?25h[?25l[41;130H3-17[22;17H[?12l[?25h[?25l[41;128H7,10-17[21;17H[?12l[?25h[?25l[41;131H1-18[21;18H[?12l[?25h[?25l[41;131H2-19[21;19H[?12l[?25h[?25l[41;131H3-20[21;20H[?12l[?25h[?25l[41;131H4-21[21;21H[?12l[?25h[?25l[41;131H5-22[21;22H[?12l[?25h[?25l[41;131H6-23[21;23H[?12l[?25h[?25l[41;131H7-24[21;24H[?12l[?25h[?25l[41;131H8-25[21;25H[?12l[?25h[?25l[41;131H9-26[21;26H[?12l[?25h[?25l[41;130H20-27[21;27H[?12l[?25h[?25l[41;131H1-28[21;28H[?12l[?25h[?25l[41;131H2-29[21;29H[?12l[?25h[?25l[21;12H[46m([17C)[m[41;131H3-30[21;30H[?12l[?25h[?25l[46m;[m){;[46m)[m[41;131H4-31[21;31H[?12l[?25h[?25l[46me[m){e[46m)[m[41;131H5-32[21;32H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H6-33[21;33H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H7-34[21;34H[?12l[?25h[?25l[46mo[m){o[46m)[m[41;131H8-35[21;35H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H9-36[21;36H[?12l[?25h[?25l[46m+[m){+[46m)[m[41;130H30-37[21;37H[?12l[?25h[?25l[46m+[m){+[46m)[m[41;131H1-38[21;38H[?12l[?25h[?25l[21;12H([25C)[46m{[23;9H}[m[41;131H2-39[21;39H[?12l[?25h[?25l[41;131H3-40[21;40H[?12l[?25h[?25l[22;40r[22;1H[L[1;41r[23;9H[46m        [m[24;9H}[41;127H[K[41;127H28,3-17[7CBot[21;39H{[23;9H        [22;17H[?12l[?25h[?25l[41;130H2-9 [22;9H[?12l[?25h[?25l[41;130H1  [22;1H[?12l[?25h[?25l[21;40r[40;1H
[1;41r[21;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[40;1H[1m[34m~                                                                                                                                               [m[41;127H[K[41;127H27,33-40      Bot[21;39H[46m{[23;9H}[21;40H[?12l[?25h[?25l[m{[23;9H}[41;128H8,3-17 [22;17H[?12l[?25h[?25l[21;39H[46m{[23;9H}[m[41;128H7,33-40[21;40H[?12l[?25h[?25l{[23;9H}[41;128H6[20;40H[?12l[?25h[?25l[41;128H5[19;40H[?12l[?25h[?25l[41;128H4,26[18;40H[?12l[?25h[?25l[17;12H[46m([25C)[m[41;128H3,32-39[17;39H[?12l[?25h[?25l[17;12H([25C)[41;128H2,23-30[16;30H[?12l[?25h[?25l[41;128H1,29-36[15;36H[?12l[?25h[?25l[41;128H0,33-40[14;40H[?12l[?25h[?25l[41;131H2-39[14;39H[?12l[?25h[?25l[41;131H1-38[14;38H[?12l[?25h[?25l[41;131H0-37[14;37H[?12l[?25h[?25l[41;130H29-36[14;36H[?12l[?25h[?25l[41;131H8-35[14;35H[?12l[?25h[?25l[41;131H7-34[14;34H[?12l[?25h[?25l[41;131H6-33[14;33H[?12l[?25h[?25l[41;131H5-32[14;32H[?12l[?25h[?25l[41;131H4-31[14;31H[?12l[?25h[?25l[41;131H3-30[14;30H[?12l[?25h[?25l[41;131H2-29[14;29H[?12l[?25h[?25l[41;131H1-28[14;28H[?12l[?25h[?25l[41;131H0-27[14;27H[?12l[?25h[?25l[41;130H19-26[14;26H[?12l[?25h[?25l[41;131H8-25[14;25H[?12l[?25h[?25l[41;131H7-24[14;24H[?12l[?25h[?25l[41;131H6-23[14;23H[?12l[?25h[?25l[41;131H5-22[14;22H[?12l[?25h[?25l[41;131H4-21[14;21H[?12l[?25h[?25l[41;131H3-20[14;20H[?12l[?25h[?25l[41;131H2-19[14;19H[?12l[?25h[?25l[41;131H1-18[14;18H[?12l[?25h[?25l[41;131H0-17[14;17H[?12l[?25h[?25l[46m([37C)[m[41;130H9-16 [14;16H[?12l[?25h[?25l[41;130H8-15[14;15H[?12l[?25h[?25l[46mi[m(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,f[46mw[m);[14;15Hi[46m([m[36Cw[46m)[m[41;130H9-16[14;16H[?12l[?25h[?25l([46mK[mERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw)[46m;[m[14;55H[K[14;15H[46m([mK[36C[46m)[m;[41;130H8-15[14;15H[?12l[?25h[?25l([46mK[mERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw)[46m;[m[14;54H[K[14;14H[46m([mK[36C[46m)[m;[41;130H7-14[14;14H[?12l[?25h[?25l[46mk[m(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,f[46mw[m);[14;14Hk[46m([m[36Cw[46m)[m[41;130H8-15[14;15H[?12l[?25h[?25l([37C)[41;128H1[15;15H[?12l[?25h[?25l[41;128H2[16;15H[?12l[?25h[?25l[41;128H3[17;15H[?12l[?25h[?25l[41;128H4,2-9 [18;9H[?12l[?25h[?25l[41;128H5,8-15[19;15H[?12l[?25h[?25l[20;15H[46m([90C)[m[41;128H6[20;15H[?12l[?25h[?25l([46mK[mERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error)[46m;[m[20;107H[K[20;14H[46m([mK[89C[46m)[m;[41;130H7-14[20;14H[?12l[?25h[?25l[46mk[m(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,erro[46mr[m);[20;14Hk[46m([m[89Cr[46m)[m[41;130H8-15[20;15H[?12l[?25h[?25l([90C)[41;128H7[21;15H[?12l[?25h[?25l[41;128H8,2-9 [22;9H[?12l[?25h[?25l[21;39H[46m{[23;9H}[m[41;128H9,3-10[23;10H[?12l[?25h[?25l[21;39H{[23;9H}[41;128H8,2-9 [22;9H[?12l[?25h[?25l[41;130H3-17[22;17H[?12l[?25h[?25lp[41;130H4-18[22;18H[?12l[?25h[?25lr[41;130H5-19[22;19H[?12l[?25h[?25li[41;130H6-20[22;20H[?12l[?25h[?25ln[41;130H7-21[22;21H[?12l[?25h[?25lt[41;130H8-22[22;22H[?12l[?25h[?25lk[41;130H9-23[22;23H[?12l[?25h[?25l([41;130H10-24[22;24H[?12l[?25h[?25l)[46m()[m[41;131H1-25[22;25H[?12l[?25h[?25l;()[41;131H2-26[22;26H[?12l[?25h[?25l[46m()[m[41;131H1-25[22;25H[?12l[?25h[?25l[41;131H0-24[22;24H[?12l[?25h[?25l[31m[46m"[m[31m);
        }
        return 1;
}
static void __init mailbox_exit(void){
        printk(KERN_INFO [m[1Cexit\n[1C[31m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([m[1Crpi driver [33mfor[m mailbox hdmi read[1C[31m);
MODULE_LICENSE([m[1CGP[2C[31m);[22;24H"[m[31m[46m)[m[41;131H1-25[22;25H[?12l[?25h[?25l[31m[46m"[m);
        }
        [33mreturn[m [1C;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){
        printk(KERN_INFO [1C[31mexit[m[35m\n[m[1C);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([1C[31mrpi driver for mailbox hdmi read[m[1C);
MODULE_LICENSE([1C[31mGP[m[2C);[22;25H[31m"[m[46m)[m[41;131H2-26[22;26H[?12l[?25h[?25l([2C)[41;131H1-25[22;25H[?12l[?25h[?25l[31me"[m);[41;131H2-26[22;26H[?12l[?25h[?25l[31md"[m);[41;131H3-27[22;27H[?12l[?25h[?25l[31mi"[m);[41;131H4-28[22;28H[?12l[?25h[?25l[31md"[m);[41;131H5-29[22;29H[?12l[?25h[?25l[31m_"[m);[41;131H6-30[22;30H[?12l[?25h[?25l[31mb"[m);[41;131H7-31[22;31H[?12l[?25h[?25l[31ml"[m);[41;131H8-32[22;32H[?12l[?25h[?25l[31mo"[m);[41;131H9-33[22;33H[?12l[?25h[?25l[31mc"[m);[41;130H20-34[22;34H[?12l[?25h[?25l[31mk"[m);[41;131H1-35[22;35H[?12l[?25h[?25l[31m["[m);[41;131H2-36[22;36H[?12l[?25h[?25l[31m]"[m);[31m[46m[][m[41;131H3-37[22;37H[?12l[?25h[?25l[41;131H2-36[22;36H[?12l[?25h[?25l[31m[46m%[m[31m]"[m);[31m%[m[31m[46m][m[41;131H3-37[22;37H[?12l[?25h[?25l[35m%[m[35m[46md[m[31m]"[m);[35md[m[31m[46m][m[41;131H4-38[22;38H[?12l[?25h[?25l[41;131H5-39[22;39H[?12l[?25h[?25l[31m "[m);[22;35H[31m[[2C][m[41;131H6-40[22;40H[?12l[?25h[?25l[31m:"[m);[41;131H7-41[22;41H[?12l[?25h[?25l[31m="[m);[41;131H8-42[22;42H[?12l[?25h[?25l[31m "[m);[41;131H9-43[22;43H[?12l[?25h[?25l[31m%"[m);[41;130H30-44[22;44H[?12l[?25h[?25l[35m%c[m[31m"[m);[41;131H1-45[22;45H[?12l[?25h[?25l[22;23H[46m([22C)[m[41;131H2-46[22;46H[?12l[?25h[?25l[46m,[m);,[46m)[m[41;131H3-47[22;47H[?12l[?25h[?25l[46me[m);e[46m)[m[41;131H4-48[22;48H[?12l[?25h[?25l[46mr[m);r[46m)[m[41;131H5-49[22;49H[?12l[?25h[?25l[46mr[m);r[46m)[m[41;131H6-50[22;50H[?12l[?25h[?25l[46mo[m);o[46m)[m[41;131H7-51[22;51H[?12l[?25h[?25l[46mr[m);r[46m)[m[41;131H8-52[22;52H[?12l[?25h[?25l[46m,[m);,[46m)[m[41;131H9-53[22;53H[?12l[?25h[?25l[46me[m);e[46m)[m[41;130H40-54[22;54H[?12l[?25h[?25l[46md[m);d[46m)[m[41;131H1-55[22;55H[?12l[?25h[?25l[46mi[m);i[46m)[m[41;131H2-56[22;56H[?12l[?25h[?25l[46md[m);d[46m)[m[41;131H3-57[22;57H[?12l[?25h[?25l[46m_[m);_[46m)[m[41;131H4-58[22;58H[?12l[?25h[?25l[46mt[m);t[46m)[m[41;131H5-59[22;59H[?12l[?25h[?25l[46ma[m);a[46m)[m[41;131H6-60[22;60H[?12l[?25h[?25l[46mg[m);g[46m)[m[41;131H7-61[22;61H[?12l[?25h[?25l[46m1[m);1[46m)[m[41;131H8-62[22;62H[?12l[?25h[?25l[46m.[m);.[46m)[m[41;131H9-63[22;63H[?12l[?25h[?25l[46me[m);e[46m)[m[41;130H50-64[22;64H[?12l[?25h[?25l[46md[m);d[46m)[m[41;131H1-65[22;65H[?12l[?25h[?25l[46mi[m);i[46m)[m[41;131H2-66[22;66H[?12l[?25h[?25l[46md[m);d[46m)[m[41;131H3-67[22;67H[?12l[?25h[?25l[46m_[m);_[46m)[m[41;131H4-68[22;68H[?12l[?25h[?25l[46mb[m);b[46m)[m[41;131H5-69[22;69H[?12l[?25h[?25l[46ml[m);l[46m)[m[41;131H6-70[22;70H[?12l[?25h[?25l[46mo[m);o[46m)[m[41;131H7-71[22;71H[?12l[?25h[?25l[46mc[m);c[46m)[m[41;131H8-72[22;72H[?12l[?25h[?25l[46mk[m);k[46m)[m[41;131H9-73[22;73H[?12l[?25h[?25l[46m[[m[1m[37m[41m);[m[[1m[37m[46m)[m[1m[37m[41m;[m[41;130H60-74[22;74H[?12l[?25h[?25l[46m][m);][46m)[m[41;131H1-75[22;75H[?12l[?25h[?25l[22;23H([49C[46m[][m)[41;131H0-74[22;74H[?12l[?25h[?25l[31m[46m1[m]);[31m1[m[46m][m[41;131H1-75[22;75H[?12l[?25h[?25l[31m[46m2[m]);[31m2[m[46m][m[41;131H2-76[22;76H[?12l[?25h[?25l[31m[46m8[m]);[31m8[m[46m][m[41;131H3-77[22;77H[?12l[?25h[?25l[22;23H[46m([m[49C[[3C][46m)[m[41;131H4-78[22;78H[?12l[?25h[?25l[41;131H5-79[22;79H[?12l[?25h[?25l[22;23H([54C)[41;131H6-80[22;80H[?12l[?25h[?25l[22;23H[46m([54C)[m[41;131H5-79[22;79H[?12l[?25h[?25l[41;131H4-78[22;78H[?12l[?25h[?25l[22;23H([49C[46m[[3C][m)[41;131H3-77[22;77H[?12l[?25h[?25l[[3C][41;131H2-76[22;76H[?12l[?25h[?25l[41;131H1-75[22;75H[?12l[?25h[?25l[46m[[3C][m[41;131H0-74[22;74H[?12l[?25h[?25l[41;130H59-73[22;73H[?12l[?25h[?25l[[3C][41;131H8-72[22;72H[?12l[?25h[?25l[41;131H7-71[22;71H[?12l[?25h[?25l[41;131H6-70[22;70H[?12l[?25h[?25l[41;131H5-69[22;69H[?12l[?25h[?25l[41;131H4-68[22;68H[?12l[?25h[?25l[41;131H3-67[22;67H[?12l[?25h[?25l[41;131H2-66[22;66H[?12l[?25h[?25l[41;131H1-65[22;65H[?12l[?25h[?25l[41;131H0-64[22;64H[?12l[?25h[?25l[41;130H49-63[22;63H[?12l[?25h[?25l[41;131H8-62[22;62H[?12l[?25h[?25l[41;131H7-61[22;61H[?12l[?25h[?25l[41;131H6-60[22;60H[?12l[?25h[?25l[41;131H5-59[22;59H[?12l[?25h[?25l[41;131H4-58[22;58H[?12l[?25h[?25l[41;131H3-57[22;57H[?12l[?25h[?25l[41;131H2-56[22;56H[?12l[?25h[?25l[41;131H1-55[22;55H[?12l[?25h[?25l[41;131H0-54[22;54H[?12l[?25h[?25l[41;130H39-53[22;53H[?12l[?25h[?25l[41;131H8-52[22;52H[?12l[?25h[?25l[41;131H7-51[22;51H[?12l[?25h[?25l[41;131H6-50[22;50H[?12l[?25h[?25l[41;131H5-49[22;49H[?12l[?25h[?25l[41;131H4-48[22;48H[?12l[?25h[?25l[41;131H3-47[22;47H[?12l[?25h[?25l[41;131H2-46[22;46H[?12l[?25h[?25l[41;131H1-45[22;45H[?12l[?25h[?25l[35m\"[m[31m,error,edid_tag1.edid_block[128]);
        }
        return 1;
}
static void __init mailbox_exit(void){
        printk(KERN_INFO [m[1Cexit\n[1C[31m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([m[1Crpi driver [33mfor[m mailbox hdmi read[1C[31m);
MODULE_LICENSE([m[1CGP[2C[31m);[m[41;131H2-46[22;46H[?12l[?25h[?25l[35mn[m[31m"[m,error,edid_tag1.edid_block[[31m128[m]);
        }
        [33mreturn[m [1C;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){
        printk(KERN_INFO [1C[31mexit[m[35m\n[m[1C);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([1C[31mrpi driver for mailbox hdmi read[m[1C);
MODULE_LICENSE([1C[31mGP[m[2C);[41;131H3-47[22;47H[?12l[?25h[41;1H[K[22;46H[?25l[41;117H^[[22;46H[41;117H  [22;47H[41;127H28,32-46      Bot[22;46H[?12l[?25h[?25l[41;117H:[22;46H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"mailbox.c" 39L, 1182C written[22;46H[41;127H28,32-46      Bot[41;127H[K[41;127H28,32-46      Bot[22;46H[?12l[?25h[?25l[41;117H^[[22;46H[41;117H  [22;46H[41;117H^[[22;46H[41;117H  [22;46H[?12l[?25h[?25l[41;117H:[22;46H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"mailbox.c" 39L, 1182C written[22;46H[41;127H28,32-46      Bot[41;127H[K[41;127H28,32-46      Bot[22;46H[?12l[?25h[?25l[41;117H^[[22;46H[41;117H  [22;46H[41;117H^[[22;46H[41;117H  [22;46H[?12l[?25h[?25l[41;117H:[22;46H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"mailbox.c" 39L, 1182C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m ls
mailbox  mailbox.c  mailbox.ko  mailbox.mod.c  mailbox.mod.o  mailbox.o  Makefile  modules.order  Module.symvers
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make clean
rm *.mod.c *.*o .*.cmd Module.symvers modules.order || :
rm -rf .tmp_versions || :
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make
make -C /lib/modules/4.9.45-v7+/build M=/home/pi/DDD/A2/mailbox modules
make[1]: Entering directory '/home/pi/linux'
  CC [M]  /home/pi/DDD/A2/mailbox/mailbox.o
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:[m[K In function â€˜[01m[Kmailbox_init[m[Kâ€™:
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:17:2:[m[K [01;35m[Kwarning: [m[KISO C90 forbids mixed declarations and code [[01;35m[K-Wdeclaration-after-statement[m[K]
  [01;35m[Kstruct[m[K device_node *fw = NULL;
  [01;35m[K^~~~~~[m[K
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:19:23:[m[K [01;31m[Kerror: [m[Kconflicting types for â€˜[01m[Kfw[m[Kâ€™
  struct rpi_firmware *[01;31m[Kfw[m[K = rpi_firmware_get(NULL);
                       [01;31m[K^~[m[K
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:17:22:[m[K [01;36m[Knote: [m[Kprevious definition of â€˜[01m[Kfw[m[Kâ€™ was here
  struct device_node *[01;36m[Kfw[m[K = NULL;
                      [01;36m[K^~[m[K
scripts/Makefile.build:299: recipe for target '/home/pi/DDD/A2/mailbox/mailbox.o' failed
make[2]: *** [/home/pi/DDD/A2/mailbox/mailbox.o] Error 1
Makefile:1493: recipe for target '_module_/home/pi/DDD/A2/mailbox' failed
make[1]: *** [_module_/home/pi/DDD/A2/mailbox] Error 2
make[1]: Leaving directory '/home/pi/linux'
Makefile:13: recipe for target 'default' failed
make: *** [default] Error 2
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make cleanls[Kvim mailbox.c
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"mailbox.c" 39L, 1182C[>c[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[9;9Hu32 block_number;[10;9Hu32 status;[11;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[15;9H[32mint[m error;[16;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;9H[32mstruct[m device_node *fw = [31mNULL[m;[18;9H[34m//fw = of_find_compatible_node(NULL,);[m[19;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;9Hedid_tag1.block_number = [31m0[m;[22;9Hedid_tag1.status = [31m0[m;[23;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[24;17Hedid_tag1.edid_block[error] = [31m0[m;[25;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[26;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[27;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[28;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[[31m128[m]);[29;9H}[30;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[33;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                                                                                               [m[41;127H28,32-46      All[28;46H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[28;46H[41;117H   [27;39H[46m{[29;9H}[m[41;128H7,32-39[27;39H[?12l[?25h[?25l[41;117H~@k[27;39H[41;117H   [26;46H[27;39H{[29;9H}[41;128H6,39-46[26;46H[?12l[?25h[?25l[41;117H~@k[26;46H[41;117H   [25;46H[41;128H5[25;46H[?12l[?25h[?25l[41;117H~@k[25;46H[41;117H   [24;46H[41;128H4,32[24;46H[?12l[?25h[?25l[41;117H~@k[24;46H[41;117H   [23;38H[23;12H[46m([25C)[m[41;128H3,31-38[23;38H[?12l[?25h[?25l[41;117H~@k[23;38H[41;117H   [22;29H[23;12H([25C)[41;128H2,22-29[22;29H[?12l[?25h[?25l[41;117H~@k[22;29H[41;117H   [21;35H[41;128H1,28-35[21;35H[?12l[?25h[?25l[41;117H~@k[21;35H[41;117H   [20;46H[41;128H0,39-46[20;46H[?12l[?25h[?25l[41;117H~@k[20;46H[41;117H   [19;46H[41;127H19[19;46H[?12l[?25h[?25l[41;117H~@k[19;46H[41;117H   [18;46H[41;128H8[18;46H[?12l[?25h[?25l[41;117H~@k[18;46H[41;117H   [17;38H[41;128H7,31-38[17;38H[?12l[?25h[?25l[41;117H~@k[17;38H[41;117H   [17;37H[41;131H0-37[17;37H[?12l[?25h[?25l[41;117H~@k[17;37H[41;117H   [17;36H[41;130H29-36[17;36H[?12l[?25h[?25l[41;117H~@k[17;36H[41;117H   [17;35H[41;131H8-35[17;35H[?12l[?25h[?25l[41;117H~@k[17;35H[41;117H   [17;34H[41;131H7-34[17;34H[?12l[?25h[?25l[41;117H~@k[17;34H[41;117H   [17;33H[41;131H6-33[17;33H[?12l[?25h[?25l[41;117H~@k[17;33H[41;117H   [17;32H[41;131H5-32[17;32H[?12l[?25h[?25l[41;117H~@k[17;32H[41;117H   [17;31H[41;131H4-31[17;31H[?12l[?25h[?25l[41;117H~@k[17;31H[41;117H   [17;30H[41;131H3-30[17;30H[?12l[?25h[?25l[41;117H~@k[17;30H[41;117H   [17;29H[41;131H2-29[17;29H[?12l[?25h[?25l[41;117H~@k[17;29H[41;117H   [17;28H[41;131H1-28[17;28H[?12l[?25h[?25l[41;117H~@k[17;28H[41;117H   [17;29H[41;131H2-29[17;29H[?12l[?25h[?25l[41;117H~@k[17;29H[41;117H   [17;30H[41;131H3-30[17;30H[?12l[?25h[?25l[41;117Hi[17;30H[41;117H [17;30H[41;1H[1m-- INSERT --[m[41;13H[K[41;127H17,23-30      All[17;30H[?12l[?25h[?25l[41;131H4-31[17;31H[?12l[?25h[?25l[41;131H5-32[17;32H[?12l[?25h[?25l[41;131H4-31[17;31H[?12l[?25h[?25lr = [31mNULL[m;[41;131H5-32[17;32H[?12l[?25h[41;1H[K[17;31H[?25l[41;117H^[[17;31H[41;117H  [17;32H[41;127H17,24-31      All[17;31H[?12l[?25h[?25l[41;117H:[17;31H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"mailbox.c" 39L, 1183C written[17;31H[41;127H17,24-31      All[41;127H[K[41;127H17,24-31      All[17;31H[?12l[?25h[?25l[41;117H^[[17;31H[41;117H  [17;31H[41;117H^[[17;31H[41;117H  [17;31H[?12l[?25h[?25l[41;117H:[17;31H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"mailbox.c" 39L, 1183C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make
make -C /lib/modules/4.9.45-v7+/build M=/home/pi/DDD/A2/mailbox modules
make[1]: Entering directory '/home/pi/linux'
  CC [M]  /home/pi/DDD/A2/mailbox/mailbox.o
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:[m[K In function â€˜[01m[Kmailbox_init[m[Kâ€™:
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:17:2:[m[K [01;35m[Kwarning: [m[KISO C90 forbids mixed declarations and code [[01;35m[K-Wdeclaration-after-statement[m[K]
  [01;35m[Kstruct[m[K device_node *fwr = NULL;
  [01;35m[K^~~~~~[m[K
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:17:22:[m[K [01;35m[Kwarning: [m[Kunused variable â€˜[01m[Kfwr[m[Kâ€™ [[01;35m[K-Wunused-variable[m[K]
  struct device_node *[01;35m[Kfwr[m[K = NULL;
                      [01;35m[K^~~[m[K
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:28:61:[m[K [01;35m[Kwarning: [m[Karray subscript is above array bounds [[01;35m[K-Warray-bounds[m[K]
   printk("edid_block[%d] := %c\n",error,[01;35m[Kedid_tag1.edid_block[128][m[K);
                                         [01;35m[K~~~~~~~~~~~~~~~~~~~~^~~~~[m[K
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /home/pi/DDD/A2/mailbox/mailbox.mod.o
  LD [M]  /home/pi/DDD/A2/mailbox/mailbox.ko
make[1]: Leaving directory '/home/pi/linux'
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m makevim mailbox.c
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"mailbox.c" 39L, 1183C[>c[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[9;9Hu32 block_number;[10;9Hu32 status;[11;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[15;9H[32mint[m error;[16;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;9H[32mstruct[m device_node *fwr = [31mNULL[m;[18;9H[34m//fw = of_find_compatible_node(NULL,);[m[19;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;9Hedid_tag1.block_number = [31m0[m;[22;9Hedid_tag1.status = [31m0[m;[23;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[24;17Hedid_tag1.edid_block[error] = [31m0[m;[25;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[26;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[27;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[28;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[[31m128[m]);[29;9H}[30;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[33;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                                                                                               [m[41;127H17,24-31      All[17;31H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[17;31H[41;117H   [18;31H[41;128H8[18;31H[?12l[?25h[?25l[41;117H~@k[18;31H[41;117H   [19;31H[41;128H9[19;31H[?12l[?25h[?25l[41;117H~@k[19;31H[41;117H   [20;31H[41;127H20[20;31H[?12l[?25h[?25l[41;117H~@k[20;31H[41;117H   [21;31H[41;128H1[21;31H[?12l[?25h[?25l[41;117H~@k[21;31H[41;117H   [22;29H[41;128H2,22-29[22;29H[?12l[?25h[?25l[41;117H~@k[22;29H[41;117H   [23;31H[41;128H3,24-31[23;31H[?12l[?25h[?25l[41;117H~@k[23;31H[41;117H   [24;31H[41;128H4,17[24;31H[?12l[?25h[?25l[41;117H~@k[24;31H[41;117H   [25;31H[41;128H5,24[25;31H[?12l[?25h[?25l[41;117H~@k[25;31H[41;117H   [26;31H[41;128H6[26;31H[?12l[?25h[?25l[41;117H~@k[26;31H[41;117H   [27;31H[41;128H7[27;31H[?12l[?25h[?25l[41;117H~@k[27;31H[41;117H   [28;31H[41;128H8,17[28;31H[?12l[?25h[?25l[41;117H~@k[28;31H[41;117H   [28;32H[41;131H8-32[28;32H[?12l[?25h[?25l[41;117H~@k[28;32H[41;117H   [28;33H[41;131H9-33[28;33H[?12l[?25h[?25l[41;117H~@k[28;33H[41;117H   [28;34H[41;130H20-34[28;34H[?12l[?25h[?25l[41;117H~@k[28;34H[41;117H   [28;35H[31m[46m[[2C][m[41;131H1-35[28;35H[?12l[?25h[?25l[41;117H~@k[28;35H[41;117H   [28;36H[31m[[2C][m[41;131H2-36[28;36H[?12l[?25h[?25l[41;117H~@k[28;36H[41;117H   [28;37H[41;131H3-37[28;37H[?12l[?25h[?25l[41;117H~@k[28;37H[41;117H   [28;38H[31m[46m[[2C][m[41;131H4-38[28;38H[?12l[?25h[?25l[41;117H~@k[28;38H[41;117H   [28;39H[31m[[2C][m[41;131H5-39[28;39H[?12l[?25h[?25l[41;117H~@k[28;39H[41;117H   [28;40H[41;131H6-40[28;40H[?12l[?25h[?25l[41;117H~@k[28;40H[41;117H   [28;41H[41;131H7-41[28;41H[?12l[?25h[?25l[41;117H~@k[28;41H[41;117H   [28;42H[41;131H8-42[28;42H[?12l[?25h[?25l[41;117H~@k[28;42H[41;117H   [28;43H[41;131H9-43[28;43H[?12l[?25h[?25l[41;117H~@k[28;43H[41;117H   [28;44H[41;130H30-44[28;44H[?12l[?25h[?25l[41;117H~@k[28;44H[41;117H   [28;45H[41;131H1-45[28;45H[?12l[?25h[?25l[41;117H~@k[28;45H[41;117H   [28;46H[41;131H2-46[28;46H[?12l[?25h[?25l[41;117H~@k[28;46H[41;117H   [28;47H[41;131H3-47[28;47H[?12l[?25h[?25l[41;117H~@k[28;47H[41;117H   [28;48H[41;131H4-48[28;48H[?12l[?25h[?25l[41;117H~@k[28;48H[41;117H   [28;49H[41;131H5-49[28;49H[?12l[?25h[?25l[41;117H~@k[28;49H[41;117H   [28;50H[41;131H6-50[28;50H[?12l[?25h[?25l[41;117H~@k[28;50H[41;117H   [28;51H[41;131H7-51[28;51H[?12l[?25h[?25l[41;117H~@k[28;51H[41;117H   [28;52H[41;131H8-52[28;52H[?12l[?25h[?25l[41;117H~@k[28;52H[41;117H   [28;53H[41;131H9-53[28;53H[?12l[?25h[?25l[41;117H~@k[28;53H[41;117H   [28;54H[41;130H40-54[28;54H[?12l[?25h[?25l[41;117H~@k[28;54H[41;117H   [28;55H[41;131H1-55[28;55H[?12l[?25h[?25l[41;117H~@k[28;55H[41;117H   [28;56H[41;131H2-56[28;56H[?12l[?25h[?25l[41;117H~@k[28;56H[41;117H   [28;57H[41;131H3-57[28;57H[?12l[?25h[?25l[41;117H~@k[28;57H[41;117H   [28;58H[41;131H4-58[28;58H[?12l[?25h[?25l[41;117H~@k[28;58H[41;117H   [28;59H[41;131H5-59[28;59H[?12l[?25h[?25l[41;117H~@k[28;59H[41;117H   [28;60H[41;131H6-60[28;60H[?12l[?25h[?25l[41;117H~@k[28;60H[41;117H   [28;61H[41;131H7-61[28;61H[?12l[?25h[?25l[41;117H~@k[28;61H[41;117H   [28;62H[41;131H8-62[28;62H[?12l[?25h[?25l[41;117H~@k[28;62H[41;117H   [28;63H[41;131H9-63[28;63H[?12l[?25h[?25l[41;117H~@k[28;63H[41;117H   [28;64H[41;130H50-64[28;64H[?12l[?25h[?25l[41;117H~@k[28;64H[41;117H   [28;65H[41;131H1-65[28;65H[?12l[?25h[?25l[41;117H~@k[28;65H[41;117H   [28;66H[41;131H2-66[28;66H[?12l[?25h[?25l[41;117H~@k[28;66H[41;117H   [28;67H[41;131H3-67[28;67H[?12l[?25h[?25l[41;117H~@k[28;67H[41;117H   [28;68H[41;131H4-68[28;68H[?12l[?25h[?25l[41;117H~@k[28;68H[41;117H   [28;69H[41;131H5-69[28;69H[?12l[?25h[?25l[41;117H~@k[28;69H[41;117H   [28;70H[41;131H6-70[28;70H[?12l[?25h[?25l[41;117H~@k[28;70H[41;117H   [28;71H[41;131H7-71[28;71H[?12l[?25h[?25l[41;117H~@k[28;71H[41;117H   [28;72H[41;131H8-72[28;72H[?12l[?25h[?25l[41;117H~@k[28;72H[41;117H   [28;73H[41;131H9-73[28;73H[?12l[?25h[?25l[41;117H~@k[28;73H[41;117H   [28;74H[41;130H60-74[28;74H[?12l[?25h[?25l[41;117H~@k[28;74H[41;117H   [28;75H[46m[[3C][m[41;131H1-75[28;75H[?12l[?25h[?25l[41;117H~@k[28;75H[41;117H   [28;76H[[3C][41;131H2-76[28;76H[?12l[?25h[?25l[41;117H~@k[28;76H[41;117H   [28;77H[41;131H3-77[28;77H[?12l[?25h[?25l[41;117Hi[28;77H[41;117H [28;77H[41;1H[1m-- INSERT --[m[41;13H[K[41;127H28,63-77      All[28;77H[?12l[?25h[?25l[41;131H4-78[28;78H[?12l[?25h[?25l[46m[[3C][m[41;131H5-79[28;79H[?12l[?25h[?25l][46m)[m;[28;81H[K[28;78H[46m][m)[41;131H4-78[28;78H[?12l[?25h[?25l][46m)[m;[28;80H[K[28;77H[46m][m)[41;131H3-77[28;77H[?12l[?25h[?25l][46m)[m;[28;79H[K[28;76H[46m][m)[41;131H2-76[28;76H[?12l[?25h[?25l[46me[m]);e[46m][m[41;131H3-77[28;77H[?12l[?25h[?25l[46mr[m]);r[46m][m[41;131H4-78[28;78H[?12l[?25h[?25l[46mr[m]);r[46m][m[41;131H5-79[28;79H[?12l[?25h[?25l[46mo[m]);o[46m][m[41;131H6-80[28;80H[?12l[?25h[?25l[46mr[m]);r[46m][m[41;131H7-81[28;81H[?12l[?25h[?25l[28;23H[46m([m[51C[error][46m)[m[41;131H8-82[28;82H[?12l[?25h[?25l[41;131H9-83[28;83H[?12l[?25h[41;1H[K[28;82H[?25l[41;117H^[[28;82H[41;117H  [28;83H[41;127H28,68-82      All[28;82H[?12l[?25h[?25l[41;117H:[28;82H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"mailbox.c" 39L, 1185C written[28;82H[41;127H28,68-82      All[41;127H[K[41;127H28,68-82      All[28;82H[?12l[?25h[?25l[41;117H^[[28;82H[41;117H  [28;82H[41;117H^[[28;82H[41;117H  [28;82H[?12l[?25h[?25l[41;117H:[28;82H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"mailbox.c" 39L, 1185C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m make
make -C /lib/modules/4.9.45-v7+/build M=/home/pi/DDD/A2/mailbox modules
make[1]: Entering directory '/home/pi/linux'
  CC [M]  /home/pi/DDD/A2/mailbox/mailbox.o
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:[m[K In function â€˜[01m[Kmailbox_init[m[Kâ€™:
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:17:2:[m[K [01;35m[Kwarning: [m[KISO C90 forbids mixed declarations and code [[01;35m[K-Wdeclaration-after-statement[m[K]
  [01;35m[Kstruct[m[K device_node *fwr = NULL;
  [01;35m[K^~~~~~[m[K
[01m[K/home/pi/DDD/A2/mailbox/mailbox.c:17:22:[m[K [01;35m[Kwarning: [m[Kunused variable â€˜[01m[Kfwr[m[Kâ€™ [[01;35m[K-Wunused-variable[m[K]
  struct device_node *[01;35m[Kfwr[m[K = NULL;
                      [01;35m[K^~~[m[K
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /home/pi/DDD/A2/mailbox/mailbox.mod.o
  LD [M]  /home/pi/DDD/A2/mailbox/mailbox.ko
make[1]: Leaving directory '/home/pi/linux'
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m cd /l[Kgp[K[Ks[K[K[K[K[Ksudo insmod mailbox.ko 
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m dmesg
[32m[    0.000000] [0mBooting Linux on physical CPU 0xf00
[32m[    0.000000] [0mLinux version 4.9.45-v7+ (pi@raspberrypi) (gcc version 6.3.0 20170516 (Raspbian 6.3.0-18+rpi1) ) #1 SMP Mon Aug 28 05:49:02 UTC 2017
[32m[    0.000000] [0m[33mCPU[0m: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[32m[    0.000000] [0m[33mCPU[0m: div instructions available: patching division code
[32m[    0.000000] [0m[33mCPU[0m: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[32m[    0.000000] [0m[33mOF[0m: fdt:Machine model: Raspberry Pi 2 Model B Rev 1.1
[32m[    0.000000] [0m[33mcma[0m: Reserved 8 MiB at 0x3ac00000
[32m[    0.000000] [0m[33mMemory policy[0m: Data cache writealloc
[32m[    0.000000] [0m[33mOn node 0 totalpages[0m: 242688
[32m[    0.000000] [0m[33mfree_area_init_node[0m: node 0, pgdat 80c6ee00, node_mem_map ba3a1000
[32m[    0.000000] [0m[33m  Normal zone[0m: 2133 pages used for memmap
[32m[    0.000000] [0m[33m  Normal zone[0m: 0 pages reserved
[32m[    0.000000] [0m[33m  Normal zone[0m: 242688 pages, LIFO batch:31
[32m[    0.000000] [0m[33mpercpu[0m: Embedded 14 pages/cpu @ba35b000 s25548 r8192 d23604 u57344
[32m[    0.000000] [0m[33mpcpu-alloc[0m: s25548 r8192 d23604 u57344 alloc=14*4096
[32m[    0.000000] [0m[33mpcpu-alloc[0m: [0] 0 [0] 1 [0] 2 [0] 3 
[32m[    0.000000] [0m[33mBuilt 1 zonelists in Zone order, mobility grouping on.  Total pages[0m: 240555
[32m[    0.000000] [0m[33mKernel command line[0m: bcm2708_fb.fbwidth=656 bcm2708_fb.fbheight=416 bcm2708_fb.fbswap=1 vc_mem.mem_base=0x3ec00000 vc_mem.mem_size=0x40000000  dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=PARTUUID=ead4320c-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait quiet splash plymouth.ignore-serial-consoles
[32m[    0.000000] [0m[33mPID hash table entries[0m: 4096 (order: 2, 16384 bytes)
[32m[    0.000000] [0m[33mDentry cache hash table entries[0m: 131072 (order: 7, 524288 bytes)
[32m[    0.000000] [0m[33mInode-cache hash table entries[0m: 65536 (order: 6, 262144 bytes)
[32m[    0.000000] [0m[33mMemory[0m: 940356K/970752K available (7168K kernel code, 484K rwdata, 2012K rodata, 1024K init, 778K bss, 22204K reserved, 8192K cma-reserved)
[32m[    0.000000] [0m[33mVirtual kernel memory layout:
                   vector  [0m: 0xffff0000 - 0xffff1000   (   4 kB)
                   fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
                   vmalloc : 0xbb800000 - 0xff800000   (1088 MB)
                   lowmem  : 0x80000000 - 0xbb400000   ( 948 MB)
                   modules : 0x7f000000 - 0x80000000   (  16 MB)
                     .text : 0x80008000 - 0x80800000   (8160 kB)
                     .init : 0x80b00000 - 0x80c00000   (1024 kB)
                     .data : 0x80c00000 - 0x80c79004   ( 485 kB)
                      .bss : 0x80c7b000 - 0x80d3d8d4   ( 779 kB)
[32m[    0.000000] [0m[33mSLUB[0m: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[32m[    0.000000] [0mHierarchical RCU implementation.
[32m[    0.000000] [0m	Build-time adjustment of leaf fanout to 32.
[32m[    0.000000] [0mNR_IRQS:16 nr_irqs:16 16
[32m[    0.000000] [0m[33marm_arch_timer[0m: Architected cp15 timer(s) running at 19.20MHz (phys).
[32m[    0.000000] [0m[33mclocksource[0m: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x46d987e47, max_idle_ns: 440795202767 ns
[32m[    0.000009] [0m[33msched_clock[0m: 56 bits at 19MHz, resolution 52ns, wraps every 4398046511078ns
[32m[    0.000024] [0mSwitching to timer-based delay loop, resolution 52ns
[32m[    0.000321] [0m[33mConsole[0m: colour dummy device 80x30
[32m[    0.000346] [0mconsole [tty1] enabled
[32m[    0.000371] [0mCalibrating delay loop (skipped), value calculated using timer frequency.. 38.40 BogoMIPS (lpj=192000)
[32m[    0.000392] [0m[33mpid_max[0m: default: 32768 minimum: 301
[32m[    0.000760] [0m[33mMount-cache hash table entries[0m: 2048 (order: 1, 8192 bytes)
[32m[    0.000774] [0m[33mMountpoint-cache hash table entries[0m: 2048 (order: 1, 8192 bytes)
[32m[    0.001885] [0mDisabling cpuset control group subsystem
[32m[    0.002069] [0m[33mCPU[0m: Testing write buffer coherency: ok
[32m[    0.002123] [0m[33mftrace[0m: allocating 22272 entries in 66 pages
[32m[    0.053178] [0m[33mCPU0[0m: update cpu_capacity 1024
[32m[    0.053198] [0m[33mCPU0[0m: thread -1, cpu 0, socket 15, mpidr 80000f00
[32m[    0.053243] [0mSetting up static identity map for 0x100000 - 0x100034
[32m[    0.055960] [0m[33mCPU1[0m: update cpu_capacity 1024
[32m[    0.055971] [0m[33mCPU1[0m: thread -1, cpu 1, socket 15, mpidr 80000f01
[32m[    0.056942] [0m[33mCPU2[0m: update cpu_capacity 1024
[32m[    0.056951] [0m[33mCPU2[0m: thread -1, cpu 2, socket 15, mpidr 80000f02
[32m[    0.057885] [0m[33mCPU3[0m: update cpu_capacity 1024
[32m[    0.057895] [0m[33mCPU3[0m: thread -1, cpu 3, socket 15, mpidr 80000f03
[32m[    0.058020] [0mBrought up 4 CPUs
[32m[    0.058035] [0m[33mSMP[0m: Total of 4 processors activated (153.60 BogoMIPS).
[32m[    0.058040] [0m[33mCPU[0m: All CPU(s) started in HYP mode.
[32m[    0.058045] [0m[33mCPU[0m: Virtualization extensions available.
[32m[    0.059155] [0m[33mdevtmpfs[0m: initialized
[32m[    0.072492] [0m[33mVFP support v0.3[0m: implementor 41 architecture 2 part 30 variant 7 rev 5
[32m[    0.072923] [0m[33mclocksource[0m: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[32m[    0.072949] [0m[33mfutex hash table entries[0m: 1024 (order: 4, 65536 bytes)
[32m[    0.073743] [0m[33mpinctrl core[0m: initialized pinctrl subsystem
[32m[    0.075025] [0m[33mNET[0m: Registered protocol family 16
[32m[    0.077646] [0m[33mDMA[0m: preallocated 1024 KiB pool for atomic coherent allocations
[32m[    0.087922] [0m[33mhw-breakpoint[0m: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[32m[    0.087932] [0m[33mhw-breakpoint[0m: maximum watchpoint size is 8 bytes.
[32m[    0.088129] [0m[33mSerial[0m: AMBA PL011 UART driver
[32m[    0.090616] [0m[33mbcm2835-mbox 3f00b880.mailbox[0m: mailbox enabled
[32m[    0.174578] [0m[33mbcm2835-dma 3f007000.dma[0m: DMA legacy API manager at bb80f000, dmachans=0x1
[32m[    0.176940] [0mSCSI subsystem initialized
[32m[    0.177142] [0m[33musbcore[0m: registered new interface driver usbfs
[32m[    0.177248] [0m[33musbcore[0m: registered new interface driver hub
[32m[    0.177398] [0m[33musbcore[0m: registered new device driver usb
[32m[    0.183037] [0m[33mraspberrypi-firmware soc:firmware[0m: Attached to firmware from 2017-08-08 12:01
[32m[    0.184867] [0m[33mclocksource[0m: Switched to clocksource arch_sys_counter
[32m[    0.239841] [0m[33mVFS[0m: Disk quotas dquot_6.6.0
[32m[    0.239947] [0m[33mVFS[0m: Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[32m[    0.240219] [0m[33mFS-Cache[0m: Loaded
[32m[    0.240566] [0m[33mCacheFiles[0m: Loaded
[32m[    0.256920] [0m[33mNET[0m: Registered protocol family 2
[32m[    0.258153] [0m[33mTCP established hash table entries[0m: 8192 (order: 3, 32768 bytes)
[32m[    0.258284] [0m[33mTCP bind hash table entries[0m: 8192 (order: 4, 65536 bytes)
[32m[    0.258471] [0m[33mTCP[0m: Hash tables configured (established 8192 bind 8192)
[32m[    0.258585] [0m[33mUDP hash table entries[0m: 512 (order: 2, 16384 bytes)
[32m[    0.258643] [0m[33mUDP-Lite hash table entries[0m: 512 (order: 2, 16384 bytes)
[32m[    0.258960] [0m[33mNET[0m: Registered protocol family 1
[32m[    0.259601] [0m[33mRPC[0m: Registered named UNIX socket transport module.
[32m[    0.259609] [0m[33mRPC[0m: Registered udp transport module.
[32m[    0.259614] [0m[33mRPC[0m: Registered tcp transport module.
[32m[    0.259620] [0m[33mRPC[0m: Registered tcp NFSv4.1 backchannel transport module.
[32m[    0.260811] [0m[33mhw perfevents[0m: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[32m[    0.263775] [0m[33mworkingset[0m: timestamp_bits=14 max_order=18 bucket_order=4
[32m[    0.282386] [0m[33mFS-Cache[0m: Netfs 'nfs' registered for caching
[32m[    0.283645] [0m[33mNFS[0m: Registering the id_resolver key type
[32m[    0.283683] [0mKey type id_resolver registered
[32m[    0.283689] [0mKey type id_legacy registered
[32m[    0.286979] [0mBlock layer SCSI generic (bsg) driver version 0.4 loaded (major 251)
[32m[    0.287151] [0mio scheduler noop registered
[32m[    0.287159] [0mio scheduler deadline registered (default)
[32m[    0.287515] [0mio scheduler cfq registered
[32m[    0.293094] [0m[33mBCM2708FB[0m: allocated DMA memory fad00000
[32m[    0.293133] [0m[33mBCM2708FB[0m: allocated DMA channel 0 @ bb80f000
[32m[    0.301937] [0m[33mConsole[0m: switching to colour frame buffer device 82x26
[32m[    0.308765] [0m[33mbcm2835-rng 3f104000.rng[0m: hwrng registered
[32m[    0.308886] [0m[33mvc-cma[0m: Videocore CMA driver
[32m[    0.308893] [0m[33mvc-cma[0m: vc_cma_base      = 0x00000000
[32m[    0.308900] [0m[33mvc-cma[0m: vc_cma_size      = 0x00000000 (0 MiB)
[32m[    0.308906] [0m[33mvc-cma[0m: vc_cma_initial   = 0x00000000 (0 MiB)
[32m[    0.309168] [0m[33mvc-mem[0m: phys_addr:0x00000000 mem_base=0x3ec00000 mem_size:0x40000000(1024 MiB)
[32m[    0.329669] [0m[33mbrd[0m: module loaded
[32m[    0.340808] [0m[33mloop[0m: module loaded
[32m[    0.340823] [0mLoading iSCSI transport class v2.0-870.
[32m[    0.341526] [0m[33musbcore[0m: registered new interface driver smsc95xx
[32m[    0.341550] [0m[33mdwc_otg[0m: version 3.00a 10-AUG-2012 (platform bus)
[32m[    0.569774] [0m[33mCore Release[0m[1m: 2.80a[0m
[32m[    0.569787] [0m[1mSetting default values for core params[0m
[32m[    0.569823] [0m[1mFinished setting default values for core params[0m
[32m[    0.770277] [0m[1mUsing Buffer DMA mode[0m
[32m[    0.770284] [0m[1mPeriodic Transfer Interrupt Enhancement - disabled[0m
[32m[    0.770289] [0m[1mMultiprocessor Interrupt Enhancement - disabled[0m
[32m[    0.770298] [0m[33mOTG VER PARAM[0m[1m: 0, OTG VER FLAG: 0[0m
[32m[    0.770316] [0m[1mDedicated Tx FIFOs mode[0m
[32m[    0.770808] [0m[33mWARN::dwc_otg_hcd_init:1032[0m[1m: FIQ DMA bounce buffers: virt = 0xbad14000 dma = 0xfad14000 len=9024[0m
[32m[    0.770839] [0m[1mFIQ FSM acceleration enabled for :
               Non-periodic Split Transactions
               Periodic Split Transactions
               High-Speed Isochronous Endpoints
               Interrupt/Control Split Transaction hack enabled[0m
[32m[    0.770848] [0m[33mdwc_otg[0m: Microframe scheduler enabled
[32m[    0.770913] [0m[33mWARN::hcd_init_fiq:459[0m[1m: FIQ on core 1 at 0x80591b14[0m
[32m[    0.770924] [0m[33mWARN::hcd_init_fiq:460[0m[1m: FIQ ASM at 0x80591e74 length 36[0m
[32m[    0.770937] [0m[33mWARN::hcd_init_fiq:486[0m[1m: MPHI regs_base at 0xbb87a000[0m
[32m[    0.771016] [0m[33mdwc_otg 3f980000.usb[0m: DWC OTG Controller
[32m[    0.771064] [0m[33mdwc_otg 3f980000.usb[0m: new USB bus registered, assigned bus number 1
[32m[    0.771110] [0m[33mdwc_otg 3f980000.usb[0m: irq 62, io mem 0x00000000
[32m[    0.771159] [0m[33mInit[0m[1m: Port Power? op_state=1[0m
[32m[    0.771165] [0m[33mInit[0m[1m: Power Port (0)[0m
[32m[    0.771469] [0m[33musb usb1[0m: New USB device found, idVendor=1d6b, idProduct=0002
[32m[    0.771482] [0m[33musb usb1[0m: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[32m[    0.771492] [0m[33musb usb1[0m: Product: DWC OTG Controller
[32m[    0.771502] [0m[33musb usb1[0m: Manufacturer: Linux 4.9.45-v7+ dwc_otg_hcd
[32m[    0.771511] [0m[33musb usb1[0m: SerialNumber: 3f980000.usb
[32m[    0.772546] [0m[33mhub 1-0:1.0[0m: USB hub found
[32m[    0.772608] [0m[33mhub 1-0:1.0[0m: 1 port detected
[32m[    0.773488] [0m[33mdwc_otg[0m: FIQ enabled
[32m[    0.773495] [0m[33mdwc_otg[0m: NAK holdoff enabled
[32m[    0.773500] [0m[33mdwc_otg[0m: FIQ split-transaction FSM enabled
[32m[    0.773518] [0mModule dwc_common_port init
[32m[    0.773848] [0m[33musbcore[0m: registered new interface driver usb-storage
[32m[    0.774210] [0m[33mmousedev[0m: PS/2 mouse device common for all mice
[32m[    0.775557] [0m[33mbcm2835-wdt 3f100000.watchdog[0m: Broadcom BCM2835 watchdog timer
[32m[    0.775936] [0m[33mbcm2835-cpufreq[0m: min=600000 max=900000
[32m[    0.776454] [0m[33msdhci[0m: Secure Digital Host Controller Interface driver
[32m[    0.776459] [0m[33msdhci[0m: Copyright(c) Pierre Ossman
[32m[    0.776816] [0m[33msdhost-bcm2835 3f202000.sdhost[0m: could not get clk, deferring probe
[32m[    0.777063] [0m[33msdhci-pltfm[0m: SDHCI platform and OF driver helper
[32m[    0.777828] [0m[33mledtrig-cpu[0m: registered to indicate activity on CPUs
[32m[    0.778001] [0m[33mhidraw[0m: raw HID events driver (C) Jiri Kosina
[32m[    0.778269] [0m[33musbcore[0m: registered new interface driver usbhid
[32m[    0.778274] [0m[33musbhid[0m: USB HID core driver
[32m[    0.779273] [0m[33mvchiq[0m: vchiq_init_state: slot_zero = 0xbad80000, is_master = 0
[32m[    0.781321] [0mInitializing XFRM netlink socket
[32m[    0.781353] [0m[33mNET[0m: Registered protocol family 17
[32m[    0.781515] [0mKey type dns_resolver registered
[32m[    0.782013] [0mRegistering SWP/SWPB emulation handler
[32m[    0.782979] [0mregistered taskstats version 1
[32m[    0.783445] [0m[33mvc-sm[0m: Videocore shared memory driver
[32m[    0.783458] [0m[33m[vc_sm_connected_init][0m: start
[32m[    0.789664] [0m[33m[vc_sm_connected_init][0m: end - returning 0
[32m[    0.796016] [0m[33m3f201000.serial[0m: ttyAMA0 at MMIO 0x3f201000 (irq = 87, base_baud = 0) is a PL011 rev2
[32m[    0.796087] [0mconsole [ttyAMA0] enabled
[32m[    0.798102] [0m[33msdhost[0m: log_buf @ bad13000 (fad13000)
[32m[    0.874912] [0m[33mmmc0[0m: sdhost-bcm2835 loaded - DMA enabled (>1)
[32m[    0.875039] [0mof_cfs_init
[32m[    0.875161] [0m[33mof_cfs_init[0m: OK
[32m[    0.875870] [0mWaiting for root device PARTUUID=ead4320c-02...
[32m[    0.942209] [0m[33mmmc0[0m[1m: host does not support reading read-only switch, assuming write-enable[0m
[32m[    0.944211] [0m[33mmmc0[0m: new high speed SDHC card at address 0001
[32m[    0.945195] [0m[33mmmcblk0[0m: mmc0:0001 MS 14.8 GiB
[32m[    0.947936] [0m[33m mmcblk0[0m: p1 p2
[32m[    0.985014] [0m[1mIndeed it is in host mode hprt0 = 00021501[0m
[32m[    0.998499] [0m[33mEXT4-fs (mmcblk0p2)[0m: INFO: recovery required on readonly filesystem
[32m[    0.998509] [0m[33mEXT4-fs (mmcblk0p2)[0m: write access will be enabled during recovery
[32m[    1.069934] [0m[33mrandom[0m: fast init done
[32m[    1.184922] [0m[33musb 1-1[0m: new high-speed USB device number 2 using dwc_otg
[32m[    1.185108] [0m[1mIndeed it is in host mode hprt0 = 00001101[0m
[32m[    1.415291] [0m[33musb 1-1[0m: New USB device found, idVendor=0424, idProduct=9514
[32m[    1.415305] [0m[33musb 1-1[0m: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[32m[    1.416325] [0m[33mhub 1-1:1.0[0m: USB hub found
[32m[    1.416453] [0m[33mhub 1-1:1.0[0m: 5 ports detected
[32m[    1.734923] [0m[33musb 1-1.1[0m: new high-speed USB device number 3 using dwc_otg
[32m[    1.865412] [0m[33musb 1-1.1[0m: New USB device found, idVendor=0424, idProduct=ec00
[32m[    1.865430] [0m[33musb 1-1.1[0m: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[32m[    1.868577] [0msmsc95xx v1.0.5
[32m[    1.959768] [0m[33msmsc95xx 1-1.1:1.0 eth0[0m: register 'smsc95xx' at usb-3f980000.usb-1.1, smsc95xx USB 2.0 Ethernet, b8:27:eb:41:b2:86
[32m[    2.426905] [0m[33mEXT4-fs (mmcblk0p2)[0m: recovery complete
[32m[    2.436504] [0m[33mEXT4-fs (mmcblk0p2)[0m: mounted filesystem with ordered data mode. Opts: (null)
[32m[    2.436584] [0m[33mVFS[0m: Mounted root (ext4 filesystem) readonly on device 179:2.
[32m[    2.441153] [0m[33mdevtmpfs[0m: mounted
[32m[    2.442958] [0m[33mFreeing unused kernel memory[0m: 1024K
[32m[    2.992158] [0m[33msystemd[1][0m: System time before build time, advancing clock.
[32m[    3.150281] [0m[33mNET[0m: Registered protocol family 10
[32m[    3.166726] [0m[33mip_tables[0m: (C) 2000-2006 Netfilter Core Team
[32m[    3.202496] [0m[33msystemd[1][0m: systemd 232 running in system mode. (+PAM +AUDIT +SELINUX +IMA +APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD +IDN)
[32m[    3.203279] [0m[33msystemd[1][0m: Detected architecture arm.
[32m[    3.205249] [0m[33msystemd[1][0m: Set hostname to <raspberrypi>.
[32m[    3.299867] [0m[33muart-pl011 3f201000.serial[0m: no DMA platform data
[32m[    3.941167] [0m[33msystemd[1][0m[1m: rsyslog.service: Cannot add dependency job, ignoring: Unit rsyslog.service is masked.[0m
[32m[    3.950159] [0m[33msystemd[1][0m: Listening on fsck to fsckd communication Socket.
[32m[    3.951698] [0m[33msystemd[1][0m: Created slice User and Session Slice.
[32m[    3.951867] [0m[33msystemd[1][0m: Reached target Swap.
[32m[    3.952201] [0m[33msystemd[1][0m: Listening on udev Kernel Socket.
[32m[    3.952601] [0m[33msystemd[1][0m: Listening on Journal Socket (/dev/log).
[32m[    3.975676] [0m[33msystemd[1][0m: Listening on /dev/initctl Compatibility Named Pipe.
[32m[    4.189800] [0mi2c /dev entries driver
[32m[    4.257201] [0m[33mlirc_dev[0m: IR Remote Control driver registered, major 244
[32m[    4.712314] [0m[33mEXT4-fs (mmcblk0p2)[0m: re-mounted. Opts: (null)
[32m[    4.832372] [0m[33msystemd-journald[113][0m: Received request to flush runtime journal from PID 1
[32m[    5.262254] [0m[33mlirc_rpi[0m[1m: module is from the staging directory, the quality is unknown, you have been warned.[0m
[32m[    5.337949] [0m[33mgpiomem-bcm2835 3f200000.gpiomem[0m: Initialised: Registers at 0x3f200000
[32m[    5.867930] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: renamed from eth0
[32m[    6.315007] [0m[33mlirc_rpi[0m: auto-detected active high receiver on GPIO pin 18
[32m[    6.315466] [0m[33mlirc_rpi lirc_rpi[0m: lirc_dev: driver lirc_rpi registered at minor = 0
[32m[    6.315477] [0m[33mlirc_rpi[0m: driver registered!
[32m[    7.748170] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: hardware isn't capable of remote wakeup
[32m[    9.064527] [0mAdding 102396k swap on /var/swap.  Priority:-1 extents:1 across:102396k SSFS
[32m[    9.076283] [0m[33minput[0m: lircd-uinput as /devices/virtual/input/input0
[32m[    9.367536] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[   15.336960] [0mfuse init (API version 7.26)
[32m[   20.710561] [0m[33mrandom[0m: crng init done
[32m[   94.210027] [0m[33mBluetooth[0m: Core ver 2.22
[32m[   94.210137] [0m[33mNET[0m: Registered protocol family 31
[32m[   94.210146] [0m[33mBluetooth[0m: HCI device and connection manager initialized
[32m[   94.210174] [0m[33mBluetooth[0m: HCI socket layer initialized
[32m[   94.210193] [0m[33mBluetooth[0m: L2CAP socket layer initialized
[32m[   94.210284] [0m[33mBluetooth[0m: SCO socket layer initialized
[32m[ 7256.039702] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 7268.352062] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[ 7268.919419] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 7270.576110] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[ 7277.191539] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 7278.855875] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 10Mbps, full-duplex, lpa 0xCC61
[32m[ 9058.583663] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 9062.679698] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[17831.066294] [0m[33mmailbox[0m[1m: loading out-of-tree module taints kernel.[0m
[32m[17831.066843] [0minit
[32m[17831.066853] [0mrpi_firmware_get := b9e46e10
[32m[17831.066991] [0mBlock No:0, status:0, error:0
[32m[17831.066999] [0m[1medid_block[0] := [0m
[32m[17831.067004] [0m[1medid_block[1] := \xffffffff[0m
[32m[17831.067009] [0m[1medid_block[2] := \xffffffff[0m
[32m[17831.067014] [0m[1medid_block[3] := \xffffffff[0m
[32m[17831.067019] [0m[1medid_block[4] := \xffffffff[0m
[32m[17831.067023] [0m[1medid_block[5] := \xffffffff[0m
[32m[17831.067028] [0m[1medid_block[6] := \xffffffff[0m
[32m[17831.067032] [0m[1medid_block[7] := [0m
[32m[17831.067037] [0m[1medid_block[8] := 8[0m
[32m[17831.067042] [0m[1medid_block[9] := \xffffffa3[0m
[32m[17831.067047] [0m[1medid_block[10] := &[0m
[32m[17831.067052] [0m[1medid_block[11] := f[0m
[32m[17831.067057] [0m[1medid_block[12] := [0m
[32m[17831.067061] [0m[1medid_block[13] := [0m
[32m[17831.067066] [0m[1medid_block[14] := [0m
[32m[17831.067071] [0m[1medid_block[15] := [0m
[32m[17831.067076] [0m[1medid_block[16] := [0m
[32m[17831.067080] [0m[1medid_block[17] := [0m
[32m[17831.067085] [0m[1medid_block[18] := [0m
[32m[17831.067090] [0m[1medid_block[19] := [0m
[32m[17831.067095] [0m[1medid_block[20] := \xffffff80[0m
[32m[17831.067099] [0m[1medid_block[21] := &[0m
[32m[17831.067104] [0m[1medid_block[22] := [0m
[32m[17831.067109] [0m[1medid_block[23] := n[0m
[32m[17831.067114] [0m[1medid_block[24] := \xffffffee[0m
[32m[17831.067118] [0m[1medid_block[25] := \xffffffee[0m
[32m[17831.067123] [0m[1medid_block[26] := \xffffff95[0m
[32m[17831.067128] [0m[1medid_block[27] := \xffffffa3[0m
[32m[17831.067133] [0m[1medid_block[28] := T[0m
[32m[17831.067138] [0m[1medid_block[29] := L[0m
[32m[17831.067143] [0m[1medid_block[30] := \xffffff99[0m
[32m[17831.067147] [0m[1medid_block[31] := &[0m
[32m[17831.067152] [0m[1medid_block[32] := [0m
[32m[17831.067157] [0m[1medid_block[33] := P[0m
[32m[17831.067162] [0m[1medid_block[34] := T[0m
[32m[17831.067167] [0m[1medid_block[35] := \xffffffbf[0m
[32m[17831.067172] [0m[1medid_block[36] := \xffffffef[0m
[32m[17831.067176] [0m[1medid_block[37] := \xffffff80[0m
[32m[17831.067181] [0m[1medid_block[38] := 1[0m
[32m[17831.067186] [0m[1medid_block[39] := Y[0m
[32m[17831.067191] [0m[1medid_block[40] := E[0m
[32m[17831.067195] [0m[1medid_block[41] := Y[0m
[32m[17831.067200] [0m[1medid_block[42] := a[0m
[32m[17831.067205] [0m[1medid_block[43] := Y[0m
[32m[17831.067210] [0m[1medid_block[44] := q[0m
[32m[17831.067214] [0m[1medid_block[45] := O[0m
[32m[17831.067219] [0m[1medid_block[46] := \xffffff81[0m
[32m[17831.067224] [0m[1medid_block[47] := @[0m
[32m[17831.067229] [0m[1medid_block[48] := \xffffff81[0m
[32m[17831.067239] [0m[1medid_block[49] := \xffffff80[0m
[32m[17831.067245] [0m[1medid_block[50] := [0m
[32m[17831.067251] [0m[1medid_block[51] := [0m
[32m[17831.067255] [0m[1medid_block[52] := [0m
[32m[17831.067260] [0m[1medid_block[53] := [0m
[32m[17831.067265] [0m[1medid_block[54] := 0[0m
[32m[17831.067270] [0m[1medid_block[55] := *[0m
[32m[17831.067274] [0m[1medid_block[56] := [0m
[32m[17831.067279] [0m[1medid_block[57] := \xffffff98[0m
[32m[17831.067284] [0m[1medid_block[58] := Q[0m
[32m[17831.067289] [0m[1medid_block[59] := [0m
[32m[17831.067294] [0m[1medid_block[60] := *[0m
[32m[17831.067299] [0m[1medid_block[61] := @[0m
[32m[17831.067303] [0m[1medid_block[62] := 0[0m
[32m[17831.067308] [0m[1medid_block[63] := p[0m
[32m[17831.067313] [0m[1medid_block[64] := [0m
[32m[17831.067318] [0m[1medid_block[65] := [0m
[32m[17831.067323] [0m[1medid_block[66] := x[0m
[32m[17831.067327] [0m[1medid_block[67] := -[0m
[32m[17831.067332] [0m[1medid_block[68] := [0m
[32m[17831.067337] [0m[1medid_block[69] := [0m
[32m[17831.067342] [0m[1medid_block[70] := [0m
[32m[17831.067346] [0m[1medid_block[71] := [0m
[32m[17831.067351] [0m[1medid_block[72] := [0m
[32m[17831.067356] [0m[1medid_block[73] := [0m
[32m[17831.067361] [0m[1medid_block[74] := [0m
[32m[17831.067366] [0m[1medid_block[75] := \xfffffffd[0m
[32m[17831.067370] [0m[1medid_block[76] := [0m
[32m[17831.067375] [0m[1medid_block[77] := 2[0m
[32m[17831.067380] [0m[1medid_block[78] := U[0m
[32m[17831.067384] [0m[1medid_block[79] := [0m
[32m[17831.067389] [0m[1medid_block[80] := R[0m
[32m[17831.067394] [0m[1medid_block[81] := [0m
[32m[17831.067399] [0m[1medid_block[82] := [0m
[32m[17831.067403] [0m[1medid_block[83] := 
[0m
[32m[17831.067408] [0m[1medid_block[84] :=  [0m
[32m[17831.067413] [0m[1medid_block[85] :=  [0m
[32m[17831.067418] [0m[1medid_block[86] :=  [0m
[32m[17831.067422] [0m[1medid_block[87] :=  [0m
[32m[17831.067427] [0m[1medid_block[88] :=  [0m
[32m[17831.067432] [0m[1medid_block[89] :=  [0m
[32m[17831.067437] [0m[1medid_block[90] := [0m
[32m[17831.067442] [0m[1medid_block[91] := [0m
[32m[17831.067447] [0m[1medid_block[92] := [0m
[32m[17831.067451] [0m[1medid_block[93] := \xfffffffc[0m
[32m[17831.067456] [0m[1medid_block[94] := [0m
[32m[17831.067461] [0m[1medid_block[95] := N[0m
[32m[17831.067466] [0m[1medid_block[96] := E[0m
[32m[17831.067470] [0m[1medid_block[97] := C[0m
[32m[17831.067475] [0m[1medid_block[98] :=  [0m
[32m[17831.067480] [0m[1medid_block[99] := L[0m
[32m[17831.067485] [0m[1medid_block[100] := C[0m
[32m[17831.067490] [0m[1medid_block[101] := D[0m
[32m[17831.067495] [0m[1medid_block[102] := 1[0m
[32m[17831.067499] [0m[1medid_block[103] := 9[0m
[32m[17831.067504] [0m[1medid_block[104] := 8[0m
[32m[17831.067509] [0m[1medid_block[105] := 0[0m
[32m[17831.067513] [0m[1medid_block[106] := S[0m
[32m[17831.067518] [0m[1medid_block[107] := X[0m
[32m[17831.067523] [0m[1medid_block[108] := [0m
[32m[17831.067528] [0m[1medid_block[109] := [0m
[32m[17831.067533] [0m[1medid_block[110] := [0m
[32m[17831.067537] [0m[1medid_block[111] := \xffffffff[0m
[32m[17831.067542] [0m[1medid_block[112] := [0m
[32m[17831.067547] [0m[1medid_block[113] := 5[0m
[32m[17831.067551] [0m[1medid_block[114] := 3[0m
[32m[17831.067556] [0m[1medid_block[115] := 2[0m
[32m[17831.067561] [0m[1medid_block[116] := 7[0m
[32m[17831.067566] [0m[1medid_block[117] := 9[0m
[32m[17831.067570] [0m[1medid_block[118] := 2[0m
[32m[17831.067575] [0m[1medid_block[119] := 7[0m
[32m[17831.067580] [0m[1medid_block[120] := 4[0m
[32m[17831.067585] [0m[1medid_block[121] := Y[0m
[32m[17831.067589] [0m[1medid_block[122] := A[0m
[32m[17831.067594] [0m[1medid_block[123] := 
[0m
[32m[17831.067599] [0m[1medid_block[124] :=  [0m
[32m[17831.067603] [0m[1medid_block[125] :=  [0m
[32m[17831.067608] [0m[1medid_block[126] := [0m
[32m[17831.067613] [0m[1medid_block[127] := \xffffffc5[0m
[32m[17831.067624] [0m[33mdo_init_module[0m[1m: 'mailbox'->init suspiciously returned 1, it should follow 0/-E convention
               do_init_module: loading module anyway...[0m
[32m[17831.067638] [0m[33mCPU[0m[1m: 2 PID: 2969 Comm: insmod Tainted: G         C O    4.9.45-v7+ #1[0m
[32m[17831.067643] [0m[33mHardware name[0m[1m: BCM2835[0m
[32m[17831.067684] [0m[1m[<8010fb14>] (unwind_backtrace) from [<8010c018>] (show_stack+0x20/0x24)[0m
[32m[17831.067704] [0m[1m[<8010c018>] (show_stack) from [<80457368>] (dump_stack+0xc8/0x10c)[0m
[32m[17831.067726] [0m[1m[<80457368>] (dump_stack) from [<8020bd38>] (do_init_module+0xa0/0x3d8)[0m
[32m[17831.067747] [0m[1m[<8020bd38>] (do_init_module) from [<801a3fec>] (load_module+0x1cd4/0x2314)[0m
[32m[17831.067768] [0m[1m[<801a3fec>] (load_module) from [<801a4844>] (SyS_finit_module+0xb8/0xc8)[0m
[32m[17831.067789] [0m[1m[<801a4844>] (SyS_finit_module) from [<80108060>] (ret_fast_syscall+0x0/0x1c)[0m
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m vim -p mailbox.c ../hdmi_uevent/hdmi_gpio.c 
2 files to edit
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"mailbox.c" 39L, 1185C"../hdmi_uevent/hdmi_gpio.c" 131L, 3568C[>c[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m ../h/hdmi_gpio.c [m[7m                                                                                                                   [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk[46m([m[31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error][46m)[m;[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H28,68-82      All[29;82H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H^I[29;82H[41;117H  [29;82H[?12l[?25h[?25l[41;117H^I[29;82H[41;117H  [29;82H[?12l[?25h[?25l[41;117Ht[29;82H[?12l[?25h[?25l[41;118H~@k[29;82H[41;117H    [29;82H[?12l[?25h[?25l[41;117Hg[29;82H[?12l[?25h[?25l[41;117H [29;82H[41;117Hgt[29;82H[41;117H  [36;1H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m ../h/hdmi_gpio.c [m[7m                                                                                                                   [m[1;144H[4m[30m[47mX[m[2;1H[34m                pr_err("No Change device attribute Added%d\n", error);
        }[m
[35m#endif[m[5;9H[32mstruct[m device *dev = hdmi_dev.this_device;[6;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[7;9H[33mif[m (error){[8;17Hkobject_put(&dev->kobj);[9;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[10;9H}[11;9Hmsleep([31m1000[m);
}[13;9H[33mreturn[m error;
}

[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)
{[18;9Hmisc_deregister(&hdmi_dev);[19;9Hgpio_unexport(hdmi_gpio);[20;9Hfree_irq(irqNumber,[31mNULL[m);[21;9Hgpio_free(hdmi_gpio);[22;9Hpr_info([31m"[m[35m\n[m[31m"[m);
}

[32mstatic[m irq_handler_t hdmigpio_irq_handler([32munsigned[m [32mint[m irq, [32mvoid[m *dev_id, [32mstruct[m pt_regs *regs){[26;9H[32mint[m error;[27;9Hprintk(KERN_INFO [31m"[m[35m\n[m[31mDetected hdmi hotplug event and inside IRQ[m[35m\n[m[31m"[m);[28;9H[32mstruct[m device *dev = hdmi_dev.this_device;[29;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[30;9H[33mif[m (error){[31;17Hkobject_put(&dev->kobj);[32;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[33;9H}[34;9H[33mreturn[m (irq_handler_t) IRQ_HANDLED;
}

module_init(module_start);
module_exit(module_end);
MODULE_LICENSE([31m"GPL"[m);
MODULE_DESCRIPTION([31m"HDMI Device"[m);[41;127H127,0-1[7CBot[36;1H[?12l[?25h[?25l[41;117H~@k[36;1H[41;117H   [35;1H[25;96H[46m{[35;1H}[m[41;129H6,1  [35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [34;8H[25;96H{[35;1H}[41;129H5,1-8[34;8H[?12l[?25h[?25l[41;117H~@k[34;8H[41;117H   [33;8H[41;129H4[33;8H[?12l[?25h[?25l[41;117H~@k[33;8H[41;117H   [32;8H[41;129H3[32;8H[?12l[?25h[?25l[41;117H~@k[32;8H[41;117H   [31;8H[41;129H2[31;8H[?12l[?25h[?25l[41;117H~@k[31;8H[41;117H   [30;8H[41;129H1[30;8H[?12l[?25h[?25l[41;117H~@k[30;8H[41;117H   [29;8H[41;129H0[29;8H[?12l[?25h[?25l[41;117H~@k[29;8H[41;117H   [28;8H[41;128H19[28;8H[?12l[?25h[?25l[41;117H~@k[28;8H[41;117H   [27;8H[41;129H8[27;8H[?12l[?25h[?25l[41;117H~@k[27;8H[41;117H   [26;8H[41;129H7[26;8H[?12l[?25h[?25l[41;117H~@k[26;8H[41;117H   [25;1H[41;129H6,1  [25;1H[?12l[?25h[?25l[41;117H~@k[25;1H[41;117H   [24;1H[41;129H5,0-1[24;1H[?12l[?25h[?25l[41;117H~@k[24;1H[41;117H   [23;1H[17;1H[46m{[23;1H}[m[41;129H4,1  [23;1H[?12l[?25h[?25l[41;117H~@k[23;1H[41;117H   [22;8H[17;1H{[23;1H}[41;129H3,1-8[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H   [21;8H[41;129H2[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H   [20;8H[41;129H1[20;8H[?12l[?25h[?25l[41;117Hd[20;8H[?12l[?25h[?25l[41;118Hd[20;8H[41;117H  [20;9H[1;13H[1m+. /../h/hdmi_gpio.c [m[112C[7m [m[1;144H[4m[30m[47mX[20;40r[m[40;1H
[1;41r[40;1H[1m[34m~                                                                                                                                               [m[41;127H[K[41;127H111,2-9[7CBot[20;9H[?12l[?25h[?25l[41;117H~@k[20;9H[41;117H   [19;9H[41;129H0[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [18;9H[41;128H09[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [17;1H[46m{[22;1H}[m[41;129H8,1  [17;1H[?12l[?25h[?25l[41;117H~@k[17;1H[41;117H   [16;9H
{[22;1H}[41;129H7,9[16;9H[?12l[?25h[?25l[41;117H~@k[16;9H[41;117H   [15;1H[41;129H6,0-1[15;1H[?12l[?25h[?25l[41;117H~@k[15;1H[41;117H   [14;1H[41;129H5,1  [14;1H[?12l[?25h[?25l[41;117H~@k[14;1H[41;117H   [13;9H[41;129H4,2-9[13;9H[?12l[?25h[?25l[41;117H~@k[13;9H[41;117H   [12;1H[41;129H3,1  [12;1H[?12l[?25h[?25l[41;117H~@k[12;1H[41;117H   [11;9H[41;129H2,2-9[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [10;9H[7;19H[46m{[10;9H}[m[41;129H1[10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [9;16H[7;19H{[10;9H}[41;129H0,2-16[9;16H[?12l[?25h[?25l[41;117H~@k[9;16H[41;117H   [8;16H[41;127H99,2-16 [8;16H[?12l[?25h[?25l[41;117H~@k[8;16H[41;117H   [7;9H[41;128H8,2-9 [7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[34m                put_device(dev);[m[41;127H[K[41;127H97,2-9[8CBot[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[34m        if (error){[m[41;127H[K[41;127H96,2-9[8C98%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;6H[2;40r[2;1H[L[1;41r[2;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H95,6[10C97%[7;6H[?12l[?25h[?25l[41;117H~@k[7;6H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[34m        }[m[4;19H[34m[46m{[7;9H}[m[41;127H[K[41;127H94,2-9[8C96%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;1H[34m                pr_err("No Read device attribute Added%d\n", error);[5;19H{[8;9H}[m[41;127H[K[41;127H93,2-16[7C95%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;1H[34m                put_device(dev);[m[41;127H[K[41;127H92,2-16[7C94%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[34m        if (error){[m[41;127H[K[41;127H91,2-9[8C93%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H90,2-9[8C92%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[35m#if 0[m[4;19H[34m[46m{[7;9H}[m[41;127H[K[41;127H89,2-9[8C91%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[5;19H[34m{[8;9H}[m[41;127H[K[41;127H88,2-16[7C90%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H87,2-16[7C89%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hmsleep([31m1000[m);[41;127H[K[41;127H86,2-9[8C87%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H85,2-9[8C86%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;5H[2;40r[2;1H[L[1;41r[2;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H84,5[10C85%[7;5H[?12l[?25h[?25l[41;117H~@k[7;5H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H83,2-9[8C84%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hmsleep([31m1000[m);[4;30H[46m{[7;9H}[m[41;127H[K[41;127H82,2-9[8C83%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[5;30H{[8;9H}[41;127H[K[41;127H81,2-16[7C82%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H80,2-16[7C81%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H79,2-9[8C80%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[33mwhile[m([31m1[m){[4;29H[46m{[7;9H}[m[41;127H[K[41;127H78,2-9[8C79%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9Herror = request_irq(irqNumber,(irq_handler_t)hdmigpio_irq_handler,IRQF_TRIGGER_RISING,[31m"hdmi_gpio_handler"[m,[31mNULL[m);[5;29H{[8;9H}[41;127H[K[41;127H77,2-16[7C78%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9HirqNumber = gpio_to_irq(hdmi_gpio);[41;127H[K[41;127H76,2-16[7C76%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H75,2-9[8C75%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H74,2-9[8C74%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[7;9H[46m{[37;1H}[m[41;127H[K[41;127H73,9[10C73%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H}[8;9H{[38;1H}[41;127H[K[41;127H72,2-9[8C72%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H71,2-9[8C71%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [8;9H[41;128H2[8;9H[?12l[?25h[?25l[41;117H~@k[8;9H[41;117H   [9;9H[46m{[39;1H}[m[41;128H3,9  [9;9H[?12l[?25h[?25l[41;117H~@k[9;9H[41;117H   [10;9H[9;9H{[39;1H}[41;128H4,2-9[10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [11;9H[41;128H5[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [12;16H[41;128H6,2-16[12;16H[?12l[?25h[?25l[41;117H~@k[12;16H[41;117H   [13;16H[41;128H7[13;16H[?12l[?25h[?25l[41;117H~@k[13;16H[41;117H   [14;9H[11;29H[46m{[14;9H}[m[41;128H8,2-9 [14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [15;9H[11;29H{[14;9H}[41;128H9[15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [16;16H[41;127H80,2-16[16;16H[?12l[?25h[?25l[41;117H~@k[16;16H[41;117H   [17;16H[41;128H1[17;16H[?12l[?25h[?25l[41;117H~@k[17;16H[41;117H   [18;9H[15;30H[46m{[18;9H}[m[41;128H2,2-9 [18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [19;9H[15;30H{[18;9H}[41;128H3[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [20;5H[41;128H4,5  [20;5H[?12l[?25h[?25l[41;117H~@k[20;5H[41;117H   [19;9H[41;128H3,2-9[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [18;9H[15;30H[46m{[18;9H}[m[41;128H2[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [17;16H[15;30H{[18;9H}[41;128H1,2-16[17;16H[?12l[?25h[?25l[41;117H~@k[17;16H[41;117H   [16;16H[41;128H0[16;16H[?12l[?25h[?25l[41;117H~@k[16;16H[41;117H   [15;9H[41;127H79,2-9 [15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [14;9H[11;29H[46m{[14;9H}[m[41;128H8[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [13;16H[11;29H{[14;9H}[41;128H7,2-16[13;16H[?12l[?25h[?25l[41;117H~@k[13;16H[41;117H   [12;16H[41;128H6[12;16H[?12l[?25h[?25l[41;117H~@k[12;16H[41;117H   [11;9H[41;128H5,2-9 [11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [10;9H[41;128H4[10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [9;9H[46m{[39;1H}[m[41;128H3,9  [9;9H[?12l[?25h[?25l[41;117H~@k[9;9H[41;117H   [8;9H[9;9H{[39;1H}[41;128H2,2-9[8;9H[?12l[?25h[?25l[41;117Hd[8;9H[?12l[?25h[?25l[41;118Hd[8;9H[41;117H  [8;1H[8;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H72,1[10C72%[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [7;8H[41;128H1,1-8[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H70,1-8[8C71%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H69,1-8[8C70%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H68,1-8[8C68%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H67,1-8[8C67%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[33mif[m (error)[41;127H[K[41;127H66,1-8[8C66%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H65,1-8[8C65%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H64,1-8[8C64%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H63,1-8[8C63%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H62,1-8[8C62%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[32mint[m error=[31m0[m;[41;127H[K[41;127H61,1-8[8C61%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H{[41;127H[K[41;127H60,1-8[8C60%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H59,0-1[8C58%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H58,1-8[8C57%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H57,1-8[8C56%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H56,1-8[8C55%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H55,1[10C54%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H54,1[10C53%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H53,1[10C52%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[4;37H[46m{


}[m[41;127H[K[41;127H52,1[10C51%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_group,[5;37H{


}[41;127H[K[41;127H51,1-8[8C50%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H50,1-8[8C48%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H49,1[10C47%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.attrs = dev_attrs,[31mNULL[m[4;58H[46m{


}[m[41;127H[K[41;127H48,1[10C46%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[5;58H{


}[41;127H[K[41;127H47,1-8[8C45%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H46,1-8[8C44%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H45,1[10C43%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_change.attr,[5;48H[46m{

}[m[41;127H[K[41;127H44,1[10C42%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_read.attr,[6;48H{

}[41;127H[K[41;127H43,1-8[8C41%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[41;127H[K[41;127H42,1[10C40%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[3;40H[46m{[7;1H}[m[41;127H[K[41;127H41,1[10C38%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);[4;40H{[8;1H}[41;127H[K[41;127H40,1-8[8C37%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);[41;127H[K[41;127H39,1-8[8C36%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H38,1-8[8C35%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H37,1[10C34%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[34m//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[41;127H[K[41;127H36,0-1[8C33%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[34m//if(count)[m[41;127H[K[41;127H35,1[10C32%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H34,1[10C31%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[3;89H[46m{[7;1H}[m[41;127H[K[41;127H33,1[10C30%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H}[4;89H{[8;1H}[41;127H[K[41;127H32,1-8[8C28%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H31,1-8[8C27%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H30,1-8[8C26%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H29,1-8[8C25%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m irq_handler_t hdmigpio_irq_handler([32munsigned[m [32mint[m irq, [32mvoid[m *dev_id,[32mstruct[m pt_regs *regs);[41;127H[K[41;127H28,1[10C24%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[5;94H[46m{

}[m[41;127H[K[41;127H27,1[10C23%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32munsigned[m [32mint[m irqNumber;[6;94H{

}[41;127H[K[41;127H26,1-8[8C22%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;[41;127H[K[41;127H25,1[10C21%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m hdmi_pin;[41;127H[K[41;127H24,0-1[8C20%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstruct[m miscdevice;[41;127H[K[41;127H23,1[10C18%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H22,0-1[8C17%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/delay.h>[m[41;127H[K[41;127H21,1[10C16%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/gpio.h>[m[41;127H[K[41;127H20,1[10C15%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [8;1H[41;128H1[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [9;1H[41;128H2,0-1[9;1H[?12l[?25h[?25l[41;117H~@k[9;1H[41;117H   [10;1H[41;128H3,1  [10;1H[?12l[?25h[?25l[41;117Hd[10;1H[?12l[?25h[?25l[41;118Hd[10;1H[41;117H  [10;1H[10;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H23,0-1[8C15%[10;1H[?12l[?25h[?25l[41;117H~@k[10;1H[41;117H   [9;1H[41;128H2[9;1H[?12l[?25h[?25l[41;117H~@k[9;1H[41;117H   [8;1H[41;128H1,1  [8;1H[?12l[?25h[?25l[41;117Hd[8;1H[?12l[?25h[?25l[41;118Hd[8;1H[41;117H  [8;1H[8;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H21,0-1[8C15%[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [7;1H[41;128H0,1  [7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/interrupt.h>[m[41;127H[K[41;127H19,1[10C14%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/device.h>[m[41;127H[K[41;127H18,1[10C13%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/kobject.h>[m[41;127H[K[41;127H17,0-1[8C12%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/types.h>[m[41;127H[K[41;127H16,1[10C11%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/list.h>[m[41;127H[K[41;127H15,1[10C10%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/major.h>[m[41;127H[K[41;127H14,1[11C9%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/miscdevice.h>[m[41;127H[K[41;127H13,1[11C7%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/module.h>[m[41;127H[K[41;127H12,1[11C6%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<asm/uaccess.h>[m[41;127H[K[41;127H11,1[11C5%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/sysfs.h>[m[41;127H[K[41;127H10,1[11C4%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/fs.h>[m[41;127H[K[41;127H9,1[12C3%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [8;1H[41;127H10,1[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [9;1H[41;128H1[9;1H[?12l[?25h[?25l[41;117H~@k[9;1H[41;117H   [10;1H[41;128H2[10;1H[?12l[?25h[?25l[41;117H~@k[10;1H[41;117H   [11;1H[41;128H3[11;1H[?12l[?25h[?25l[41;117H~@k[11;1H[41;117H   [12;1H[41;128H4[12;1H[?12l[?25h[?25l[41;117Hd[12;1H[?12l[?25h[?25l[41;118Hd[12;1H[41;117H  [12;1H[12;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H14,1[11C3%[12;1H[?12l[?25h[?25l[41;117H~@k[12;1H[41;117H   [13;1H[41;128H5[13;1H[?12l[?25h[?25l[41;117H~@k[13;1H[41;117H   [14;1H[41;128H6,0-1[14;1H[?12l[?25h[?25l[41;117Hg[14;1H[?12l[?25h[?25l[41;117H [14;1H[41;117Hgt[14;1H[41;117H  [29;82H[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk[46m([m[31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error][46m)[m;[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H28,68-82      All[29;82H[?12l[?25h[?25l[41;117H~@k[29;82H[41;117H   [28;39H[46m{[m[29;23H([58C)[30;9H[46m}[m[41;128H7,32-39[28;39H[?12l[?25h[?25l[41;117H~@k[28;39H[41;117H   [27;82H[28;39H{[30;9H}[41;128H6,75-82[27;82H[?12l[?25h[?25l[41;117H~@k[27;82H[41;117H   [26;82H[41;128H5[26;82H[?12l[?25h[?25l[41;117H~@k[26;82H[41;117H   [25;48H[41;128H4,34-48[25;48H[?12l[?25h[?25l[41;117H~@k[25;48H[41;117H   [24;38H[24;12H[46m([25C)[m[41;128H3,31-3[24;38H[?12l[?25h[?25l[41;117H~@k[24;38H[41;117H   [23;29H[24;12H([25C)[41;128H2,22-29[23;29H[?12l[?25h[?25l[41;117H~@k[23;29H[41;117H   [22;35H[41;128H1,28-35[22;35H[?12l[?25h[?25l[41;117H~@k[22;35H[41;117H   [21;54H[41;128H0,47-54[21;54H[?12l[?25h[?25l[41;117H~@k[21;54H[41;117H   [20;57H[41;127H19,50-57[20;57H[?12l[?25h[?25l[41;117H~@k[20;57H[41;117H   [19;46H[41;128H8,39-46[19;46H[?12l[?25h[?25l[41;117H~@k[19;46H[41;117H   [18;39H[41;128H7,32-39[18;39H[?12l[?25h[?25l[41;117H~@k[18;39H[41;117H   [17;35H[41;128H6,28-35[17;35H[?12l[?25h[?25l[41;117H~@k[17;35H[41;117H   [16;18H[41;128H5,11-18[16;18H[?12l[?25h[?25l[41;117H~@k[16;18H[41;117H   [15;37H[46m{[32;1H}[m[41;128H4,37   [15;37H[?12l[?25h[?25l[41;117H~@k[15;37H[41;117H   [14;1H[15;37H{[32;1H}[41;128H3,0-1[14;1H[?12l[?25h[?25l[41;117H~@k[14;1H[41;117H   [13;11H[41;128H2,11 [13;11H[?12l[?25h[?25l[41;117H~@k[13;11H[41;117H   [12;38H[41;128H1,31-38[12;38H[?12l[?25h[?25l[41;117H~@k[12;38H[41;117H   [11;19H[41;128H0,12-19[11;19H[?12l[?25h[?25l[41;117H~@k[11;19H[41;117H   [10;25H[41;127H9,18-25 [10;25H[?12l[?25h[?25l[41;117H~@k[10;25H[41;117H   [9;16H[46m{[13;1H}[m[41;127H8,16   [9;16H[?12l[?25h[?25l[41;117H~@k[9;16H[41;117H   [8;1H[9;16H{[13;1H}[41;127H7,0-1[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [7;45H[41;127H6,45 [7;45H[?12l[?25h[?25l[41;117H~@k[7;45H[41;117H   [6;34H[41;127H5,34[6;34H[?12l[?25h[?25l[41;117H~@k[6;34H[41;117H   [5;30H[41;127H4,30[5;30H[?12l[?25h[?25l[41;117H~@k[5;30H[41;117H   [4;25H[41;127H3,25[4;25H[?12l[?25h[?25l[41;117H~@k[4;25H[41;117H   [3;33H[41;127H2,33[3;33H[?12l[?25h[?25l[41;117H~@k[3;33H[41;117H   [2;30H[41;127H1,30[2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H   [2;30H[?12l[?25h[?25l[41;117HV[2;30H[41;117H1[2;30H[7m[35m#include [m[7m[31m<linux/dma-mapping.h[m[1C[7m [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[2;30H[41;127H1,30[10CAll[2;30H[?12l[?25h[?25l[41;117H~@k[2;30H[41;117H2  [3;34H[2;30H[7m[31m>[m
[7m[35m#include [m[7m[31m<linux/mailbox_client.h>[m[41;127H2,34[3;34H[?12l[?25h[?25l[41;117H~@k[3;34H[41;117H3  [4;26H[3;34H[7m [m
[7m[35m#include [m[7m[31m<linux/module.h>[m[41;127H3,26[4;26H[?12l[?25h[?25l[41;117H~@k[4;26H[41;117H4  [5;31H[4;26H[7m [m
[7m[35m#include [m[7m[31m<linux/of_platform.h>[m[41;127H4,31[5;31H[?12l[?25h[?25l[41;117H~@k[5;31H[41;117H5  [6;35H[5;31H[7m [m
[7m[35m#include [m[7m[31m<linux/platform_device.h>[m[41;127H5,35[6;35H[?12l[?25h[?25l[41;117H~@k[6;35H[41;117H6  [7;46H[6;35H[7m [m
[7m[35m#include [m[7m[31m<soc/bcm2835/raspberrypi-firmware.h>[m[41;127H6,46[7;46H[?12l[?25h[?25l[41;117Hy[7;46H[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m[2;31H[K[3;1H[35m#include [m[31m<linux/mailbox_client.h>[m[3;34H[K[4;1H[35m#include [m[31m<linux/module.h>[m[4;26H[K[5;1H[35m#include [m[31m<linux/of_platform.h>[m[5;31H[K[6;1H[35m#include [m[31m<linux/platform_device.h>[m[6;35H[K[7;1H[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m[41;1H[K[41;127H1,1[11CAll6 lines yanked[41;127H[K[2;1H[41;127H1,1[11CAll[2;1H[?12l[?25h[?25l[41;117Hg[2;1H[?12l[?25h[?25l[41;117H [2;1H[41;117Hgt[2;1H[41;117H  [14;1H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/fs.h>[m
[35m#include [m[31m<linux/sysfs.h>[m
[35m#include [m[31m<asm/uaccess.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/miscdevice.h>[m
[35m#include [m[31m<linux/major.h>[m
[35m#include [m[31m<linux/list.h>[m
[35m#include [m[31m<linux/types.h>[m
[35m#include [m[31m<linux/kobject.h>[m
[35m#include [m[31m<linux/device.h>[m
[35m#include [m[31m<linux/gpio.h>[m
[35m#include [m[31m<linux/delay.h>[m

[32mstruct[m miscdevice;
[32mstatic[m [32mint[m hdmi_pin;
[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;


[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[21;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[24;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[25;9H[34m//if(count)[26;9H//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[27;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);
[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);

[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[33;9H&dev_attr_read.attr,[34;9H&dev_attr_change.attr,[35;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[38;9H.attrs = dev_attrs,[31mNULL[m
};
[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H16,0-1[9C3%[14;1H[?12l[?25h[?25l[41;117Hp[14;1H[41;1H6 more lines[41;117H[K[15;1H[15;40r[15;1H[6L[1;41r[15;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m[41;1H[K[41;127H17,1[11C3%6 more lines[41;127H[K[41;127H17,1[11C3%[15;1H[?12l[?25h[?25l[41;117H~@k[15;1H[41;117H   [16;1H[41;128H8[16;1H[?12l[?25h[?25l[41;117H~@k[16;1H[41;117H   [17;1H[41;128H9[17;1H[?12l[?25h[?25l[41;117Hd[17;1H[?12l[?25h[?25l[41;118Hd[17;1H[41;117H  [17;1H[17;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;1H[K[41;127H19,1[11C3%[17;1H[?12l[?25h[?25l[41;117Hd[17;1H[?12l[?25h[?25l[41;118Hd[17;1H[41;117H  [17;1H[17;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H19,1[11C3%[17;1H[?12l[?25h[?25l[41;117Hd[17;1H[?12l[?25h[?25l[41;118Hd[17;1H[41;117H  [17;1H[17;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H[K[41;127H19,1[11C3%[17;1H[?12l[?25h[?25l[41;117H~@k[17;1H[41;117H   [16;1H[41;128H8[16;1H[?12l[?25h[?25l[41;117H~@k[16;1H[41;117H   [15;1H[41;128H7[15;1H[?12l[?25h[?25l[41;117H~@k[15;1H[41;117H   [14;1H[41;128H6,0-1[14;1H[?12l[?25h[?25l[41;117Hi[14;1H[41;117H [14;1H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H16,1[11C3%[14;1H[?12l[?25h[?25l[13;40r[40;1H
[1;41r[13;1H[35m#include [m[31m<linux/delay.h>[m[40;9H.attrs = dev_attrs,[31mNULL[m[41;127H[K[41;127H15,25[10C3%[13;25H[?12l[?25h[?25l[41;128H6[14;25H[?12l[?25h[?25l[41;128H7[15;25H[?12l[?25h[?25l[41;128H8[16;25H[?12l[?25h[?25l[41;128H9,19[17;19H[?12l[?25h[?25l[41;127H20,21[18;21H[?12l[?25h[?25l[41;127H19,19[17;19H[?12l[?25h[?25l[41;131H8[17;18H[?12l[?25h[?25l[41;131H7[17;17H[?12l[?25h[?25l[41;131H6[17;16H[?12l[?25h[?25l[41;131H5[17;15H[?12l[?25h[?25l[41;131H4[17;14H[?12l[?25h[?25l[41;131H3[17;13H[?12l[?25h[?25l[41;131H2[17;12H[?12l[?25h[?25l[41;131H1[17;11H[?12l[?25h[?25l[41;131H0[17;10H[?12l[?25h[?25l[41;130H9 [17;9H[?12l[?25h[?25l[41;130H8[17;8H[?12l[?25h[?25l[41;130H7[17;7H[?12l[?25h[?25l[41;130H6[17;6H[?12l[?25h[?25l[41;130H5[17;5H[?12l[?25h[?25l[41;130H4[17;4H[?12l[?25h[?25l[41;130H3[17;3H[?12l[?25h[?25l[41;130H2[17;2H[?12l[?25h[?25l[41;130H1[17;1H[?12l[?25h[?25l[18;40r[18;1H[L[1;41r[17;1H[K[18;1H[32mstruct[m miscdevice;[41;127H[K[41;127H20,1[11C3%[18;1H[?12l[?25h[?25lgstruct miscdevice;[41;130H2[18;2H[?12l[?25h[?25ltstruct miscdevice;[41;130H3[18;3H[?12l[?25h[?25lstruct miscdevice;[18;20H[K[41;130H2[18;2H[?12l[?25h[?25l[32mstruct[m miscdevice;[18;19H[K[41;130H1[18;1H[?12l[?25h[41;1H[K[18;1H[?25l[41;117H^[[18;1H[41;117H  [18;1H[41;127H20,1[11C3%[18;1H[?12l[?25h[?25l[41;117Hg[18;1H[?12l[?25h[?25l[41;117H [18;1H[41;117Hgt[18;1H[41;117H  [2;1H[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H1,1[11CAll[2;1H[?12l[?25h[?25l[41;117H~@k[2;1H[41;117H   [3;1H[41;127H2[3;1H[?12l[?25h[?25l[41;117H~@k[3;1H[41;117H   [4;1H[41;127H3[4;1H[?12l[?25h[?25l[41;117H~@k[4;1H[41;117H   [5;1H[41;127H4[5;1H[?12l[?25h[?25l[41;117H~@k[5;1H[41;117H   [6;1H[41;127H5[6;1H[?12l[?25h[?25l[41;117H~@k[6;1H[41;117H   [7;1H[41;127H6[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [8;1H[41;127H7,0-1[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [9;1H[41;127H8,1  [9;1H[?12l[?25h[?25l[41;117HV[9;1H[41;117H1[9;1H[1C[7m[32mtruct[m[7m edid_tag{ [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[9;1H[41;127H8,1[11CAll[9;1H[?12l[?25h[?25l[41;117Hg[9;1H[?12l[?25h[?25l[41;117H1[9;1H[41;118Hgt[9;1H[41;117H   [18;1H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/fs.h>[m
[35m#include [m[31m<linux/sysfs.h>[m
[35m#include [m[31m<asm/uaccess.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/miscdevice.h>[m
[35m#include [m[31m<linux/major.h>[m
[35m#include [m[31m<linux/list.h>[m
[35m#include [m[31m<linux/types.h>[m
[35m#include [m[31m<linux/kobject.h>[m
[35m#include [m[31m<linux/device.h>[m
[35m#include [m[31m<linux/gpio.h>[m
[35m#include [m[31m<linux/delay.h>[m
[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m miscdevice;
[32mstatic[m [32mint[m hdmi_pin;
[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;


[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[24;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[27;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[28;9H[34m//if(count)[29;9H//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[30;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);
[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);

[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[36;9H&dev_attr_read.attr,[37;9H&dev_attr_change.attr,[38;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H20,1[11C3%[18;1H[?12l[?25h[?25l[41;117Hg[18;1H[?12l[?25h[?25l[41;117H [18;1H[41;117Hgt[18;1H[41;117H  [9;1H[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H8,1[11CAll[9;1H[?12l[?25h[?25l[41;117HV[9;1H[41;117H1[9;1H[1C[7m[32mtruct[m[7m edid_tag{ [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[9;1H[41;127H8,1[11CAll[9;1H[?12l[?25h[?25l[41;117H~@k[9;1H[41;117H2  [10;8H[9;1H[7m[32ms[m
[7m       [m [7mu32 block_number; [m[41;127H9,1-8[10;8H[?12l[?25h[?25l[41;117H~@k[10;8H[41;117H3  [11;8H[10;8H[7m 
       [m [7mu32 status; [m[41;127H10,1-8[11;8H[?12l[?25h[?25l[41;117H~@k[11;8H[41;117H4  [12;8H[11;8H[7m 
       [m [7m[32munsigned[m[7m [m[7m[32mchar[m[7m edid_block[[m[7m[31m128[m[7m]; [m[41;128H1[12;8H[?12l[?25h[?25l[41;117H~@k[12;8H[41;117H5  [13;1H[12;8H[7m [m
[46m}[m[7medid_tag1; [m[41;128H2,1  [13;1H[?12l[?25h[?25l[41;117Hy[13;1H[9;1H[32mstruct[m edid_tag[46m{[m[9;17H[K[10;1H        u32 block_number;[10;26H[K[11;1H        u32 status;[11;20H[K[12;1H        [32munsigned[m [32mchar[m edid_block[[31m128[m];[12;39H[K[13;2Hedid_tag1;[13;12H[K[41;1H[K[41;127H8,1[11CAll5 lines yanked[41;127H[K[9;1H[15C{[13;1H}[41;127H8,1[11CAll[9;1H[?12l[?25h[?25l[41;117Hg[9;1H[?12l[?25h[?25l[41;117H [9;1H[41;117Hgt[9;1H[41;117H  [18;1H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/fs.h>[m
[35m#include [m[31m<linux/sysfs.h>[m
[35m#include [m[31m<asm/uaccess.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/miscdevice.h>[m
[35m#include [m[31m<linux/major.h>[m
[35m#include [m[31m<linux/list.h>[m
[35m#include [m[31m<linux/types.h>[m
[35m#include [m[31m<linux/kobject.h>[m
[35m#include [m[31m<linux/device.h>[m
[35m#include [m[31m<linux/gpio.h>[m
[35m#include [m[31m<linux/delay.h>[m
[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m miscdevice;
[32mstatic[m [32mint[m hdmi_pin;
[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;


[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[24;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[27;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[28;9H[34m//if(count)[29;9H//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[30;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);
[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);

[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[36;9H&dev_attr_read.attr,[37;9H&dev_attr_change.attr,[38;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H20,1[11C3%[18;1H[?12l[?25h[?25l[41;117H~@k[18;1H[41;117H   [19;1H[41;128H1[19;1H[?12l[?25h[?25l[41;117H~@k[19;1H[41;117H   [20;1H[41;128H2[20;1H[?12l[?25h[?25l[41;117H~@k[20;1H[41;117H   [21;1H[41;128H3,0-1[21;1H[?12l[?25h[?25l[41;117Hp[21;1H[41;1H5 more lines[41;117H[K[22;1H[22;40r[22;1H[5L[1;41r[22;1H[32mstruct[m edid_tag{[23;9Hu32 block_number;[24;9Hu32 status;[25;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;[41;1H[K[41;127H24,1[11C3%5 more lines[41;127H[K[41;127H24,1[11C3%[22;1H[?12l[?25h[?25l[41;117H~@k[22;1H[41;117H   [23;8H[41;128H5,1-8[23;8H[?12l[?25h[?25l[41;117H~@k[23;8H[41;117H   [24;8H[41;128H6[24;8H[?12l[?25h[?25l[41;117H~@k[24;8H[41;117H   [25;8H[41;128H7[25;8H[?12l[?25h[?25l[41;117H~@k[25;8H[41;117H   [26;1H[22;16H[46m{[26;1H}[m[41;128H8,1  [26;1H[?12l[?25h[?25l[41;117H~@k[26;1H[41;117H   [27;1H[22;16H{[26;1H}[41;128H9,0-1[27;1H[?12l[?25h[?25l[41;117H~@k[27;1H[41;117H   [26;1H[22;16H[46m{[26;1H}[m[41;128H8,1  [26;1H[?12l[?25h[?25l[41;117H~@k[26;1H[41;117H   [26;2H[22;16H{[26;1H}[41;130H2[26;2H[?12l[?25h[?25l[41;117H~@k[26;2H[41;117H   [26;3H[41;130H3[26;3H[?12l[?25h[?25l[41;117H~@k[26;3H[41;117H   [26;4H[41;130H4[26;4H[?12l[?25h[?25l[41;117H~@k[26;4H[41;117H   [26;5H[41;130H5[26;5H[?12l[?25h[?25l[41;117H~@k[26;5H[41;117H   [26;6H[41;130H6[26;6H[?12l[?25h[?25l[41;117H~@k[26;6H[41;117H   [26;7H[41;130H7[26;7H[?12l[?25h[?25l[41;117H~@k[26;7H[41;117H   [26;8H[41;130H8[26;8H[?12l[?25h[?25l[41;117H~@k[26;8H[41;117H   [26;9H[41;130H9[26;9H[?12l[?25h[?25l[41;117H~@k[26;9H[41;117H   [26;10H[41;130H10[26;10H[?12l[?25h[?25l[41;117H~@k[26;10H[41;117H   [26;11H[41;131H1[26;11H[?12l[?25h[?25l[41;117H~@k[26;11H[41;117H   [26;11H[?12l[?25h[?25l[41;117Hi[26;11H[41;117H [26;11H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H28,11[10C3%[26;11H[?12l[?25h[?25l[41;131H2[26;12H[?12l[?25h[?25l[27;40r[27;1H[L[1;41r[41;127H[K[41;127H29,1[11C3%[27;1H[?12l[?25h[41;1H[K[27;1H[?25l[41;117H^[[27;1H[41;117H  [27;1H[41;127H29,0-1[9C3%[27;1H[?12l[?25h[?25l[41;117Hg[27;1H[?12l[?25h[?25l[41;117H [27;1H[41;117Hgt[27;1H[41;117H  [9;1H[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H8,1[11CAll[9;1H[?12l[?25h[?25l[41;117H~@k[9;1H[41;117H   [10;8H[41;127H9,1-8[10;8H[?12l[?25h[?25l[41;117H~@k[10;8H[41;117H   [11;8H[41;127H10,1-8[11;8H[?12l[?25h[?25l[41;117H~@k[11;8H[41;117H   [12;8H[41;128H1[12;8H[?12l[?25h[?25l[41;117H~@k[12;8H[41;117H   [13;1H[9;16H[46m{[13;1H}[m[41;128H2,1  [13;1H[?12l[?25h[?25l[41;117H~@k[13;1H[41;117H   [14;1H[9;16H{[13;1H}[41;128H3,0-1[14;1H[?12l[?25h[?25l[41;117H~@k[14;1H[41;117H   [15;1H[41;128H4,1  [15;1H[?12l[?25h[?25l[41;117H~@k[15;1H[41;117H   [16;8H[41;128H5,1-8[16;8H[?12l[?25h[?25l[41;117H~@k[16;8H[41;117H   [17;8H[41;128H6[17;8H[?12l[?25h[?25l[41;117H~@k[17;8H[41;117H   [18;8H[41;128H7[18;8H[?12l[?25h[?25l[41;117H~@k[18;8H[41;117H   [19;8H[41;128H8[19;8H[?12l[?25h[?25l[41;117H~@k[19;8H[41;117H   [20;8H[41;128H9[20;8H[?12l[?25h[?25l[41;117H~@k[20;8H[41;117H   [21;8H[41;127H20[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H   [22;8H[41;128H1[22;8H[?12l[?25h[?25l[41;117Hg[22;8H[?12l[?25h[?25l[41;117H [22;8H[41;117Hgt[22;8H[41;117H  [27;1H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/fs.h>[m
[35m#include [m[31m<linux/sysfs.h>[m
[35m#include [m[31m<asm/uaccess.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/miscdevice.h>[m
[35m#include [m[31m<linux/major.h>[m
[35m#include [m[31m<linux/list.h>[m
[35m#include [m[31m<linux/types.h>[m
[35m#include [m[31m<linux/kobject.h>[m
[35m#include [m[31m<linux/device.h>[m
[35m#include [m[31m<linux/gpio.h>[m
[35m#include [m[31m<linux/delay.h>[m
[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m miscdevice;
[32mstatic[m [32mint[m hdmi_pin;
[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;

[32mstruct[m edid_tag{[23;9Hu32 block_number;[24;9Hu32 status;[25;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;


[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[30;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[33;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[34;9H[34m//if(count)[35;9H//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[36;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);
[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);[41;127H29,0-1[9C3%[27;1H[?12l[?25h[?25l[41;117H^M[27;1H[41;117H  [28;1H[41;127H30[28;1H[?12l[?25h[?25l[41;117Hi[28;1H[41;117H [28;1H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H30,1[11C3%[28;1H[?12l[?25h[?25l[29;40r[29;1H[L[1;41r[41;127H[K[41;127H31,1[11C3%[29;1H[?12l[?25h[?25l[41;128H0[28;1H[?12l[?25h[?25ls[41;130H2[28;2H[?12l[?25h[?25lt[41;130H3[28;3H[?12l[?25h[?25la[41;130H4[28;4H[?12l[?25h[?25lt[41;130H5[28;5H[?12l[?25h[?25li[41;130H6[28;6H[?12l[?25h[?25l[32mstatic[m[41;130H7[28;7H[?12l[?25h[?25l[41;130H8[28;8H[?12l[?25h[?25lc[41;130H9[28;9H[?12l[?25h[?25lh[41;130H10[28;10H[?12l[?25h[?25la[41;131H1[28;11H[?12l[?25h[?25l[32mchar[m[41;131H2[28;12H[?12l[?25h[?25l*[41;131H3[28;13H[?12l[?25h[?25l[41;131H4[28;14H[?12l[?25h[?25le[41;131H5[28;15H[?12l[?25h[?25ld[41;131H6[28;16H[?12l[?25h[?25li[41;131H7[28;17H[?12l[?25h[?25ld[41;131H8[28;18H[?12l[?25h[?25l_[41;131H9[28;19H[?12l[?25h[?25l[28;18H[K[41;131H8[28;18H[?12l[?25h[?25l[28;17H[K[41;131H7[28;17H[?12l[?25h[?25l[28;16H[K[41;131H6[28;16H[?12l[?25h[?25l[28;15H[K[41;131H5[28;15H[?12l[?25h[?25l[28;14H[K[41;131H4[28;14H[?12l[?25h[?25lg[41;131H5[28;15H[?12l[?25h[?25le[41;131H6[28;16H[?12l[?25h[?25lt[41;131H7[28;17H[?12l[?25h[?25l_[41;131H8[28;18H[?12l[?25h[?25lp[41;131H9[28;19H[?12l[?25h[?25lr[41;130H20[28;20H[?12l[?25h[?25lo[41;131H1[28;21H[?12l[?25h[?25lj[41;131H2[28;22H[?12l[?25h[?25le[41;131H3[28;23H[?12l[?25h[?25lc[41;131H4[28;24H[?12l[?25h[?25lt[41;131H5[28;25H[?12l[?25h[?25lo[41;131H6[28;26H[?12l[?25h[?25lr[41;131H7[28;27H[?12l[?25h[?25l([30;94H[1m[37m[41m{

}[34;89H{[38;1H}[m[41;131H8[28;28H[?12l[?25h[?25l)[30;94H{

}[34;89H{[38;1H}[28;27H[46m()[m[41;131H9[28;29H[?12l[?25h[?25l{()[41;130H30[28;30H[?12l[?25h[?25l[29;40r[29;1H[L[1;41r[41;127H[K[41;127H31,2-9[9C3%[29;9H[?12l[?25h[?25l}[28;29H[46m{
}[m[41;131H  [29;2H[?12l[?25h[?25l[41;130H1[29;1H[?12l[?25h[?25l[30;40r[30;1H[L[1;41r[29;1H[K[30;1H}[41;127H[K[41;127H32,1[11C3%[30;1H[46m}[?12l[?25h[?25l[m[28;29H{

}[41;128H1[29;1H[?12l[?25h[?25l[41;130H2-9[29;9H[?12l[?25h[?25l[41;128H0,9  [28;9H[?12l[?25h[?25l[41;130H10[28;10H[?12l[?25h[?25l[41;131H1[28;11H[?12l[?25h[?25l[41;131H2[28;12H[?12l[?25h[?25l[41;131H3[28;13H[?12l[?25h[?25l[41;131H4[28;14H[?12l[?25h[?25l[41;131H5[28;15H[?12l[?25h[?25l[41;131H6[28;16H[?12l[?25h[?25l[41;131H7[28;17H[?12l[?25h[?25l[41;131H8[28;18H[?12l[?25h[?25l[41;131H9[28;19H[?12l[?25h[?25l[41;130H20[28;20H[?12l[?25h[?25l[41;131H1[28;21H[?12l[?25h[?25l[41;131H2[28;22H[?12l[?25h[?25l[41;131H3[28;23H[?12l[?25h[?25l[41;131H4[28;24H[?12l[?25h[?25l[41;131H5[28;25H[?12l[?25h[?25l[41;131H6[28;26H[?12l[?25h[?25lr[46m()[m[41;131H7[28;27H[?12l[?25h[?25l[46m_([m){_[1C[46m)[m[41;131H8[28;28H[?12l[?25h[?25l[46mi([m){i[1C[46m)[m[41;131H9[28;29H[?12l[?25h[?25l[46md([m){d[1C[46m)[m[41;130H30[28;30H[?12l[?25h[?25l()[41;128H1,2-9[29;9H[?12l[?25h[?25lg[41;130H3-10[29;10H[?12l[?25h[?25lt[41;130H4-11[29;11H[?12l[?25h[?25l[29;10H[K[41;130H3-10[29;10H[?12l[?25h[?25l[29;9H[K[41;130H2-9 [29;9H[?12l[?25h[41;1H[K[29;8H[?25l[41;117H^[[29;8H[41;117H  [29;9H[41;127H31,1-8[9C3%[29;8H[?12l[?25h[?25l[41;117Hg[29;8H[?12l[?25h[?25l[41;117H [29;8H[41;117Hgt[29;8H[41;117H  [22;8H[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H21,1-8[8CAll[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H   [21;8H[41;128H0[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H   [20;8H[41;127H19[20;8H[?12l[?25h[?25l[41;117H~@k[20;8H[41;117H   [19;8H[41;128H8[19;8H[?12l[?25h[?25l[41;117H~@k[19;8H[41;117H   [18;8H[41;128H7[18;8H[?12l[?25h[?25l[41;117H~@k[18;8H[41;117H   [17;8H[41;128H6[17;8H[?12l[?25h[?25l[41;117H~@k[17;8H[41;117H   [16;8H[41;128H5[16;8H[?12l[?25h[?25l[41;117HV[16;8H[41;117H1[16;8H[7m       [m [7m[32mint[m[7m error; [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[16;8H[41;127H15,1-8[8CAll[16;8H[?12l[?25h[?25l[41;117H~@k[16;8H[41;117H2  [17;8H[16;8H[7m 
       [m [7mprintk(KERN_INFO [m[7m[31m"init[m[7m[35m\n[m[7m[31m"[m[7m); [m[41;128H6[17;8H[?12l[?25h[?25l[41;117H~@k[17;8H[41;117H3  [18;8H[17;8H[7m 
       [m [7m[32mstruct[m[7m device_node *fwr = [m[7m[31mNULL[m[7m; [m[41;128H7[18;8H[?12l[?25h[?25l[41;117H~@k[18;8H[41;117H4  [19;8H[18;8H[7m 
       [m [7m[34m//fw = of_find_compatible_node(NULL,);[m[7m [m[41;128H8[19;8H[?12l[?25h[?25l[41;117H~@k[19;8H[41;117H5  [20;8H[19;8H[7m 
       [m [7m[32mstruct[m[7m rpi_firmware *fw = rpi_firmware_get([m[7m[31mNULL[m[7m); [m[41;128H9[20;8H[?12l[?25h[?25l[41;117H~@k[20;8H[41;117H6  [21;8H[20;8H[7m 
       [m [7mprintk(KERN_INFO [m[7m[31m"rpi_firmware_get := [m[7m[35m%p[m[7m[31m"[m[7m,fw); [m[41;127H20[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H7  [22;8H[21;8H[7m 
       [m [7medid_tag1.block_number = [m[7m[31m0[m[7m; [m[41;128H1[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H8  [23;8H[22;8H[7m 
       [m [7medid_tag1.status = [m[7m[31m0[m[7m; [m[41;128H2[23;8H[?12l[?25h[?25l[41;117H~@k[23;8H[41;117H9  [24;8H[23;8H[7m 
       [m [7m[33mfor[m[7m(error=[m[7m[31m0[m[7m;error<[m[7m[31m128[m[7m;error++) [m[41;128H3[24;8H[?12l[?25h[?25l[41;117H~@k[24;8H[41;117H10 [25;8H[24;8H[7m 
       [m [7m        edid_tag1.edid_block[error] = [m[7m[31m0[m[7m; [m[41;128H4[25;8H[?12l[?25h[?25l[41;117H~@k[25;8H[41;117H11 [26;8H[25;8H[7m 
       [m [7merror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[m[7m[33msizeof[m[7m(edid_tag1)); [m[41;128H5[26;8H[?12l[?25h[?25l[41;117H~@k[26;8H[41;117H12 [27;8H[26;8H[7m 
       [m [7mprintk(KERN_INFO [m[7m[31m"Block No:[m[7m[35m%x[m[7m[31m, status:[m[7m[35m%x[m[7m[31m, error:[m[7m[35m%d[m[7m[31m"[m[7m,edid_tag1.block_number,edid_tag1.status,error); [m[41;128H6[27;8H[?12l[?25h[?25l[41;117H~@k[27;8H[41;117H13 [28;8H[27;8H[7m 
       [m [7m[33mfor[m[7m(error=[m[7m[31m0[m[7m;error<[m[7m[31m128[m[7m;error++){ [m[41;128H7[28;8H[?12l[?25h[?25l[41;117H~@k[28;8H[41;117H14 [29;8H[28;8H[7m 
       [m [7m        printk([m[7m[31m"edid_block[[m[7m[35m%d[m[7m[31m] := [m[7m[35m%c\n[m[7m[31m"[m[7m,error,edid_tag1.edid_block[error]); [m[41;128H8[29;8H[?12l[?25h[?25l[41;117H~@k[29;8H[41;117H15 [30;8H[29;8H[7m 
       [m [7m} [m[41;128H9[30;8H[?12l[?25h[?25l[41;117Hy [30;8H[16;1H        [32mint[m error;[16;19H[K[17;1H        printk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;36H[K[18;1H        [32mstruct[m device_node *fwr = [31mNULL[m;[18;40H[K[19;1H        [34m//fw = of_find_compatible_node(NULL,);[m[19;47H[K[20;1H        [32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;58H[K[21;1H        printk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;55H[K[22;1H        edid_tag1.block_number = [31m0[m;[22;36H[K[23;1H        edid_tag1.status = [31m0[m;[23;30H[K[24;1H        [33mfor[m(error=[31m0[m;error<[31m128[m;error++)[24;39H[K[25;1H                edid_tag1.edid_block[error] = [31m0[m;[25;49H[K[26;1H        error = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[26;100H[K[27;1H        printk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[27;108H[K[28;1H        [33mfor[m(error=[31m0[m;error<[31m128[m;error++){[28;40H[K[29;1H                printk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[29;84H[K[30;1H        }[30;10H[K[41;1H[K[41;127H15,1-8[8CAll15 lines yanked[41;127H[K[16;8H[41;127H15,1-8[8CAll[16;8H[?12l[?25h[?25l[41;117Hg[16;8H[?12l[?25h[?25l[41;117H [16;8H[41;117Hgt[16;8H[41;117H  [29;8H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m + ../h/hdmi_gpio.c [m[7m                                                                                                                 [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/fs.h>[m
[35m#include [m[31m<linux/sysfs.h>[m
[35m#include [m[31m<asm/uaccess.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/miscdevice.h>[m
[35m#include [m[31m<linux/major.h>[m
[35m#include [m[31m<linux/list.h>[m
[35m#include [m[31m<linux/types.h>[m
[35m#include [m[31m<linux/kobject.h>[m
[35m#include [m[31m<linux/device.h>[m
[35m#include [m[31m<linux/gpio.h>[m
[35m#include [m[31m<linux/delay.h>[m
[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m miscdevice;
[32mstatic[m [32mint[m hdmi_pin;
[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;

[32mstruct[m edid_tag{[23;9Hu32 block_number;[24;9Hu32 status;[25;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mchar[m* get_projector_id(){

}

[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[33;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[36;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[37;9H[34m//if(count)[38;9H//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[39;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}[41;127H31,1-8[9C3%[29;8H[?12l[?25h[?25l[41;117Hp[29;8H[41;1H15 more lines[41;117H[K[30;9H [7C[32mint[m error;[31;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);
        [1C[32mtruc[m[2Cdevice_node *fwr = [31mNULL[m;[32;41H[K[33;9H[34m//fw = of_find_compatible_node(NULL,);[m[33;47H[K[34;1H [7C[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);
        printk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[36;9Hedid_tag1.block_number = [31m0[m;[36;49H[K[37;9Hedid_tag1.status = [31m0[m;[38;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[38;39H[K[39;17Hedid_tag1.edid_block[error] = [31m0[m;[39;49H[K[40;1H [7Cerror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[41;127H32,2-9[9C2%[41;127H[K[41;127H32,2-9[9C2%[30;9H[?12l[?25h[?25l[41;117H~@k[30;9H[41;117H   [31;9H[41;128H3[31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [32;9H[41;128H4[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [33;9H[41;128H5[33;9H[?12l[?25h[?25l[41;117H~@k[33;9H[41;117H   [34;9H[41;128H6[34;9H[?12l[?25h[?25l[41;117H~@k[34;9H[41;117H   [35;9H[41;128H7[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[41;1H[K[41;127H38,2-9[9C3%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[41;127H[K[41;127H39,2-9[9C4%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[41;127H[K[41;127H40,2-9[9C5%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H41,2-16[8C6%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H42,2-9[9C7%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[41;127H[K[41;127H43,2-9[9C7%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H44,2-9[9C8%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H45,2-16[8C9%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[33;39H[46m{[35;9H}[m[40;1H}[41;127H[K[41;127H46,2-9[8C10%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;1H[2;40r[40;1H
[1;41r[18;32H[46m{[m[32;39H{[34;9H}
[46m}[m[40;1H[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[41;127H[K[41;127H47,1[10C11%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;1H[2;40r[40;1H
[1;41r[17;32H{[34;1H}[40;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H48,0-1[8C12%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[34m//if(count)[m[41;127H[K[41;127H49,9[10C13%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[34m//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[41;127H[K[41;127H50,2-9[8C14%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;1H[2;40r[40;1H
[1;41r[33;94H[46m{

}[m[40;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H51,1[10C14%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;94H{

}[40;1H}[41;127H[K[41;127H52,9[10C15%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);[41;127H[K[41;127H53,2-16[7C16%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [34;9H[41;128H2,9   [34;9H[?12l[?25h[?25l[41;117H~@k[34;9H[41;117H   [33;1H[31;94H[46m{

}[m[41;128H1,1[33;1H[?12l[?25h[?25l[41;117H~@k[33;1H[41;117H   [32;9H[31;94H{

}[41;128H0,2-9[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [31;9H[41;127H49,9  [31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [30;1H[41;128H8,0-1[30;1H[?12l[?25h[?25l[41;117H~@k[30;1H[41;117H   [29;1H[12;32H[46m{[29;1H}[m[41;128H7,1  [29;1H[?12l[?25h[?25l[41;117H~@k[29;1H[41;117H   [28;9H[12;32H{[26;39H[46m{[28;9H}[m
}[41;128H6,2-9[28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [27;16H[26;39H{[28;9H}[41;128H5,2-16[27;16H[?12l[?25h[?25l[41;117H~@k[27;16H[41;117H   [26;9H[41;128H4,2-9 [26;9H[?12l[?25h[?25l[41;117H~@k[26;9H[41;117H   [25;9H[41;128H3[25;9H[?12l[?25h[?25l[41;117H~@k[25;9H[41;117H   [24;9H[41;128H2[24;9H[?12l[?25h[?25l[41;117H~@k[24;9H[41;117H   [23;16H[41;128H1,2-16[23;16H[?12l[?25h[?25l[41;117H~@k[23;16H[41;117H   [22;9H[41;128H0,2-9 [22;9H[?12l[?25h[?25l[41;117H~@k[22;9H[41;117H   [21;9H[41;127H39[21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [20;9H[41;128H8[20;9H[?12l[?25h[?25l[41;117H~@k[20;9H[41;117H   [19;9H[41;128H7[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [18;9H[41;128H6[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [17;9H[41;128H5[17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [16;9H[41;128H4[16;9H[?12l[?25h[?25l[41;117H~@k[16;9H[41;117H   [15;9H[41;128H3[15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [14;9H[41;128H2[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [13;8H[41;128H1,1-8[13;8H[?12l[?25h[?25l[41;117H~@k[13;8H[41;117H   [12;9H[41;128H0,9  [12;9H[?12l[?25h[?25l[41;117H~@k[12;9H[41;117H   [12;10H[41;130H10[12;10H[?12l[?25h[?25l[41;117H~@k[12;10H[41;117H   [12;11H[41;131H1[12;11H[?12l[?25h[?25l[41;117H~@k[12;11H[41;117H   [12;12H[41;131H2[12;12H[?12l[?25h[?25l[41;117H~@k[12;12H[41;117H   [12;13H[41;131H3[12;13H[?12l[?25h[?25l[41;117H~@k[12;13H[41;117H   [12;14H[41;131H4[12;14H[?12l[?25h[?25l[41;117H~@k[12;14H[41;117H   [12;15H[41;131H5[12;15H[?12l[?25h[?25l[41;117H~@k[12;15H[41;117H   [12;16H[41;131H6[12;16H[?12l[?25h[?25l[41;117H~@k[12;16H[41;117H   [12;17H[41;131H7[12;17H[?12l[?25h[?25l[41;117H~@k[12;17H[41;117H   [12;18H[41;131H8[12;18H[?12l[?25h[?25l[41;117H~@k[12;18H[41;117H   [12;19H[41;131H9[12;19H[?12l[?25h[?25l[41;117H~@k[12;19H[41;117H   [12;20H[41;130H20[12;20H[?12l[?25h[?25l[41;117H~@k[12;20H[41;117H   [12;21H[41;131H1[12;21H[?12l[?25h[?25l[41;117H~@k[12;21H[41;117H   [12;22H[41;131H2[12;22H[?12l[?25h[?25l[41;117H~@k[12;22H[41;117H   [12;23H[41;131H3[12;23H[?12l[?25h[?25l[41;117H~@k[12;23H[41;117H   [12;24H[41;131H4[12;24H[?12l[?25h[?25l[41;117H~@k[12;24H[41;117H   [12;25H[41;131H5[12;25H[?12l[?25h[?25l[41;117H~@k[12;25H[41;117H   [12;26H[41;131H6[12;26H[?12l[?25h[?25l[41;117H~@k[12;26H[41;117H   [12;27H[41;131H7[12;27H[?12l[?25h[?25l[41;117H~@k[12;27H[41;117H   [12;28H[41;131H8[12;28H[?12l[?25h[?25l[41;117H~@k[12;28H[41;117H   [12;29H[41;131H9[12;29H[?12l[?25h[?25l[41;117H~@k[12;29H[41;117H   [12;30H[46m()[m[41;130H30[12;30H[?12l[?25h[?25l[41;117H~@k[12;30H[41;117H   [12;31H[41;131H1[12;31H[?12l[?25h[?25l[41;117Hs[12;31H[41;117H [12;31H[41;117Hcl[12;31H[41;117H  [12;31H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H30,31[9C16%[12;31H[1m[37m[46m{[m[12;32H[K[26;39H[1m[37m[41m{[28;9H}[m[12;30H([29;1H[46m}[12;31H[?12l[?25h[?25lt[m[1m[37m[41m{[mt[1m[37m[46m{[m[41;131H2[12;32H[?12l[?25h[?25l[46mr[m[1m[37m[41m{[mr[1m[37m[46m{[m[41;131H3[12;33H[?12l[?25h[?25l[46mu[m[1m[37m[41m{[mu[1m[37m[46m{[m[41;131H4[12;34H[?12l[?25h[?25l[46mc[m[1m[37m[41m{[mc[1m[37m[46m{[m[41;131H5[12;35H[?12l[?25h[?25l[46mt[m[1m[37m[41m{[mt[1m[37m[46m{[m[41;131H6[12;36H[?12l[?25h[?25l[1m[37m[41m{[m[29;1H}[41;131H5[12;35H[?12l[?25h[?25l[41;131H4[12;34H[?12l[?25h[?25l[41;131H3[12;33H[?12l[?25h[?25l[41;131H2[12;32H[?12l[?25h[?25l[41;131H1[12;31H[?12l[?25h[?25l[32mstruct[m[1m[37m[41m{[m[41;131H2[12;32H[?12l[?25h[?25l[41;131H3[12;33H[?12l[?25h[?25l[41;131H4[12;34H[?12l[?25h[?25l[41;131H5[12;35H[?12l[?25h[?25l[41;131H6[12;36H[?12l[?25h[?25l[1C[1m[37m[46m{[m[29;1H[46m}[m[41;131H7[12;37H[?12l[?25h[?25l[41;131H8[12;38H[?12l[?25h[?25l[41;131H7[12;37H[?12l[?25h[?25l[46m)[m{[26;39H{[28;9H}[12;37H)[46m{[m[41;131H8[12;38H[?12l[?25h[?25l[12;30H[46m([6C)[m{[29;1H}[41;131H7[12;37H[?12l[?25h[?25l[46m [m){ [46m)[m[41;131H8[12;38H[?12l[?25h[?25l[46md[m){d[46m)[m[41;131H9[12;39H[?12l[?25h[?25l[46me[m){e[46m)[m[41;130H40[12;40H[?12l[?25h[?25l[46mv[m){v[46m)[m[41;131H1[12;41H[?12l[?25h[?25l[46mi[m){i[46m)[m[41;131H2[12;42H[?12l[?25h[?25l[46mc[m){c[46m)[m[41;131H3[12;43H[?12l[?25h[?25l[46me[m){e[46m)[m[41;131H4[12;44H[?12l[?25h[?25l[46m_[m){_[46m)[m[41;131H5[12;45H[?12l[?25h[?25l[46mn[m){n[46m)[m[41;131H6[12;46H[?12l[?25h[?25l[46mo[m){o[46m)[m[41;131H7[12;47H[?12l[?25h[?25l[46md[m){d[46m)[m[41;131H8[12;48H[?12l[?25h[?25l[46me[m){e[46m)[m[41;131H9[12;49H[?12l[?25h[?25l[46m [m){ [46m)[m[41;130H50[12;50H[?12l[?25h[?25l[46m*[m){*[46m)[m[41;131H1[12;51H[?12l[?25h[?25l[46mf[m){f[46m)[m[41;131H2[12;52H[?12l[?25h[?25l[46mw[m){w[46m)[m[41;131H3[12;53H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H4[12;54H[?12l[?25h[?25l[46m,[m){,[46m)[m[41;131H5[12;55H[?12l[?25h[?25l[46m [m){ [46m)[m[41;131H6[12;56H[?12l[?25h[?25l[46ms[m){s[46m)[m[41;131H7[12;57H[?12l[?25h[?25l[46mt[m){t[46m)[m[41;131H8[12;58H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H9[12;59H[?12l[?25h[?25l[46mu[m){u[46m)[m[41;130H60[12;60H[?12l[?25h[?25l[46mc[m){c[46m)[m[41;131H1[12;61H[?12l[?25h[?25l[32mstruc[m[32m[46mt[m){[32mt[m[46m)[m[41;131H2[12;62H[?12l[?25h[?25l[46m [m){ [46m)[m[41;131H3[12;63H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H4[12;64H[?12l[?25h[?25l[46mp[m){p[46m)[m[41;131H5[12;65H[?12l[?25h[?25l[46mi[m){i[46m)[m[41;131H6[12;66H[?12l[?25h[?25l[46m_[m){_[46m)[m[41;131H7[12;67H[?12l[?25h[?25l[46mf[m){f[46m)[m[41;131H8[12;68H[?12l[?25h[?25l[46mi[m){i[46m)[m[41;131H9[12;69H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;130H70[12;70H[?12l[?25h[?25l[46mm[m){m[46m)[m[41;131H1[12;71H[?12l[?25h[?25l[46mw[m){w[46m)[m[41;131H2[12;72H[?12l[?25h[?25l[46ma[m){a[46m)[m[41;131H3[12;73H[?12l[?25h[?25l[46mr[m){r[46m)[m[41;131H4[12;74H[?12l[?25h[?25l[46me[m){e[46m)[m[41;131H5[12;75H[?12l[?25h[?25l[46m [m){ [46m)[m[41;131H6[12;76H[?12l[?25h[?25l[46m*[m){*[46m)[m[41;131H7[12;77H[?12l[?25h[?25l[46mf[m){f[46m)[m[41;131H8[12;78H[?12l[?25h[?25l[46mw[m){w[46m)[m[41;131H9[12;79H[?12l[?25h[?25l[12;30H([48C)[41;128H1,2-9[13;9H[?12l[?25h[?25l[41;128H2,12-19[14;19H[?12l[?25h[?25l[41;128H3,29-36[15;36H[?12l[?25h[?25l[41;128H4,33-40[16;40H[?12l[?25h[?25l[41;131H2-39[16;39H[?12l[?25h[?25l[41;131H1-38[16;38H[?12l[?25h[?25l[41;131H0-37[16;37H[?12l[?25h[?25l[41;130H29-36[16;36H[?12l[?25h[?25l[41;131H8-35[16;35H[?12l[?25h[?25l[41;131H7-34[16;34H[?12l[?25h[?25l[41;131H6-33[16;33H[?12l[?25h[?25l[41;131H5-32[16;32H[?12l[?25h[?25l[41;131H4-31[16;31H[?12l[?25h[?25l[41;131H3-30[16;30H[?12l[?25h[?25l[41;131H2-29[16;29H[?12l[?25h[?25l[41;131H1-28[16;28H[?12l[?25h[?25l[41;131H0-27[16;27H[?12l[?25h[?25l[41;130H19-26[16;26H[?12l[?25h[?25l[41;131H8-25[16;25H[?12l[?25h[?25l[41;131H7-24[16;24H[?12l[?25h[?25l[41;131H6-23[16;23H[?12l[?25h[?25l[41;131H5-22[16;22H[?12l[?25h[?25l[41;131H4-21[16;21H[?12l[?25h[?25l[41;131H3-20[16;20H[?12l[?25h[?25l[41;131H2-19[16;19H[?12l[?25h[?25l[41;131H1-18[16;18H[?12l[?25h[?25l[41;131H0-17[16;17H[?12l[?25h[?25l[41;130H9-16 [16;16H[?12l[?25h[?25l[41;130H8-15[16;15H[?12l[?25h[?25l[41;130H7-14[16;14H[?12l[?25h[?25l[41;130H6-13[16;13H[?12l[?25h[?25l[41;130H5-12[16;12H[?12l[?25h[?25l[41;130H4-11[16;11H[?12l[?25h[?25l[41;130H3-10[16;10H[?12l[?25h[?25l[41;130H2-9 [16;9H[?12l[?25h[?25lVstruct device_node *fwr = [31mNULL[m;[41;130H3-10[16;10H[?12l[?25h[?25l[32mstruct[m device_node *fwr = [31mNUL[m[1C;[16;40H[K[41;130H2-9 [16;9H[?12l[?25h[41;1H[K[16;8H[?25l[41;117H^[[16;8H[41;117H  [16;9H[41;127H34,1-8[8C16%[16;8H[?12l[?25h[?25l[41;117HV[16;8H[41;117H1[16;8H[7m       [m [7m[32mstruct[m[7m device_node *fwr = [m[7m[31mNULL[m[7m; [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[16;8H[41;127H34,1-8[8C16%[16;8H[?12l[?25h[?25l[41;117H~@k[16;8H[41;117H2  [17;8H[16;8H[7m 
       [m [7m[34m//fw = of_find_compatible_node(NULL,);[m[7m [m[41;128H5[17;8H[?12l[?25h[?25l[41;117H~@k[17;8H[41;117H3  [18;8H[17;8H[7m 
       [m [7m[32mstruct[m[7m rpi_firmware *fw = rpi_firmware_get([m[7m[31mNULL[m[7m); [m[41;128H6[18;8H[?12l[?25h[?25l[41;117Hx[18;8H[41;1H3 fewer lines[1mE[m[41;14H[K[16;9H[16;40r[16;1H[3M[1;41r[38;1H[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);

[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[41;1H[K[41;127H34,2-9[8C17%3 fewer lines[41;127H[K[41;127H34,2-9[8C17%[16;9H[?12l[?25h[?25l[41;117H~@k[16;9H[41;117H   [17;9H[41;128H5[17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [18;9H[41;128H6[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [19;9H[41;128H7[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [20;16H[41;128H8,2-16[20;16H[?12l[?25h[?25l[41;117H~@k[20;16H[41;117H   [21;9H[41;128H9,2-9 [21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [22;9H[41;127H40[22;9H[?12l[?25h[?25l[41;117H~@k[22;9H[41;117H   [23;9H[41;128H1[23;9H[?12l[?25h[?25l[41;117H~@k[23;9H[41;117H   [24;16H[41;128H2,2-16[24;16H[?12l[?25h[?25l[41;117H~@k[24;16H[41;117H   [25;9H[23;39H[46m{[25;9H}[m[41;128H3,2-9 [25;9H[?12l[?25h[?25l[41;117H~@k[25;9H[41;117H   [26;1H[12;80H[46m{[m[23;39H{[25;9H}
[46m}[m[41;128H4,1  [26;1H[?12l[?25h[?25l[41;117H~@k[26;1H[41;117H   [27;1H[12;80H{[26;1H}[41;128H5,0-1[27;1H[?12l[?25h[?25l[41;117H~@k[27;1H[41;117H   [28;9H[41;128H6,9  [28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [29;9H[41;128H7,2-9[29;9H[?12l[?25h[?25l[41;117H~@k[29;9H[41;117H   [30;1H[28;94H[46m{

}[m[41;128H8,1  [30;1H[?12l[?25h[?25l[41;117H~@k[30;1H[41;117H   [31;9H[28;94H{

}[41;128H9,9[31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [32;16H[41;127H50,2-16[32;16H[?12l[?25h[?25l[41;117H~@k[32;16H[41;117H   [33;9H[41;128H1,2-9 [33;9H[?12l[?25h[?25l[41;117H~@k[33;9H[41;117H   [34;9H[41;128H2[34;9H[?12l[?25h[?25l[41;117H~@k[34;9H[41;117H   [35;16H[41;128H3,2-16[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;1H[2;40r[40;1H
[1;41r[31;89H[46m{[35;1H}[m[40;9H&dev_attr_read.attr,[41;1H[K[41;127H54,1[10C18%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[30;89H{[34;1H}[40;9H&dev_attr_change.attr,[41;127H[K[41;127H55,9[10C18%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;127H[K[41;127H56,9[10C19%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;1H[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H57,0-1[8C20%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H[K[41;127H58,9[10C21%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H.attrs = dev_attrs,[31mNULL[m[41;127H[K[41;127H59,2-9[8C22%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H60,2-9[8C23%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H61,2-9[8C24%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;2H[2;40r[40;1H
[1;41r[40;9H&dev_attr_group,[41;127H[K[41;127H62,2[10C25%[35;2H[?12l[?25h[?25l[41;117H~@k[35;2H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;127H[K[41;127H63,9[10C26%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H64,2-9[8C27%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;2H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H65,2[10C27%[35;2H[?12l[?25h[?25l[41;117H~@k[35;2H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H66,9[10C28%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H67,2-9[8C29%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H68,2-9[8C30%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;2H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H69,2[10C31%[35;2H[?12l[?25h[?25l[41;117H~@k[35;2H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H70,9[10C32%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H71,2-9[8C33%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[32mint[m error=[31m0[m;[41;127H[K[41;127H72,2-9[8C34%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;2H[2;40r[40;1H
[1;41r[40;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H73,2[10C35%[35;2H[?12l[?25h[?25l[41;117H~@k[35;2H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H74,9[10C36%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[41;127H[K[41;127H75,9[10C36%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;1H[2;40r[40;1H
[1;41r[40;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H76,1[10C37%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[33mif[m (error)[41;127H[K[41;127H77,2-9[8C38%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H78,2-9[8C39%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[41;127H[K[41;127H79,2-9[8C40%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;1H[2;40r[40;1H
[1;41r[40;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H80,0-1[8C41%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H81,2-9[8C42%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H82,2-9[8C43%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H83,2-16[7C44%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;8H[2;40r[40;1H
[1;41r[40;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H84,1-8[8C45%[35;8H[?12l[?25h[?25l[41;117H~@k[35;8H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H85,2-9[8C45%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H86,2-16[7C46%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9HirqNumber = gpio_to_irq(hdmi_gpio);[41;127H[K[41;127H87,2-16[7C47%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;38H[46m{[35;9H}[m[40;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H88,2-9[8C48%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;38H{[34;9H}[40;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H89,2-9[8C49%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H90,2-9[8C50%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H91,2-9[8C51%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H92,2-9[8C52%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H93,9[10C53%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H94,2-9[8C54%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H95,2-9[8C54%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H96,2-16[7C55%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H97,2-16[7C56%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;29H[46m{[35;9H}[m[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H98,2-9[8C57%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;29H{[34;9H}[40;1H[35m#if 0[m[41;127H[K[41;127H99,2-9[8C58%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H100,2-16      59%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H101,2-16      60%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;30H[46m{[35;9H}[m[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H102,2-9[7C61%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;30H{[34;9H}[40;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H103,2-9[7C62%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;5H[2;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H104,5[9C63%[35;5H[?12l[?25h[?25l[41;117H~@k[35;5H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H105,2-9[7C63%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H106,2-9[7C64%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H107,2-16      65%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H108,2-16      66%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;19H[34m[46m{[35;9H}[m[40;1H[34m        }[m[41;127H[K[41;127H109,2-9[7C67%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [34;16H[32;19H[34m{[35;9H}[m[41;129H8,2-16[34;16H[?12l[?25h[?25l[41;117H~@k[34;16H[41;117H   [33;16H[41;129H7[33;16H[?12l[?25h[?25l[41;117H~@k[33;16H[41;117H   [32;9H[41;129H6,2-9 [32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [31;9H[41;129H5[31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [30;5H[41;129H4,5  [30;5H[?12l[?25h[?25l[41;117H~@k[30;5H[41;117H   [29;9H[41;129H3,2-9[29;9H[?12l[?25h[?25l[41;117H~@k[29;9H[41;117H   [28;9H[25;30H[46m{[28;9H}[m[41;129H2[28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [27;16H[25;30H{[28;9H}[41;129H1,2-16[27;16H[?12l[?25h[?25l[41;117H~@k[27;16H[41;117H   [26;16H[41;129H0[26;16H[?12l[?25h[?25l[41;117H~@k[26;16H[41;117H   [25;9H[41;127H99,2-9  [25;9H[?12l[?25h[?25l[41;117H~@k[25;9H[41;117H   [24;9H[21;29H[46m{[24;9H}[m[41;128H8[24;9H[?12l[?25h[?25l[41;117H~@k[24;9H[41;117H   [23;16H[21;29H{[24;9H}[41;128H7,2-16[23;16H[?12l[?25h[?25l[41;117H~@k[23;16H[41;117H   [22;16H[41;128H6[22;16H[?12l[?25h[?25l[41;117H~@k[22;16H[41;117H   [21;9H[41;128H5,2-9 [21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [20;9H[41;128H4[20;9H[?12l[?25h[?25l[41;117H~@k[20;9H[41;117H   [19;9H[41;128H3,9  [19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [18;9H[41;128H2,2-9[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [17;9H[41;128H1[17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [16;9H[41;128H0[16;9H[?12l[?25h[?25l[41;117H~@k[16;9H[41;117H   [15;9H[41;127H89[15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [14;9H[11;38H[46m{[14;9H}[m[41;128H8[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [13;16H[11;38H{[14;9H}[41;128H7,2-16[13;16H[?12l[?25h[?25l[41;117H~@k[13;16H[41;117H   [12;16H[41;128H6[12;16H[?12l[?25h[?25l[41;117H~@k[12;16H[41;117H   [11;9H[41;128H5,2-9 [11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [10;8H[41;128H4,1-8[10;8H[?12l[?25h[?25l[41;117H~@k[10;8H[41;117H   [9;16H[41;128H3,2-16[9;16H[?12l[?25h[?25l[41;117H~@k[9;16H[41;117H   [8;9H[41;128H2,2-9 [8;9H[?12l[?25h[?25l[41;117H~@k[8;9H[41;117H   [7;9H[41;128H1[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H80,0-1[8C66%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H79,2-9[8C65%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H78,2-9[8C64%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H77,2-9[8C63%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H76,1[10C63%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H75,9[10C62%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H74,9[10C61%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;2H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H73,2[10C60%[7;2H[?12l[?25h[?25l[41;117H~@k[7;2H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_group,[41;127H[K[41;127H72,2-9[8C59%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H71,2-9[8C58%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H70,9[10C57%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;2H[2;40r[2;1H[L[1;41r[2;9H.attrs = dev_attrs,[31mNULL[m[41;127H[K[41;127H69,2[10C56%[7;2H[?12l[?25h[?25l[41;117H~@k[7;2H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H[K[41;127H68,2-9[8C55%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H67,2-9[8C54%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [8;9H[41;128H8[8;9H[?12l[?25h[?25l[41;117H~@k[8;9H[41;117H   [9;2H[41;128H9,2  [9;2H[?12l[?25h[?25l[41;117H~@k[9;2H[41;117H   [10;9H[41;127H70,9[10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [11;9H[41;128H1,2-9[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [12;9H[41;128H2[12;9H[?12l[?25h[?25l[41;117H~@k[12;9H[41;117H   [13;2H[41;128H3,2  [13;2H[?12l[?25h[?25l[41;117H~@k[13;2H[41;117H   [14;9H[41;128H4,9[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [15;9H[41;128H5[15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [16;1H[41;128H6,1[16;1H[?12l[?25h[?25l[41;117H~@k[16;1H[41;117H   [17;9H[41;128H7,2-9[17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [18;9H[41;128H8[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [19;9H[41;128H9[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [20;1H[41;127H80,0-1[20;1H[?12l[?25h[?25l[41;117H~@k[20;1H[41;117H   [21;9H[41;128H1,2-9[21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [22;9H[41;128H2[22;9H[?12l[?25h[?25l[41;117H~@k[22;9H[41;117H   [23;16H[41;128H3,2-16[23;16H[?12l[?25h[?25l[41;117H~@k[23;16H[41;117H   [24;8H[41;128H4,1-8 [24;8H[?12l[?25h[?25l[41;117H~@k[24;8H[41;117H   [25;9H[41;128H5,2-9[25;9H[?12l[?25h[?25l[41;117H~@k[25;9H[41;117H   [26;16H[41;128H6,2-16[26;16H[?12l[?25h[?25l[41;117H~@k[26;16H[41;117H   [27;16H[41;128H7[27;16H[?12l[?25h[?25l[41;117H~@k[27;16H[41;117H   [28;9H[25;38H[46m{[28;9H}[m[41;128H8,2-9 [28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [29;9H[25;38H{[28;9H}[41;128H9[29;9H[?12l[?25h[?25l[41;117H~@k[29;9H[41;117H   [30;9H[41;127H90[30;9H[?12l[?25h[?25l[41;117H~@k[30;9H[41;117H   [31;9H[41;128H1[31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [32;9H[41;128H2[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [33;9H[41;128H3,9  [33;9H[?12l[?25h[?25l[41;117H~@k[33;9H[41;117H   [32;9H[41;128H2,2-9[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [32;10H[41;130H3-10[32;10H[?12l[?25h[?25l[41;117H~@k[32;10H[41;117H   [32;11H[41;130H4-11[32;11H[?12l[?25h[?25l[41;117H~@k[32;11H[41;117H   [32;12H[41;130H5-12[32;12H[?12l[?25h[?25l[41;117H~@k[32;12H[41;117H   [32;13H[41;130H6-13[32;13H[?12l[?25h[?25l[41;117H~@k[32;13H[41;117H   [32;14H[41;130H7-14[32;14H[?12l[?25h[?25l[41;117H~@k[32;14H[41;117H   [32;15H[41;130H8-15[32;15H[?12l[?25h[?25l[41;117H~@k[32;15H[41;117H   [32;16H[41;130H9-16[32;16H[?12l[?25h[?25l[41;117H~@k[32;16H[41;117H   [32;17H[41;130H10-17[32;17H[?12l[?25h[?25l[41;117H~@k[32;17H[41;117H   [32;18H[41;131H1-18[32;18H[?12l[?25h[?25l[41;117H~@k[32;18H[41;117H   [32;19H[41;131H2-19[32;19H[?12l[?25h[?25l[41;117H~@k[32;19H[41;117H   [32;20H[41;131H3-20[32;20H[?12l[?25h[?25l[41;117H~@k[32;20H[41;117H   [32;21H[41;131H4-21[32;21H[?12l[?25h[?25l[41;117H~@k[32;21H[41;117H   [32;22H[41;131H5-22[32;22H[?12l[?25h[?25l[41;117H~@k[32;22H[41;117H   [32;23H[41;131H6-23[32;23H[?12l[?25h[?25l[41;117H~@k[32;23H[41;117H   [32;24H[41;131H7-24[32;24H[?12l[?25h[?25l[41;117H~@k[32;24H[41;117H   [32;25H[41;131H8-25[32;25H[?12l[?25h[?25l[41;117H~@k[32;25H[41;117H   [32;26H[41;131H9-26[32;26H[?12l[?25h[?25l[41;117H~@k[32;26H[41;117H   [32;27H[41;130H20-27[32;27H[?12l[?25h[?25l[41;117H~@k[32;27H[41;117H   [32;28H[41;131H1-28[32;28H[?12l[?25h[?25l[41;117H~@k[32;28H[41;117H   [32;29H[41;131H2-29[32;29H[?12l[?25h[?25l[41;117H~@k[32;29H[41;117H   [32;30H[41;131H3-30[32;30H[?12l[?25h[?25l[41;117H~@k[32;30H[41;117H   [32;31H[41;131H4-31[32;31H[?12l[?25h[?25l[41;117H~@k[32;31H[41;117H   [32;32H[46m([9C)[m[41;131H5-32[32;32H[?12l[?25h[?25l[41;117H~@k[32;32H[41;117H   [32;33H([9C)[41;131H6-33[32;33H[?12l[?25h[?25l[41;117H~@k[32;33H[41;117H   [32;34H[41;131H7-34[32;34H[?12l[?25h[?25l[41;117H~@k[32;34H[41;117H   [32;35H[41;131H8-35[32;35H[?12l[?25h[?25l[41;117H~@k[32;35H[41;117H   [32;36H[41;131H9-36[32;36H[?12l[?25h[?25l[41;117H~@k[32;36H[41;117H   [32;37H[41;130H30-37[32;37H[?12l[?25h[?25l[41;117H~@k[32;37H[41;117H   [32;38H[41;131H1-38[32;38H[?12l[?25h[?25l[41;117H~@k[32;38H[41;117H   [32;39H[41;131H2-39[32;39H[?12l[?25h[?25l[41;117H~@k[32;39H[41;117H   [32;40H[41;131H3-40[32;40H[?12l[?25h[?25l[41;117H~@k[32;40H[41;117H   [32;41H[41;131H4-41[32;41H[?12l[?25h[?25l[41;117H~@k[32;41H[41;117H   [32;42H[32;32H[46m([9C)[m[41;131H5-42[32;42H[?12l[?25h[?25l[41;117H~@k[32;42H[41;117H   [32;43H[32;32H([9C)[41;131H6-43[32;43H[?12l[?25h[?25l[41;117H~@k[32;43H[41;117H   [32;43H[?12l[?25h[?25l[41;117H~@k[32;43H[41;117H   [33;9H[41;128H3,9    [33;9H[?12l[?25h[?25l[41;117H~@k[33;9H[41;117H   [32;43H[41;128H2,36-43[32;43H[?12l[?25h[?25l[41;117H~@k[32;43H[41;117H   [31;37H[41;128H1,30-37[31;37H[?12l[?25h[?25l[41;117H~@k[31;37H[41;117H   [31;36H[31;20H[46m([15C)[m[41;130H29-36[31;36H[?12l[?25h[?25l[41;117H~@k[31;36H[41;117H   [31;35H[31;20H([15C)[41;131H8-35[31;35H[?12l[?25h[?25l[41;117H~@k[31;35H[41;117H   [31;34H[41;131H7-34[31;34H[?12l[?25h[?25l[41;117H~@k[31;34H[41;117H   [31;33H[41;131H6-33[31;33H[?12l[?25h[?25l[41;117H~@k[31;33H[41;117H   [31;32H[41;131H5-32[31;32H[?12l[?25h[?25l[41;117H~@k[31;32H[41;117H   [31;31H[41;131H4-31[31;31H[?12l[?25h[?25l[41;117H~@k[31;31H[41;117H   [31;30H[41;131H3-30[31;30H[?12l[?25h[?25l[41;117H~@k[31;30H[41;117H   [31;29H[41;131H2-29[31;29H[?12l[?25h[?25l[41;117H~@k[31;29H[41;117H   [31;28H[41;131H1-28[31;28H[?12l[?25h[?25l[41;117H~@k[31;28H[41;117H   [31;27H[41;131H0-27[31;27H[?12l[?25h[?25l[41;117H~@k[31;27H[41;117H   [31;26H[41;130H19-26[31;26H[?12l[?25h[?25l[41;117H~@k[31;26H[41;117H   [31;25H[41;131H8-25[31;25H[?12l[?25h[?25l[41;117H~@k[31;25H[41;117H   [31;24H[41;131H7-24[31;24H[?12l[?25h[?25l[41;117H~@k[31;24H[41;117H   [31;23H[41;131H6-23[31;23H[?12l[?25h[?25l[41;117H~@k[31;23H[41;117H   [31;22H[41;131H5-22[31;22H[?12l[?25h[?25l[41;117H~@k[31;22H[41;117H   [31;21H[41;131H4-21[31;21H[?12l[?25h[?25l[41;117H~@k[31;21H[41;117H   [31;20H[46m([15C)[m[41;131H3-20[31;20H[?12l[?25h[?25l[41;117H~@k[31;20H[41;117H   [31;19Ht([15C)[41;131H2-19[31;19H[?12l[?25h[?25l[41;117H~@k[31;19H[41;117H   [31;18H[41;131H1-18[31;18H[?12l[?25h[?25l[41;117H~@k[31;18H[41;117H   [31;17H[41;131H0-17[31;17H[?12l[?25h[?25l[41;117H~@k[31;17H[41;117H   [31;16H[41;130H9-16 [31;16H[?12l[?25h[?25l[41;117H~@k[31;16H[41;117H   [31;15H[41;130H8-15[31;15H[?12l[?25h[?25l[41;117H~@k[31;15H[41;117H   [31;14H[41;130H7-14[31;14H[?12l[?25h[?25l[41;117H~@k[31;14H[41;117H   [31;13H[41;130H6-13[31;13H[?12l[?25h[?25l[41;117H~@k[31;13H[41;117H   [31;12H[41;130H5-12[31;12H[?12l[?25h[?25l[41;117H~@k[31;12H[41;117H   [31;11H[41;130H4-11[31;11H[?12l[?25h[?25l[41;117H~@k[31;11H[41;117H   [31;10H[41;130H3-10[31;10H[?12l[?25h[?25l[41;117H~@k[31;10H[41;117H   [31;9H[41;130H2-9 [31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [32;9H[41;128H2[32;9H[?12l[?25h[?25l[41;117Hp[32;9H[41;1H3 more lines[41;117H[K[33;9H[33;40r[33;1H[3L[1;41r[33;9H[32mstruct[m device_node *fwr = [31mNULL[m;[34;9H[34m//fw = of_find_compatible_node(NULL,);[m[35;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;1H[K[41;127H93,2-9[8C53%3 more lines[41;127H[K[41;127H93,2-9[8C53%[33;9H[?12l[?25h[?25l[41;117H~@k[33;9H[41;117H   [32;9H[41;128H2[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [31;9H[41;128H1[31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [30;9H[41;128H0[30;9H[?12l[?25h[?25l[41;117H~@k[30;9H[41;117H   [29;9H[41;127H89[29;9H[?12l[?25h[?25l[41;117H~@k[29;9H[41;117H   [28;9H[25;38H[46m{[28;9H}[m[41;128H8[28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [27;16H[25;38H{[28;9H}[41;128H7,2-16[27;16H[?12l[?25h[?25l[41;117H~@k[27;16H[41;117H   [26;16H[41;128H6[26;16H[?12l[?25h[?25l[41;117H~@k[26;16H[41;117H   [25;9H[41;128H5,2-9 [25;9H[?12l[?25h[?25l[41;117H~@k[25;9H[41;117H   [24;8H[41;128H4,1-8[24;8H[?12l[?25h[?25l[41;117H~@k[24;8H[41;117H   [23;16H[41;128H3,2-16[23;16H[?12l[?25h[?25l[41;117H~@k[23;16H[41;117H   [22;9H[41;128H2,2-9 [22;9H[?12l[?25h[?25l[41;117H~@k[22;9H[41;117H   [21;9H[41;128H1[21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [20;1H[41;128H0,0-1[20;1H[?12l[?25h[?25l[41;117H~@k[20;1H[41;117H   [19;9H[41;127H79,2-9[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [18;9H[41;128H8[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [17;9H[41;128H7[17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [16;1H[41;128H6,1  [16;1H[?12l[?25h[?25l[41;117H~@k[16;1H[41;117H   [15;9H[41;128H5,9[15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [14;9H[41;128H4[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [13;2H[41;128H3,2[13;2H[?12l[?25h[?25l[41;117H~@k[13;2H[41;117H   [12;9H[41;128H2,2-9[12;9H[?12l[?25h[?25l[41;117H~@k[12;9H[41;117H   [11;9H[41;128H1[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [10;9H[41;128H0,9  [10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [9;2H[41;127H69,2[9;2H[?12l[?25h[?25l[41;117H~@k[9;2H[41;117H   [8;9H[41;128H8,2-9[8;9H[?12l[?25h[?25l[41;117H~@k[8;9H[41;117H   [7;9H[41;128H7[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;1H[K[41;127H66,9[10C52%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;2H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_change.attr,[41;127H[K[41;127H65,2[10C51%[7;2H[?12l[?25h[?25l[41;117H~@k[7;2H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_read.attr,[41;127H[K[41;127H64,2-9[8C50%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[41;127H[K[41;127H63,9[10C50%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;2H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H62,2[10C49%[7;2H[?12l[?25h[?25l[41;117H~@k[7;2H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);[41;127H[K[41;127H61,2-9[8C48%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);[41;127H[K[41;127H60,2-9[8C47%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H59,2-9[8C46%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H58,9[10C45%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[34m//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[41;127H[K[41;127H57,0-1[8C44%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[34m//if(count)[m[41;127H[K[41;127H56,9[10C43%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H55,9[10C42%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[3;89H[46m{[7;1H}[m[41;127H[K[41;127H54,1[10C42%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;1H}[4;89H{[8;1H}[41;127H[K[41;127H53,2-16[7C41%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H52,2-9[8C40%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H51,2-9[8C39%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H50,2-16[7C38%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H49,9[10C37%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H}[5;94H[46m{

}[m[41;127H[K[41;127H48,1[10C36%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[6;94H{

}[41;127H[K[41;127H47,2-9[8C35%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[41;127H[K[41;127H46,9[10C35%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[41;127H[K[41;127H45,0-1[8C34%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[41;127H[K[41;127H44,1[10C33%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hedid_tag1.edid_block[error] = [31m0[m;[5;39H[46m{[7;9H}[m[41;127H[K[41;127H43,2-9[8C32%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[6;39H{[8;9H}[41;127H[K[41;127H42,2-16[7C31%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hedid_tag1.status = [31m0[m;[41;127H[K[41;127H41,2-9[8C30%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hedid_tag1.block_number = [31m0[m;[41;127H[K[41;127H40,2-9[8C29%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[41;127H[K[41;127H39,2-9[8C28%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[41;127H[K[41;127H38,2-16[7C28%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[32mint[m error;[41;127H[K[41;127H37,2-9[8C27%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H36,2-9[8C26%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mchar[m* get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[41;127H[K[41;127H35,2-9[8C25%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H34,2-9[8C24%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H}edid_tag1;[41;127H[K[41;127H33,2-9[8C23%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];[41;127H[K[41;127H32,2-9[8C22%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Hu32 status;[41;127H[K[41;127H31,1-8[8C21%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hu32 block_number;[41;127H[K[41;127H30,9[10C21%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstruct[m edid_tag{[41;127H[K[41;127H29,0-1[8C20%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H28,9[10C19%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;[41;127H[K[41;127H27,2-9[8C18%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m hdmi_pin;[41;127H[K[41;127H26,2-9[8C17%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[32mstruct[m miscdevice;[41;127H[K[41;127H25,2-9[8C16%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H24,9[10C15%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m[41;127H[K[41;127H23,0-1[8C14%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[35m#include [m[31m<linux/mailbox_client.h>[m[41;127H[K[41;127H22,9[10C14%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [8;1H[41;128H3,0-1[8;1H[?12l[?25h[?25l[41;117H~@k[8;1H[41;117H   [9;9H[41;128H4,9  [9;9H[?12l[?25h[?25l[41;117H~@k[9;9H[41;117H   [10;9H[41;128H5,2-9[10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [11;9H[41;128H6[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [12;9H[41;128H7[12;9H[?12l[?25h[?25l[41;117H~@k[12;9H[41;117H   [13;9H[41;128H8,9  [13;9H[?12l[?25h[?25l[41;117H~@k[13;9H[41;117H   [14;1H[41;128H9,0-1[14;1H[?12l[?25h[?25l[41;117H~@k[14;1H[41;117H   [15;9H[41;127H30,9  [15;9H[?12l[?25h[?25l[41;117H~@k[15;9H[41;117H   [16;8H[41;128H1,1-8[16;8H[?12l[?25h[?25l[41;117H~@k[16;8H[41;117H   [17;9H[41;128H2,2-9[17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [18;9H[41;128H3[18;9H[?12l[?25h[?25l[41;117H~@k[18;9H[41;117H   [19;9H[41;128H4[19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [20;9H[41;128H5[20;9H[?12l[?25h[?25l[41;117H~@k[20;9H[41;117H   [21;9H[41;128H6[21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [22;9H[41;128H7[22;9H[?12l[?25h[?25l[41;117H~@k[22;9H[41;117H   [23;16H[41;128H8,2-16[23;16H[?12l[?25h[?25l[41;117H~@k[23;16H[41;117H   [24;9H[41;128H9,2-9 [24;9H[?12l[?25h[?25l[41;117H~@k[24;9H[41;117H   [25;9H[41;127H40[25;9H[?12l[?25h[?25l[41;117H~@k[25;9H[41;117H   [26;9H[41;128H1[26;9H[?12l[?25h[?25l[41;117H~@k[26;9H[41;117H   [27;16H[41;128H2,2-16[27;16H[?12l[?25h[?25l[41;117H~@k[27;16H[41;117H   [28;9H[26;39H[46m{[28;9H}[m[41;128H3,2-9 [28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [29;1H[15;80H[46m{[m[26;39H{[28;9H}
[46m}[m[41;128H4,1  [29;1H[?12l[?25h[?25l[41;117H~@k[29;1H[41;117H   [30;1H[15;80H{[29;1H}[41;128H5,0-1[30;1H[?12l[?25h[?25l[41;117H~@k[30;1H[41;117H   [31;9H[41;128H6,9  [31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [32;9H[41;128H7,2-9[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [31;9H[41;128H6,9  [31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [30;1H[41;128H5,0-1[30;1H[?12l[?25h[?25l[41;117H~@k[30;1H[41;117H   [29;1H[15;80H[46m{[29;1H}[m[41;128H4,1  [29;1H[?12l[?25h[?25l[41;117H~@k[29;1H[41;117H   [28;9H[15;80H{[26;39H[46m{[28;9H}[m
}[41;128H3,2-9[28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [28;9H[?12l[?25h[?25l[41;117Hi[28;9H[41;117H [28;9H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H43,2-9[8C14%[28;9H[?12l[?25h[?25l[41;130H3-10[28;10H[?12l[?25h[?25l[29;40r[29;1H[L[1;41r[41;127H[K[41;127H44,2-9[8C13%[26;39H{[28;9H}[29;9H[?12l[?25h[?25lr[41;130H3-10[29;10H[?12l[?25h[?25le[41;130H4-11[29;11H[?12l[?25h[?25lt[41;130H5-12[29;12H[?12l[?25h[?25lu[41;130H6-13[29;13H[?12l[?25h[?25lr[41;130H7-14[29;14H[?12l[?25h[?25l[33mreturn[m[41;130H8-15[29;15H[?12l[?25h[?25l[41;130H9-16[29;16H[?12l[?25h[?25le[41;130H10-17[29;17H[?12l[?25h[?25ld[41;131H1-18[29;18H[?12l[?25h[?25li[41;131H2-19[29;19H[?12l[?25h[?25ld[41;131H3-20[29;20H[?12l[?25h[?25l_[41;131H4-21[29;21H[?12l[?25h[?25lt[41;131H5-22[29;22H[?12l[?25h[?25la[41;131H6-23[29;23H[?12l[?25h[?25lg[41;131H7-24[29;24H[?12l[?25h[?25l1[41;131H8-25[29;25H[?12l[?25h[?25l[29;24H[K[41;131H7-24[29;24H[?12l[?25h[?25l[29;23H[K[41;131H6-23[29;23H[?12l[?25h[?25l[29;22H[K[41;131H5-22[29;22H[?12l[?25h[?25l[29;21H[K[41;131H4-21[29;21H[?12l[?25h[?25l[29;20H[K[41;131H3-20[29;20H[?12l[?25h[?25l[29;19H[K[41;131H2-19[29;19H[?12l[?25h[?25l[29;18H[K[41;131H1-18[29;18H[?12l[?25h[?25l[29;17H[K[41;131H0-17[29;17H[?12l[?25h[?25l[29;16H[K[41;130H9-16 [29;16H[?12l[?25h[?25l[31m1[m[41;130H10-17[29;17H[?12l[?25h[?25l;[41;131H1-18[29;18H[?12l[?25h[?25l[26;39H[46m{[28;9H}[m[41;128H3,3-10 [28;10H[?12l[?25h[?25l[26;39H{[28;9H}[41;128H2,4-18[27;18H[?12l[?25h[?25l[41;128H1,11-18[26;18H[?12l[?25h[?25l[41;128H0[25;18H[?12l[?25h[?25l[41;127H39[24;18H[?12l[?25h[?25l[41;128H8,4-18 [23;18H[?12l[?25h[?25l[41;128H7,11-18[22;18H[?12l[?25h[?25l[41;128H6[21;18H[?12l[?25h[?25l[41;128H5[20;18H[?12l[?25h[?25l[41;128H4[19;18H[?12l[?25h[?25l[41;128H3[18;18H[?12l[?25h[?25l[41;128H2[17;18H[?12l[?25h[?25l[41;128H1,2-9  [16;9H[?12l[?25h[?25l[41;128H0,18 [15;18H[?12l[?25h[?25l[41;131H7[15;17H[?12l[?25h[?25l[41;131H6[15;16H[?12l[?25h[?25l[41;131H5[15;15H[?12l[?25h[?25l[41;131H4[15;14H[?12l[?25h[?25l[41;131H3[15;13H[?12l[?25h[?25l get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[15;80H[K[41;131H2[15;12H[?12l[?25h[?25lcha get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[15;79H[K[41;131H1[15;11H[?12l[?25h[?25l get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[15;78H[K[41;131H0[15;10H[?12l[?25h[?25l get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[15;77H[K[41;130H9 [15;9H[?12l[?25h[?25l get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[15;76H[K[41;130H8[15;8H[?12l[?25h[?25lv get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[41;130H9[15;9H[?12l[?25h[?25lo get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[41;130H10[15;10H[?12l[?25h[?25li get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[41;131H1[15;11H[?12l[?25h[?25l[32mvoid[m get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[41;131H2[15;12H[?12l[?25h[?25l[41;128H1,2-9[16;9H[?12l[?25h[?25l[41;128H2,5-12[17;12H[?12l[?25h[?25l[41;128H3[18;12H[?12l[?25h[?25l[41;128H4[19;12H[?12l[?25h[?25l[41;128H5[20;12H[?12l[?25h[?25l[41;128H6[21;12H[?12l[?25h[?25l[22;12H[46m([25C)[m[41;128H7[22;12H[?12l[?25h[?25l([25C)[41;128H8,2-9 [23;9H[?12l[?25h[?25l[41;128H9,5-12[24;12H[?12l[?25h[?25l[41;127H40[25;12H[?12l[?25h[?25l[26;12H[46m([25C)[m[41;128H1[26;12H[?12l[?25h[?25l([25C)[41;128H2,2-9 [27;9H[?12l[?25h[?25l[26;39H[46m{[28;9H}[m[41;128H3,3-10[28;10H[?12l[?25h[?25l[26;39H{[28;9H}[41;128H4,5-12[29;12H[?12l[?25h[?25l[41;130H6-13[29;13H[?12l[?25h[?25l[41;130H7-14[29;14H[?12l[?25h[?25l[41;130H8-15[29;15H[?12l[?25h[?25l[41;130H9-16[29;16H[?12l[?25h[?25l[41;130H10-17[29;17H[?12l[?25h[?25l[41;131H1-18[29;18H[?12l[?25h[?25l[29;17H[K[41;131H0-17[29;17H[?12l[?25h[?25l[29;16H[K[41;130H9-16 [29;16H[?12l[?25h[?25l[41;130H8-15[29;15H[?12l[?25h[?25lretur[29;14H[K[41;130H7-14[29;14H[?12l[?25h[?25l[29;13H[K[41;130H6-13[29;13H[?12l[?25h[?25l[29;12H[K[41;130H5-12[29;12H[?12l[?25h[?25l[29;11H[K[41;130H4-11[29;11H[?12l[?25h[?25l[29;10H[K[41;130H3-10[29;10H[?12l[?25h[?25l[29;9H[K[41;130H2-9 [29;9H[?12l[?25h[?25l[41;130H1  [29;1H[?12l[?25h[?25l[28;40r[40;1H
[1;41r[28;9H}[40;1H[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);[41;127H[K[41;127H43,3-10[7C14%[26;39H[46m{[28;9H}[?12l[?25h[?25l[m[26;39H{[28;9H}[41;128H2,2-9 [27;9H[?12l[?25h[?25l[41;128H1,3-10[26;10H[?12l[?25h[?25l[41;128H2,2-9 [27;9H[?12l[?25h[?25l[26;39H[46m{[28;9H}[m[41;128H3,3-10[28;10H[?12l[?25h[?25l[15;79H[46m{[m[26;39H{[28;9H}
[46m}[m[41;128H4,2   [29;2H[?12l[?25h[?25l[15;79H{[29;1H}[41;128H5,1[30;1H[?12l[?25h[?25l[41;128H6,10[31;10H[?12l[?25h[?25l[41;128H7,3-10[32;10H[?12l[?25h[?25l[31;94H[46m{

}[m[41;128H8,2   [33;2H[?12l[?25h[?25l[31;94H{

}[41;128H9,10[34;10H[?12l[?25h[?25l[41;127H50,2-9[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);[41;127H[K[41;127H51,3-10[7C14%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H52,3-10[7C15%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[41;127H[K[41;127H53,2-9[8C16%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H&dev_attr_read.attr,[41;127H[K[41;127H54,2[10C17%[31;89H[46m{[35;1H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H&dev_attr_change.attr,[41;127H[K[41;127H55,10[9C18%[30;89H{[34;1H}[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;127H[K[41;127H56,10[9C19%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H57,1[10C20%[35;1H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H[K[41;127H58,10[9C21%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H.attrs = dev_attrs,[31mNULL[m[41;127H[K[41;127H59,3-10[7C21%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H60,3-10[7C22%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H61,3-10[7C23%[35;10H[?12l[?25h[?25l[41;128H0[34;10H[?12l[?25h[?25l[41;127H59[33;10H[?12l[?25h[?25l[41;128H8,10  [32;10H[?12l[?25h[?25l[41;128H7,1 [31;1H[?12l[?25h[?25l[41;128H6,10[30;10H[?12l[?25h[?25l[41;128H5[29;10H[?12l[?25h[?25l[24;89H[46m{[28;1H}[m[41;128H4,2 [28;2H[?12l[?25h[?25l[24;89H{[28;1H}[41;128H3,2-9[27;9H[?12l[?25h[?25l[41;128H2,3-10[26;10H[?12l[?25h[?25l[41;128H1[25;10H[?12l[?25h[?25l[41;128H0,2-9 [24;9H[?12l[?25h[?25l[41;127H49,10 [23;10H[?12l[?25h[?25l[20;94H[46m{

}[m[41;128H8,2 [22;2H[?12l[?25h[?25l[20;94H{

}[41;128H7,3-10[21;10H[?12l[?25h[?25l[41;128H6,10  [20;10H[?12l[?25h[?25l[41;128H5,1 [19;1H[?12l[?25h[?25l[4;79H[46m{[18;1H}[m[41;128H4,2[18;2H[?12l[?25h[?25l[4;79H{[18;1H}[41;128H5,1[19;1H[?12l[?25h[?25l[41;128H6,10[20;10H[?12l[?25h[?25l[41;128H7,3-10[21;10H[?12l[?25h[?25l[20;94H[46m{

}[m[41;128H8,2   [22;2H[?12l[?25h[?25l[20;94H{

}[41;128H9,10[23;10H[?12l[?25h[?25l[41;127H50,2-9[24;9H[?12l[?25h[?25l[41;128H1,3-10[25;10H[?12l[?25h[?25l[41;128H2[26;10H[?12l[?25h[?25l[41;128H3,2-9 [27;9H[?12l[?25h[?25l[24;89H[46m{[28;1H}[m[41;128H4,2  [28;2H[?12l[?25h[?25l[24;89H{[28;1H}[41;128H5,10[29;10H[?12l[?25h[?25l[41;128H6[30;10H[?12l[?25h[?25l[41;128H7,1 [31;1H[?12l[?25h[?25l[41;128H8,10[32;10H[?12l[?25h[?25l[41;128H9,3-10[33;10H[?12l[?25h[?25l[41;127H60[34;10H[?12l[?25h[?25l[41;128H1[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H&dev_attr_group,[41;127H[K[41;127H62,3[10C24%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;127H[K[41;127H63,10[9C25%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H64,3-10[7C26%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H65,3[10C27%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H66,10[9C28%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H67,3-10[7C28%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H68,3-10[7C29%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H69,3[10C30%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H70,10[9C31%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H71,3-10[7C32%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mint[m error=[31m0[m;[41;127H[K[41;127H72,3-10[7C33%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H73,3[10C34%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H74,10[9C35%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H75,10[9C35%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H76,2[10C36%[35;2H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mif[m (error)[41;127H[K[41;127H77,3-10[7C37%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H78,3-10[7C38%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H79,3-10[7C39%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H80,1[10C40%[35;1H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H81,3-10[7C41%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H82,3-10[7C42%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H83,2-9[8C42%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H84,2-9[8C43%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H85,3-10[7C44%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H86,2-9[8C45%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9HirqNumber = gpio_to_irq(hdmi_gpio);[41;127H[K[41;127H87,2-9[8C46%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstruct[m device_node *fwr = [31mNULL[m;[41;127H[K[41;127H88,3-10[7C47%[32;38H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[34m//fw = of_find_compatible_node(NULL,);[m[41;127H[K[41;127H89,3-10[7C48%[31;38H{[34;9H}[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;127H[K[41;127H90,3-10[7C49%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H91,3-10[7C50%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H92,3-10[7C50%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H93,3-10[7C51%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H94,3-10[7C52%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H95,3-10[7C53%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H96,10[9C54%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H97,3-10[7C55%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H98,3-10[7C56%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H99,2-9[8C57%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H100,2-9[7C57%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H101,3-10      58%[32;29H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[35m#if 0[m[41;127H[K[41;127H102,3-10      59%[31;29H{[34;9H}[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H103,2-9[7C60%[35;9H[?12l[?25h[?25l[41;129H2,3-10[34;10H[?12l[?25h[?25l[30;29H[46m{[33;9H}[m[41;129H1[33;10H[?12l[?25h[?25l[30;29H{[33;9H}[41;129H0,2-9 [32;9H[?12l[?25h[?25l[41;131H3-17[32;17H[?12l[?25h[?25l[41;127H99,3-17 [31;17H[?12l[?25h[?25l[41;128H8,10-17[30;17H[?12l[?25h[?25l[41;128H7[29;17H[?12l[?25h[?25l[41;131H1-18[29;18H[?12l[?25h[?25l[41;131H2-19[29;19H[?12l[?25h[?25l[41;131H3-20[29;20H[?12l[?25h[?25l[41;131H4-21[29;21H[?12l[?25h[?25l[41;131H5-22[29;22H[?12l[?25h[?25l[41;131H6-23[29;23H[?12l[?25h[?25l[41;131H7-24[29;24H[?12l[?25h[?25l[41;131H8-25[29;25H[?12l[?25h[?25l[41;131H9-26[29;26H[?12l[?25h[?25l[41;130H20-27[29;27H[?12l[?25h[?25l[41;131H1-28[29;28H[?12l[?25h[?25l[41;131H2-29[29;29H[?12l[?25h[?25l[41;131H3-30[29;30H[?12l[?25h[?25l[41;131H4-31[29;31H[?12l[?25h[?25l[41;131H5-32[29;32H[?12l[?25h[?25l[41;131H6-33[29;33H[?12l[?25h[?25l[41;131H7-34[29;34H[?12l[?25h[?25l[41;131H8-35[29;35H[?12l[?25h[?25l[41;131H9-36[29;36H[?12l[?25h[?25l[41;130H30-37[29;37H[?12l[?25h[?25l[41;131H1-38[29;38H[?12l[?25h[?25le[46m([9C)[m[41;131H2-39[29;39H[?12l[?25h[?25l[41;131H3-40[29;40H[?12l[?25h[?25l([9C)[41;131H4-41[29;41H[?12l[?25h[?25l[41;131H5-42[29;42H[?12l[?25h[?25l[41;131H6-43[29;43H[?12l[?25h[?25l[41;131H7-44[29;44H[?12l[?25h[?25l[41;131H8-45[29;45H[?12l[?25h[?25l[41;131H9-46[29;46H[?12l[?25h[?25l[41;130H40-47[29;47H[?12l[?25h[?25l[41;131H1-48[29;48H[?12l[?25h[?25l[29;39H[46m([9C)[m[41;131H2-49[29;49H[?12l[?25h[?25l[41;131H3-50[29;50H[?12l[?25h[?25l[29;39H([9C)[41;131H4-51[29;51H[?12l[?25h[?25l[30;40r[30;1H[L[1;41r[41;127H[K[41;127H98,2-9[8C60%[30;9H[?12l[?25h[?25l[41;130H1  [30;1H[?12l[?25h[?25l[29;40r[40;1H
[1;41r[29;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H97,44-51      60%[29;51H[?12l[?25h[?25l[41;128H6,10   [28;10H[?12l[?25h[?25l[27;51H[46m([4C)[m[41;128H5,44-51[27;51H[?12l[?25h[?25l([4C)[41;128H4,40-47[26;47H[?12l[?25h[?25l[41;128H3,33-40[25;40H[?12l[?25h[?25l[41;128H2,37-44[24;44H[?12l[?25h[?25l[41;128H1,31-38[23;38H[?12l[?25h[?25l[41;128H0,34-41[22;41H[?12l[?25h[?25l[41;127H89[21;41H[?12l[?25h[?25l[17;38H[46m{[20;9H}[m[41;128H8,3-10 [20;10H[?12l[?25h[?25l[17;38H{[20;9H}[41;128H7,18-32[19;32H[?12l[?25h[?25l[41;128H6,37-51[18;51H[?12l[?25h[?25l[17;38H[46m{[20;9H}[m[41;128H5,32-39[17;39H[?12l[?25h[?25l{[20;9H}[41;128H4,2-9  [16;9H[?12l[?25h[?25l[41;128H3,31-45[15;45H[?12l[?25h[?25l[14;12H[46m([merror[46m)[m[41;128H2,12-19[14;19H[?12l[?25h[?25l[14;12H(error)[41;128H1,35-42[13;42H[?12l[?25h[?25l[41;128H0,1    [12;1H[?12l[?25h[?25l[41;127H79,16-23[11;23H[?12l[?25h[?25l[41;128H8,31-38[10;38H[?12l[?25h[?25l[41;128H7,14-21[9;21H[?12l[?25h[?25l[41;131H3-20[9;20H[?12l[?25h[?25l,;[41;131H4-21[9;21H[?12l[?25h[?25lf;[41;131H5-22[9;22H[?12l[?25h[?25ll;[41;131H6-23[9;23H[?12l[?25h[?25la;[41;131H7-24[9;24H[?12l[?25h[?25lg;[41;131H8-25[9;25H[?12l[?25h[?25l=;[41;131H9-26[9;26H[?12l[?25h[?25l[31m0[m;[41;130H20-27[9;27H[?12l[?25h[?25l[41;128H8[10;27H[?12l[?25h[?25l[41;128H9,16-23[11;23H[?12l[?25h[?25l[41;127H80,1    [12;1H[?12l[?25h[?25l[41;128H1,20-27[13;27H[?12l[?25h[?25l[14;12H[46m([merror[46m)[m[41;128H2,12-19[14;19H[?12l[?25h[?25l[14;12H(error)[41;128H3,13-27[15;27H[?12l[?25h[?25l[41;128H4,2-9  [16;9H[?12l[?25h[?25l[17;26H[46m([9C)[m[41;128H5,20-27[17;27H[?12l[?25h[?25l([9C)[41;128H6,13[18;27H[?12l[?25h[?25l[41;128H7[19;27H[?12l[?25h[?25l[17;38H[46m{[20;9H}[m[41;128H8,3-10 [20;10H[?12l[?25h[?25l[17;38H{[20;9H}[41;128H9,20-27[21;27H[?12l[?25h[?25l[41;127H90[22;27H[?12l[?25h[?25l[41;128H1[23;27H[?12l[?25h[?25l[41;128H2[24;27H[?12l[?25h[?25l[41;128H3[25;27H[?12l[?25h[?25l[41;128H4[26;27H[?12l[?25h[?25l[41;128H5[27;27H[?12l[?25h[?25l[41;128H6,10   [28;10H[?12l[?25h[?25l[41;128H7,20-27[29;27H[?12l[?25h[?25l[41;131H1-28[29;28H[?12l[?25h[?25l[41;131H2-29[29;29H[?12l[?25h[?25l[41;131H3-30[29;30H[?12l[?25h[?25l[41;131H4-31[29;31H[?12l[?25h[?25l[41;131H5-32[29;32H[?12l[?25h[?25l[41;131H6-33[29;33H[?12l[?25h[?25l[41;131H7-34[29;34H[?12l[?25h[?25l[41;131H8-35[29;35H[?12l[?25h[?25l[41;131H9-36[29;36H[?12l[?25h[?25l[41;130H30-37[29;37H[?12l[?25h[?25l[41;131H1-38[29;38H[?12l[?25h[?25le[46m([9C)[m[41;131H2-39[29;39H[?12l[?25h[?25l[41;131H3-40[29;40H[?12l[?25h[?25l([9C)[41;131H4-41[29;41H[?12l[?25h[?25l[41;131H5-42[29;42H[?12l[?25h[?25l[41;131H6-43[29;43H[?12l[?25h[?25l[41;131H7-44[29;44H[?12l[?25h[?25l[41;131H8-45[29;45H[?12l[?25h[?25l[41;131H9-46[29;46H[?12l[?25h[?25l[41;130H40-47[29;47H[?12l[?25h[?25l[41;131H1-48[29;48H[?12l[?25h[?25l[29;39H[46m([9C)[m[41;131H2-49[29;49H[?12l[?25h[?25l[41;131H3-50[29;50H[?12l[?25h[?25l[29;39H([9C)[41;131H4-51[29;51H[?12l[?25h[?25l[30;29H[46m{[33;9H}[m[41;128H8,23-30[30;30H[?12l[?25h[?25l{[33;9H}[41;128H9,37-51[31;51H[?12l[?25h[?25l[30;29H[46m{[33;9H}[m[41;128H8,23-30[30;30H[?12l[?25h[?25l[31;40r[31;1H[L[1;41r[33;9H[46m        [m[34;9H}[41;127H[K[41;127H99,3-17[7C60%[30;29H{[33;9H        [31;17H[?12l[?25h[?25li[41;130H4-18[31;18H[?12l[?25h[?25l[33mif[m[41;130H5-19[31;19H[?12l[?25h[?25l([41;130H6-20[31;20H[?12l[?25h[?25l)[46m()[m[41;130H7-21[31;21H[?12l[?25h[?25l[41;130H6-20[31;20H[?12l[?25h[?25l[46mf[m)f[46m)[m[41;130H7-21[31;21H[?12l[?25h[?25l[46ml[m)l[46m)[m[41;130H8-22[31;22H[?12l[?25h[?25l[46ma[m)a[46m)[m[41;130H9-23[31;23H[?12l[?25h[?25l[46mg[m)g[46m)[m[41;130H10-24[31;24H[?12l[?25h[?25l[41;131H1-25[31;25H[?12l[?25h[?25l{[31;19H(flag)[46m{[34;9H}[m[41;131H2-26[31;26H[?12l[?25h[?25l[32;40r[32;1H[L[1;41r[34;9H[46m        [m[35;9H}[41;127H[K[41;127H100,4-25      59%[31;25H{[34;9H        [32;25H[?12l[?25h[?25l[32;17H}[31;25H[46m{[32;17H}[m[41;133H18[32;18H[?12l[?25h[?25l[41;131H3-17[32;17H[?12l[?25h[?25l[33;40r[33;1H[L[1;41r[32;17H[K[33;17H}[41;127H[K[41;127H101,3-17      58%[33;17H[46m}[?12l[?25h[?25l[m[31;25H{[33;17H}[41;129H0[32;17H[?12l[?25h[?25l[41;131H4-25[32;25H[?12l[?25h[?25l[31;25H[46m{[33;17H}[m[41;127H99,11[31;25H[?12l[?25h[?25l{[33;17H}[41;128H8,18[30;25H[?12l[?25h[?25l[41;128H7[29;25H[?12l[?25h[?25l[41;128H6,10   [28;10H[?12l[?25h[?25l[41;128H5,18-25[27;25H[?12l[?25h[?25l[41;128H4[26;25H[?12l[?25h[?25l[41;128H3[25;25H[?12l[?25h[?25l[41;128H2[24;25H[?12l[?25h[?25l[41;128H1[23;25H[?12l[?25h[?25l[41;128H0[22;25H[?12l[?25h[?25l[41;127H89[21;25H[?12l[?25h[?25l[17;38H[46m{[20;9H}[m[41;128H8,3-10 [20;10H[?12l[?25h[?25l[17;38H{[20;9H}[41;128H7,11-25[19;25H[?12l[?25h[?25l[41;128H6[18;25H[?12l[?25h[?25l[41;128H5,18[17;25H[?12l[?25h[?25l[41;128H4,2-9  [16;9H[?12l[?25h[?25l[41;128H3,11-25[15;25H[?12l[?25h[?25l[14;12H[46m([merror[46m)[m[41;128H2,12-19[14;19H[?12l[?25h[?25l[14;12H(error)[41;128H1,18-25[13;25H[?12l[?25h[?25l[41;128H0,1    [12;1H[?12l[?25h[?25l[41;127H79,16-23[11;23H[?12l[?25h[?25l[41;128H8,18-25[10;25H[?12l[?25h[?25l[41;128H7[9;25H[?12l[?25h[?25l[41;131H9-26[9;26H[?12l[?25h[?25l[41;130H20-27[9;27H[?12l[?25h[?25l;[9;27H[K[41;130H19-26[9;26H[?12l[?25h[?25l[31m1[m;[41;130H20-27[9;27H[?12l[?25h[?25l[41;128H8[10;27H[?12l[?25h[?25l[41;128H9,16-23[11;23H[?12l[?25h[?25l[41;127H80,1    [12;1H[?12l[?25h[?25l[41;128H1,20-27[13;27H[?12l[?25h[?25l[14;12H[46m([merror[46m)[m[41;128H2,12-19[14;19H[?12l[?25h[?25l[14;12H(error)[41;128H3,13-27[15;27H[?12l[?25h[?25l[41;128H4,2-9  [16;9H[?12l[?25h[?25l[17;26H[46m([9C)[m[41;128H5,20-27[17;27H[?12l[?25h[?25l([9C)[41;128H6,13[18;27H[?12l[?25h[?25l[41;128H7[19;27H[?12l[?25h[?25l[17;38H[46m{[20;9H}[m[41;128H8,3-10 [20;10H[?12l[?25h[?25l[17;38H{[20;9H}[41;128H9,20-27[21;27H[?12l[?25h[?25l[41;127H90[22;27H[?12l[?25h[?25l[41;128H1[23;27H[?12l[?25h[?25l[41;128H2[24;27H[?12l[?25h[?25l[41;128H3[25;27H[?12l[?25h[?25l[41;128H4[26;27H[?12l[?25h[?25l[41;128H5[27;27H[?12l[?25h[?25l[41;128H6,10   [28;10H[?12l[?25h[?25l[41;128H7,20-27[29;27H[?12l[?25h[?25l[41;128H8[30;27H[?12l[?25h[?25l[31;25H[46m{[33;17H}[m[41;128H9,12-26[31;26H[?12l[?25h[?25l{[33;17H}[41;127H100,4-25[32;25H[?12l[?25h[?25l[31;25H[46m{[33;17H}[m[41;127H99,12-26[31;26H[?12l[?25h[?25l{[33;17H}[41;128H8,20-27[30;27H[?12l[?25h[?25l[41;128H7[29;27H[?12l[?25h[?25l[41;128H6,10   [28;10H[?12l[?25h[?25l[41;128H5,20-27[27;27H[?12l[?25h[?25l[41;128H4[26;27H[?12l[?25h[?25l[41;128H3[25;27H[?12l[?25h[?25l[41;128H2[24;27H[?12l[?25h[?25l[41;128H1[23;27H[?12l[?25h[?25l[41;128H0[22;27H[?12l[?25h[?25l[41;127H89[21;27H[?12l[?25h[?25l[17;38H[46m{[20;9H}[m[41;128H8,3-10 [20;10H[?12l[?25h[?25l[17;38H{[20;9H}[41;128H7,13-27[19;27H[?12l[?25h[?25l[41;128H6[18;27H[?12l[?25h[?25l[17;26H[46m([9C)[m[41;128H5,20[17;27H[?12l[?25h[?25l([9C)[41;128H4,2-9  [16;9H[?12l[?25h[?25l[41;128H3,13-27[15;27H[?12l[?25h[?25l[14;12H[46m([merror[46m)[m[41;128H2,12-19[14;19H[?12l[?25h[?25l[14;12H(error)[41;128H1,20-27[13;27H[?12l[?25h[?25l[41;128H0,1    [12;1H[?12l[?25h[?25l[41;127H79,16-23[11;23H[?12l[?25h[?25l[41;128H8,20-27[10;27H[?12l[?25h[?25l[41;128H7[9;27H[?12l[?25h[?25l[41;128H6,2    [8;2H[?12l[?25h[?25l[41;128H5,27[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H74,27[9C58%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H73,3[10C57%[7;3H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H&dev_attr_group,[41;127H[K[41;127H72,20-27      56%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H71,20-27      55%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H70,27[9C54%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H.attrs = dev_attrs,[31mNULL[m[41;127H[K[41;127H69,3[10C53%[7;3H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H[K[41;127H68,6-13[7C52%[7;13H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H67,18-25      52%[7;25H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H66,27[9C51%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H&dev_attr_change.attr,[41;127H[K[41;127H65,3[10C50%[7;3H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H&dev_attr_read.attr,[41;127H[K[41;127H64,20-27      49%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[41;127H[K[41;127H63,27[9C48%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[41;127H[K[41;127H62,3[10C47%[7;3H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);[41;127H[K[41;127H61,6-13[7C47%[7;13H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);[41;127H[K[41;127H60,20-27      46%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H59,20-27      45%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H58,27[9C44%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[34m//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[41;127H[K[41;127H57,1[10C43%[7;1H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[34m//if(count)[m[41;127H[K[41;127H56,27[9C42%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H55,27[9C41%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[41;127H[K[41;127H54,2[10C41%[3;89H[46m{[7;1H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H53,13-27      40%[4;89H{[8;1H}[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H52,15-27      39%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m read_hdmi_status ([32mstruct[m device *dev, [32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H51,13-20      38%[7;13H[34m[46m([5C)[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[41;127H[K[41;127H50,4-25[7C37%[8;13H[34m(count)[7;25H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H49,27[9C36%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H48,2[10C35%[5;94H[46m{

}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[41;127H[K[41;127H47,20-27      35%[6;94H{

}[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[41;127H[K[41;127H46,27[9C34%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[41;127H[K[41;127H45,1[10C33%[7;1H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[41;127H[K[41;127H44,2[10C32%[7;2H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17Hedid_tag1.edid_block[error] = [31m0[m;[41;127H[K[41;127H43,3-10[7C31%[5;39H[46m{[7;9H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[41;127H[K[41;127H42,13-27      30%[6;39H{[8;9H}[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hedid_tag1.status = [31m0[m;[41;127H[K[41;127H41,20-27      29%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hedid_tag1.block_number = [31m0[m;[41;127H[K[41;127H40,20-27      29%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[41;127H[K[41;127H39,20-27      28%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[41;127H[K[41;127H38,13-27      27%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[32mint[m error;[41;127H[K[41;127H37,20-27      26%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[41;127H[K[41;127H36,20-27      25%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mvoid[m get_projector_id([32mstruct[m device_node *fwr, [32mstruct[m rpi_firmware *fw){[41;127H[K[41;127H35,20-27      24%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[41;127H[K[41;127H34,20-27      23%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H}edid_tag1;[41;127H[K[41;127H33,20-27      23%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];[41;127H[K[41;127H32,12-19      22%[7;19H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hu32 status;[41;127H[K[41;127H31,2-9[8C21%[7;9H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hu32 block_number;[41;127H[K[41;127H30,27[9C20%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstruct[m edid_tag{[41;127H[K[41;127H29,1[10C19%[7;1H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[41;127H[K[41;127H28,12[9C18%[7;12H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32munsigned[m [32mint[m hdmi_gpio = [31m46[m;[41;127H[K[41;127H27,20-27      17%[7;27H[?12l[?25h[?25l[41;128H8,12   [8;12H[?12l[?25h[?25l[41;128H9,1 [9;1H[?12l[?25h[?25l[41;127H30,27[10;27H[?12l[?25h[?25l[41;128H1,2-9[11;9H[?12l[?25h[?25l[41;128H2,12-19[12;19H[?12l[?25h[?25l[41;128H3,20-27[13;27H[?12l[?25h[?25l[41;128H4[14;27H[?12l[?25h[?25l[41;128H5[15;27H[?12l[?25h[?25l[41;128H6[16;27H[?12l[?25h[?25l[41;128H7[17;27H[?12l[?25h[?25l[41;128H8,13[18;27H[?12l[?25h[?25l[41;128H9,20[19;27H[?12l[?25h[?25l[41;127H40[20;27H[?12l[?25h[?25l[41;128H1[21;27H[?12l[?25h[?25l[41;128H2,13[22;27H[?12l[?25h[?25l[21;39H[46m{[23;9H}[m[41;128H3,3-10 [23;10H[?12l[?25h[?25l[10;79H[46m{[m[21;39H{[23;9H}
[46m}[m[41;128H4,2   [24;2H[?12l[?25h[?25l[10;79H{[24;1H}[41;128H5,1[25;1H[?12l[?25h[?25l[41;128H6,27[26;27H[?12l[?25h[?25l[41;128H7,20-27[27;27H[?12l[?25h[?25l[26;94H[46m{

}[m[41;128H8,2    [28;2H[?12l[?25h[?25l[26;94H{

}[41;128H9,27[29;27H[?12l[?25h[?25l[41;127H50,4-25[30;25H[?12l[?25h[?25l[31;13H[34m[46m([5C)[m[41;128H1,13-20[31;20H[?12l[?25h[?25l[31;13H[34m(count)[m[41;128H2,15-27[32;27H[?12l[?25h[?25l[41;128H3,13[33;27H[?12l[?25h[?25l[30;89H[46m{[34;1H}[m[41;128H4,2    [34;2H[?12l[?25h[?25l[30;89H{[34;1H}[41;128H5,27[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;127H[K[41;127H56,27[9C18%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H57,1[10C19%[35;1H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[41;127H[K[41;127H58,27[9C20%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H.attrs = dev_attrs,[31mNULL[m[41;127H[K[41;127H59,20-27      21%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H60,20-27      22%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H61,6-13[7C23%[35;13H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H&dev_attr_group,[41;127H[K[41;127H62,3[10C23%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[31mNULL[m[41;127H[K[41;127H63,27[9C24%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H64,20-27      25%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H65,3[10C26%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H66,27[9C27%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H67,18-25      28%[35;25H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H};[41;127H[K[41;127H68,6-13[7C29%[35;13H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H69,3[10C29%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H70,27[9C30%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H71,20-27      31%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mint[m error=[31m0[m,flag=[31m1[m;[41;127H[K[41;127H72,20-27      32%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H73,3[10C33%[35;3H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H74,27[9C34%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H75,27[9C35%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H76,2[10C35%[35;2H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mif[m (error)[41;127H[K[41;127H77,20-27      36%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H78,20-27      37%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H79,16-23      38%[35;23H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H80,1[10C39%[35;1H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H81,20-27      40%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H82,12-19      41%[35;12H[46m([merror[46m)[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H}[41;127H[K[41;127H83,13-27      41%[34;12H(error)[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H84,2-9[8C42%[35;9H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H85,20-27      43%[35;26H[46m([9C)[35;27H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H86,13-27      44%[34;26H([9C)[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9HirqNumber = gpio_to_irq(hdmi_gpio);[41;127H[K[41;127H87,13-27      45%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstruct[m device_node *fwr = [31mNULL[m;[41;127H[K[41;127H88,3-10[7C46%[32;38H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[34m//fw = of_find_compatible_node(NULL,);[m[41;127H[K[41;127H89,20-27      47%[31;38H{[34;9H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;127H[K[41;127H90,20-27      47%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H91,20-27      48%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H92,20-27      49%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H93,20-27      50%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17H[33mif[m(flag){[41;127H[K[41;127H94,20-27      51%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H95,20-27      52%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17H}[41;127H[K[41;127H96,10[9C52%[35;10H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H97,20-27      53%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H98,20-27      54%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H99,12-26      55%[35;25H[46m{[37;17H}[35;26H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H100,4-25      56%[34;25H{[36;17H}[35;25H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H101,4-18      57%[33;25H[46m{[35;17H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H102,13-27     58%[32;25H{[34;17H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H103,13-27     58%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H104,3-10      59%[29;29H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[35m#if 0[m[41;127H[K[41;127H105,20-27     60%[28;29H{[34;9H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H106,13-27     61%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H107,13-27     62%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H108,3-10      63%[32;30H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H109,20-27     64%[31;30H{[34;9H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H110,6[9C64%[35;6H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H111,20-27     65%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H112,13-20     66%[35;19H[34m[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H113,13-27     67%[34;19H[34m{[m[35;27H[34m[46m([3C)[m[37;9H[34m}[35;27H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H114,13-27     68%[34;27H[34m(dev)[35;27H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H115,3-10      69%[32;19H[34m[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[35m#endif[m[41;127H[K[41;127H116,20-27     70%[31;19H[34m{[34;9H}[35;27H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H117,13-20     70%[35;19H[34m[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H118,13-27     71%[34;19H[34m{[m[35;27H[34m[46m([3C)[m[37;9H[34m}[35;27H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mif[m (error){[41;127H[K[41;127H119,13-27     72%[34;27H[34m(dev)[35;27H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hkobject_put(&dev->kobj);[41;127H[K[41;127H120,3-10      73%[32;19H[34m[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H121,7[9C74%[31;19H[34m{[34;9H}[35;7H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H}[41;127H[K[41;127H122,20-27     75%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H123,20-27     76%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H124,13-20     76%[35;19H[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mreturn[m error;[41;127H[K[41;127H125,13-27     77%[34;19H{[37;9H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H126,13-27     78%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[41;127H[K[41;127H127,3-10      79%[32;19H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H128,15-22     80%[31;19H{[34;9H}[35;22H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H129,2[9C81%[2;9H[46m{[35;1H}[?12l[?25h[?25l[2;40r[m[2;1H[2M[1;41r[39;9Hmisc_deregister(&hdmi_dev);[40;9Hgpio_unexport(hdmi_gpio);[41;127H[K[41;127H131,2[9C82%[33;1H}

}[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_free(hdmi_gpio);[41;127H[K[41;127H132,1[9C83%[35;1H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H133,27[8C84%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H134,2[9C85%[35;1H[46m{[40;1H}[35;2H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[41;127H[K[41;127H135,20-27     86%[34;1H{[39;1H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m irq_handler_t hdmigpio_irq_handler([32munsigned[m [32mint[m irq, [32mvoid[m *dev_id, [32mstruct[m pt_regs *regs){[41;127H[K[41;127H136,20-27     87%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mint[m error;[41;127H[K[41;127H137,20-27     88%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"[m[35m\n[m[31mDetected hdmi hotplug event and inside IRQ[m[35m\n[m[31m"[m);[41;127H[K[41;127H138,16-23     88%[35;23H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H139,2[9C89%[30;1H[46m{[35;1H}[?12l[?25h[?25l[m[30;1H{[35;1H}[41;129H8,16-23[34;23H[?12l[?25h[?25l[41;129H7,20-27[33;27H[?12l[?25h[?25l[41;129H6[32;27H[?12l[?25h[?25l[41;129H5[31;27H[?12l[?25h[?25l[30;1H[46m{[35;1H}[m[41;129H4,2    [30;2H[?12l[?25h[?25l{[35;1H}[41;129H3,27[29;27H[?12l[?25h[?25l
[46m{[35;1H}[m[41;129H4,2 [30;2H[?12l[?25h[?25l{[35;1H}[41;129H5,20-27[31;27H[?12l[?25h[?25l[41;129H6[32;27H[?12l[?25h[?25l[41;129H5[31;27H[?12l[?25h[?25l[30;1H[46m{[35;1H}[m[41;129H4,2    [30;2H[?12l[?25h[?25l{[35;1H}[41;129H3,27[29;27H[?12l[?25h[?25l[41;129H2,1 [28;1H[?12l[?25h[?25l[41;129H1,2[27;2H[?12l[?25h[?25l[41;129H0,15-22[26;22H[?12l[?25h[?25l[41;128H29,2    [25;2H[?12l[?25h[?25l[41;129H8,15-22[24;22H[?12l[?25h[?25l[20;19H[46m{[23;9H}[m[41;129H7,3-10 [23;10H[?12l[?25h[?25l[20;19H{[23;9H}[41;129H6,13-27[22;27H[?12l[?25h[?25l[41;129H5[21;27H[?12l[?25h[?25l[41;129H6[22;27H[?12l[?25h[?25l[20;19H[46m{[23;9H}[m[41;129H7,3-10 [23;10H[?12l[?25h[?25l[20;19H{[23;9H}[41;129H8,15-22[24;22H[?12l[?25h[?25l[41;129H9,2    [25;2H[?12l[?25h[?25l[41;128H30,15-22[26;22H[?12l[?25h[?25l[41;129H1,2    [27;2H[?12l[?25h[?25l[41;129H2,1[28;1H[?12l[?25h[?25l[41;129H3,27[29;27H[?12l[?25h[?25l
[46m{[35;1H}[m[41;129H4,2 [30;2H[?12l[?25h[?25l{[35;1H}[41;129H5,20-27[31;27H[?12l[?25h[?25l[41;129H6[32;27H[?12l[?25h[?25l[41;129H7[33;27H[?12l[?25h[?25l[41;129H8,16-23[34;23H[?12l[?25h[?25l[30;1H[46m{[35;1H}[m[41;129H9,2    [35;2H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H140,1[9C90%[29;1H{[34;1H}
[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mif[m (error){[41;127H[K[41;127H141,27[8C91%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hkobject_put(&dev->kobj);[41;127H[K[41;127H142,12-19     92%[35;19H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H143,20-27     93%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H144,20-27     94%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[33mreturn[m (irq_handler_t) IRQ_HANDLED;[41;127H[K[41;127H145,20-27     94%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H146,13-20     95%[35;19H[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[41;127H[K[41;127H147,13-27     96%[34;19H{[37;9H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1Hmodule_init(module_start);[41;127H[K[41;127H148,13-27     97%[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1Hmodule_exit(module_end);[41;127H[K[41;127H149,3-10      98%[32;19H[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1HMODULE_LICENSE([31m"GPL"[m);[41;127H[K[41;127H150,20-27     99%[31;19H{[34;9H}[35;27H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1HMODULE_DESCRIPTION([31m"HDMI Device"[m);[41;127H[K[41;127H151,2[9CBot[25;96H[46m{[35;1H}[?12l[?25h[?25l[m[25;96H{[35;1H}[41;129H2,1[36;1H[?12l[?25h[?25l[41;129H3,27[37;27H[?12l[?25h[?25l[41;129H4,25[38;25H[?12l[?25h[?25l[41;129H5,23[39;23H[?12l[?25h[?25l[41;129H6,27[40;27H[?12l[?25h[?25l[41;129H5,23[39;23H[?12l[?25h[?25l[41;129H4,25[38;25H[?12l[?25h[?25l[41;129H3,27[37;27H[?12l[?25h[?25l[41;129H2,1 [36;1H[?12l[?25h[?25l[25;96H[46m{[35;1H}[m[41;129H1,2[35;2H[?12l[?25h[?25l[25;96H{[35;1H}[41;129H0,20-27[34;27H[?12l[?25h[?25l[30;19H[46m{[33;9H}[m[41;128H49,3-10 [33;10H[?12l[?25h[?25l[30;19H{[33;9H}[41;129H8,13-27[32;27H[?12l[?25h[?25l[41;129H7[31;27H[?12l[?25h[?25l[30;19H[46m{[33;9H}[m[41;129H6,13-20[30;20H[?12l[?25h[?25l{[33;9H}[41;129H5,20-27[29;27H[?12l[?25h[?25l[41;129H4[28;27H[?12l[?25h[?25l[41;129H3[27;27H[?12l[?25h[?25l[41;129H2,12-19[26;19H[?12l[?25h[?25l[41;129H1,27   [25;27H[?12l[?25h[?25l[41;129H0,1 [24;1H[?12l[?25h[?25l[18;1H[46m{[23;1H}[m[41;128H39,2[23;2H[?12l[?25h[?25l[18;1H{[23;1H}[41;129H8,16-23[22;23H[?12l[?25h[?25l[41;129H7,20-27[21;27H[?12l[?25h[?25l[41;129H6[20;27H[?12l[?25h[?25l[41;129H5[19;27H[?12l[?25h[?25l[18;1H[46m{[23;1H}[m[41;129H4,2    [18;2H[?12l[?25h[?25l{[23;1H}[41;129H3,27[17;27H[?12l[?25h[?25l[41;129H2,1 [16;1H[?12l[?25h[?25l[41;129H1,2[15;2H[?12l[?25h[?25l[41;129H0,15-22[14;22H[?12l[?25h[?25l[41;128H29,2    [13;2H[?12l[?25h[?25l[41;129H8,15-22[12;22H[?12l[?25h[?25l[8;19H[46m{[11;9H}[m[41;129H7,3-10 [11;10H[?12l[?25h[?25l[8;19H{[11;9H}[41;129H6,13-27[10;27H[?12l[?25h[?25l[41;129H5[9;27H[?12l[?25h[?25l[8;19H[46m{[11;9H}[m[41;129H4,13-20[8;20H[?12l[?25h[?25l{[11;9H}[41;129H3,20-27[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[34m        if (error){[m[41;127H[K[41;127H122,20-27     99%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H121,7[9C98%[7;7H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[34m        }[m[41;127H[K[41;127H120,3-10      97%[4;19H[34m[46m{[7;9H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H119,13-27     96%[5;19H[34m{[8;9H}[7;27H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H[34m                put_device(dev);[m[41;127H[K[41;127H118,13-27     95%[7;27H[34m[46m([3C)[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H[34m        if (error){[m[41;127H[K[41;127H117,13-20     94%[7;19H[34m[46m{[m[8;27H[34m(dev)[m[10;9H[34m[46m}[7;20H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H116,20-27     94%[8;19H[34m{[11;9H}[7;27H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;1H[35m#if 0[m[41;127H[K[41;127H115,3-10      93%[4;19H[34m[46m{[7;9H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H114,13-27     92%[5;19H[34m{[8;9H}[7;27H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H113,13-27     91%[7;27H[34m[46m([3C)[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;17Hmsleep([31m1000[m);[41;127H[K[41;127H112,13-20     90%[7;19H[34m[46m{[m[8;27H[34m(dev)[m[10;9H[34m[46m}[7;20H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H111,20-27     89%[8;19H[34m{[11;9H}[7;27H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H110,6[9C88%[7;6H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H109,20-27     88%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17Hmsleep([31m1000[m);[41;127H[K[41;127H108,3-10      87%[4;30H[46m{[7;9H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H107,13-27     86%[5;30H{[8;9H}[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17H}[41;127H[K[41;127H106,13-27     85%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[41;127H[K[41;127H105,20-27     84%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17H[33mif[m(flag){[41;127H[K[41;127H104,3-10      83%[7;10H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H103,13-27     82%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H102,13-27     82%[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H101,4-18      81%[5;25H[46m{[7;17H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;127H[K[41;127H100,4-25      80%[6;25H{[8;17H}[7;25H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[34m//fw = of_find_compatible_node(NULL,);[m[41;127H[K[41;127H99,12-26      79%[7;25H[46m{[9;17H}[7;26H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H[32mstruct[m device_node *fwr = [31mNULL[m;[41;127H[K[41;127H98,20-27      78%[8;25H{[10;17H}[7;27H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9HirqNumber = gpio_to_irq(hdmi_gpio);[41;127H[K[41;127H97,20-27      77%[7;27H[?12l[?25h[?25l[41;128H8[8;27H[?12l[?25h[?25l[9;25H[46m{[11;17H}[m[41;128H9,12-26[9;26H[?12l[?25h[?25l{[11;17H}[41;127H100,4-25[10;25H[?12l[?25h[?25lg[41;131H5-26[10;26H[?12l[?25h[?25le[41;131H6-27[10;27H[?12l[?25h[?25lt[41;131H7-28[10;28H[?12l[?25h[?25l_[41;131H8-29[10;29H[?12l[?25h[?25lp[41;131H9-30[10;30H[?12l[?25h[?25lr[41;131H10-31[10;31H[?12l[?25h[?25lo[41;132H1-32[10;32H[?12l[?25h[?25lj[41;132H2-33[10;33H[?12l[?25h[?25le[41;132H3-34[10;34H[?12l[?25h[?25lc[41;132H4-35[10;35H[?12l[?25h[?25lt[41;132H5-36[10;36H[?12l[?25h[?25lo[41;132H6-37[10;37H[?12l[?25h[?25lr[41;132H7-38[10;38H[?12l[?25h[?25l_[41;132H8-39[10;39H[?12l[?25h[?25li[41;132H9-40[10;40H[?12l[?25h[?25ld[41;131H20-41[10;41H[?12l[?25h[?25l([41;132H1-42[10;42H[?12l[?25h[?25l)[46m()[m[41;132H2-43[10;43H[?12l[?25h[?25l[41;132H1-42[10;42H[?12l[?25h[?25l[46mf[m)f[46m)[m[41;132H2-43[10;43H[?12l[?25h[?25l[46mw[m)w[46m)[m[41;132H3-44[10;44H[?12l[?25h[?25l[46mr[m)r[46m)[m[41;132H4-45[10;45H[?12l[?25h[?25l[46m,[m),[46m)[m[41;132H5-46[10;46H[?12l[?25h[?25l[46mf[m)f[46m)[m[41;132H6-47[10;47H[?12l[?25h[?25l[46mw[m)w[46m)[m[41;132H7-48[10;48H[?12l[?25h[?25l[41;132H8-49[10;49H[?12l[?25h[?25l;[10;41H(fwr,fw)[41;132H9-50[10;50H[?12l[?25h[41;1H[K[10;49H[?25l[41;117H^[[10;49H[41;117H  [10;50H[41;127H100,28-49     77%[10;49H[?12l[?25h[?25l[41;117H:[10;49H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"../hdmi_uevent/hdmi_gpio.c" 156L, 4244C written[15;8H[27m[23m[m[H[2J[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[9;9Hu32 block_number;[10;9Hu32 status;[11;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[15;9H[32mint[m error;[16;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;9H[32mstruct[m device_node *fwr = [31mNULL[m;[18;9H[34m//fw = of_find_compatible_node(NULL,);[m[19;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;9Hedid_tag1.block_number = [31m0[m;[22;9Hedid_tag1.status = [31m0[m;[23;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[24;17Hedid_tag1.edid_block[error] = [31m0[m;[25;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[26;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[27;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[28;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[29;9H}[30;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[33;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                                                                                               [m[41;127H15,1-8[8CAll[15;8H[?12l[?25h[?25l[41;117H^[[15;8H[41;117H  [15;8H[41;117H^[[15;8H[41;117H  [15;8H[?12l[?25h[?25l[41;117H:[15;8H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"mailbox.c" 39L, 1185C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m vim -p mailbox.c ../hdmi_uevent/hdmi_gpio.c [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cdmesg[Kvim -p mailbox.c ../hdmi_uevent/hdmi_gpio.c [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kvim -p mailbox.c ../hdmi_uevent/hdmi_gpio.c 
2 files to edit
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"mailbox.c" 39L, 1185C"../hdmi_uevent/hdmi_gpio.c" 156L, 4244C[>c[27m[23m[m[H[2J[1;1H[1m mailbox.c [m[4m[30m[47m ../h/hdmi_gpio.c [m[7m                                                                                                                   [m[1;144H[4m[30m[47mX[m[2;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[10;9Hu32 block_number;[11;9Hu32 status;[12;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[16;9H[32mint[m error;[17;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[18;9H[32mstruct[m device_node *fwr = [31mNULL[m;[19;9H[34m//fw = of_find_compatible_node(NULL,);[m[20;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[21;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[22;9Hedid_tag1.block_number = [31m0[m;[23;9Hedid_tag1.status = [31m0[m;[24;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[25;17Hedid_tag1.edid_block[error] = [31m0[m;[26;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[27;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[28;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[29;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[30;9H}[31;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[34;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);[41;127H15,1-8[8CAll[16;8H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[16;8H[41;117H   [17;8H[41;128H6[17;8H[?12l[?25h[?25l[41;117H~@k[17;8H[41;117H   [18;8H[41;128H7[18;8H[?12l[?25h[?25l[41;117H~@k[18;8H[41;117H   [19;8H[41;128H8[19;8H[?12l[?25h[?25l[41;117H~@k[19;8H[41;117H   [20;8H[41;128H9[20;8H[?12l[?25h[?25l[41;117H~@k[20;8H[41;117H   [21;8H[41;127H20[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H   [22;8H[41;128H1[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H   [23;8H[41;128H2[23;8H[?12l[?25h[?25l[41;117H~@k[23;8H[41;117H   [24;8H[41;128H3[24;8H[?12l[?25h[?25l[41;117H~@k[24;8H[41;117H   [25;8H[41;128H4[25;8H[?12l[?25h[?25l[41;117H~@k[25;8H[41;117H   [26;8H[41;128H5[26;8H[?12l[?25h[?25l[41;117H~@k[26;8H[41;117H   [27;8H[41;128H6[27;8H[?12l[?25h[?25l[41;117H~@k[27;8H[41;117H   [28;8H[41;128H7[28;8H[?12l[?25h[?25l[41;117H~@k[28;8H[41;117H   [29;8H[41;128H8[29;8H[?12l[?25h[?25l[41;117H~@k[29;8H[41;117H   [30;8H[41;128H9[30;8H[?12l[?25h[?25l[41;117H~@k[30;8H[41;117H   [31;8H[41;127H30[31;8H[?12l[?25h[?25l[41;117H~@k[31;8H[41;117H   [32;1H[15;37H[46m{[32;1H}[m[41;128H1,1  [32;1H[?12l[?25h[?25l[41;117H~@k[32;1H[41;117H   [33;8H[15;37H{[32;1H}[41;128H2,8[33;8H[?12l[?25h[?25l[41;128H3,1-8[34;8H[?12l[?25h[?25l[41;117H~@k[34;8H[41;117H   [35;1H[33;38H[46m{

}[m[41;128H4,1  [35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [36;8H[33;38H{

}[41;128H5,8[36;8H[?12l[?25h[?25l[41;117H~@k[36;8H[41;117H   [37;8H[41;128H6[37;8H[?12l[?25h[?25l[41;117H~@k[37;8H[41;117H   [38;1H[41;128H7,0-1[38;1H[?12l[?25h[?25l[41;117H~@k[38;1H[41;117H   [39;8H[41;128H8,8  [39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [40;8H[41;128H9[40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [40;8H[?12l[?25h[?25l[41;117H~@k[40;8H[41;117H   [39;8H[41;128H8[39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [38;1H[41;128H7,0-1[38;1H[?12l[?25h[?25l[41;117H~@k[38;1H[41;117H   [37;8H[41;128H6,8  [37;8H[?12l[?25h[?25l[41;117H~@k[37;8H[41;117H   [36;8H[41;128H5[36;8H[?12l[?25h[?25l[41;117Hg[36;8H[?12l[?25h[?25l[41;117H [36;8H[41;117Hgt[36;8H[41;117H  [21;49H[27m[23m[m[H[2J[1;1H[4m[30m[47m mailbox.c [m[1m ../h/hdmi_gpio.c [m[7m                                                                                                                   [m[1;144H[4m[30m[47mX[m[2;9Herror = misc_register(&hdmi_dev);[3;9H[33mif[m (error)[4;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[6;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[7;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[8;17H[33mreturn[m -[31mENODEV[m;[9;9H}[10;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[11;9Hgpio_direction_input(hdmi_gpio);[12;9Hgpio_export(hdmi_gpio,[31mfalse[m);[13;9HirqNumber = gpio_to_irq(hdmi_gpio);[14;9H[32mstruct[m device_node *fwr = [31mNULL[m;[15;9H[34m//fw = of_find_compatible_node(NULL,);[m[16;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);
[33mwhile[m([31m1[m){[18;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[19;9H[33mwhile[m(hdmi_gpio_val){[20;17H[33mif[m(flag){[21;25Hget_projector_id(fwr,fw);[22;17H}[23;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[24;17Hmsleep([31m1000[m);[25;9H}[26;9H[33mwhile[m(!hdmi_gpio_val){[27;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[28;17Hmsleep([31m1000[m);[29;9H}[30;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);
[35m#if 0[m
[34m        error = device_create_file(dev,&dev_attr_read);
        if (error){
                put_device(dev);
                pr_err("No Read device attribute Added%d\n", error);
        }
        error = device_create_file(dev,&dev_attr_change);
        if (error){
                put_device(dev);
                pr_err("No Change device attribute Added%d\n", error);[m[41;127H100,28-49     68%[21;49H[?12l[?25h[?25l[41;117H~@k[21;49H[41;117H   [22;17H[20;25H[46m{[22;17H}[m[41;129H1,3-17 [22;17H[?12l[?25h[?25l[41;117H~@k[22;17H[41;117H   [23;49H[20;25H{[22;17H}[41;129H2,35-49[23;49H[?12l[?25h[?25l[41;117H~@k[23;49H[41;117H   [22;17H[20;25H[46m{[22;17H}[m[41;129H1,3-17 [22;17H[?12l[?25h[?25l[41;117H~@k[22;17H[41;117H   [21;49H[20;25H{[22;17H}[41;129H0,28-49[21;49H[?12l[?25h[?25l[41;117H~@k[21;49H[41;117H   [20;25H[46m{[22;17H}[m[41;127H99,11-25 [20;25H[?12l[?25h[?25l[41;117H~@k[20;25H[41;117H   [19;29H[46m{[m[20;25H{[22;17H}[25;9H[46m}[m[41;128H8,22-29[19;29H[?12l[?25h[?25l[41;117H~@k[19;29H[41;117H   [18;49H[18;39H[46m([9C)[m[19;29H{[25;9H}[41;128H7,42-4[18;49H[?12l[?25h[?25l[41;117H~@k[18;49H[41;117H   [17;9H[18;39H([9C)[41;128H6,9    [17;9H[?12l[?25h[?25l[41;117H~@k[17;9H[41;117H   [16;49H[41;128H5,42-49[16;49H[?12l[?25h[?25l[41;117H~@k[16;49H[41;117H   [15;46H[41;128H4,39-46[15;46H[?12l[?25h[?25l[41;117H~@k[15;46H[41;117H   [14;39H[41;128H3,32-39[14;39H[?12l[?25h[?25l[41;117H~@k[14;39H[41;117H   [13;43H[41;128H2,36-43[13;43H[?12l[?25h[?25l[41;117H~@k[13;43H[41;117H   [12;37H[41;128H1,30-37[12;37H[?12l[?25h[?25l[41;117H~@k[12;37H[41;117H   [11;40H[41;128H0,33-40[11;40H[?12l[?25h[?25l[41;117H~@k[11;40H[41;117H   [10;40H[41;127H89[10;40H[?12l[?25h[?25l[41;117H~@k[10;40H[41;117H   [9;9H[6;38H[46m{[9;9H}[m[41;128H8,2-9  [9;9H[?12l[?25h[?25l[41;117H~@k[9;9H[41;117H   [8;31H[6;38H{[9;9H}[41;128H7,17-31[8;31H[?12l[?25h[?25l[41;117H~@k[8;31H[41;117H   [7;49H[41;128H6,35-49[7;49H[?12l[?25h[?25l[41;117H~@k[7;49H[41;117H   [7;38H[2;40r[2;1H[L[1;41r[7;38H[46m{[10;9H}[m[41;127H[K[41;127H85,31-38      67%[7;38H[?12l[?25h[?25l[41;117H~@k[7;38H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Hpr_info([31m"[m[35m\n[m[31m"[m);[8;38H{[11;9H}[41;127H[K[41;127H84,1-8[8C66%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;44H[2;40r[2;1H[L[1;41r[2;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H83,30-44      65%[7;44H[?12l[?25h[?25l[41;117H~@k[7;44H[41;117H   [7;18H[2;40r[2;1H[L[1;41r[2;9H[32mint[m error=[31m0[m,flag=[31m1[m;[7;12H[46m([merror[46m)[m[41;127H[K[41;127H82,11-18      64%[7;18H[?12l[?25h[?25l[41;117H~@k[7;18H[41;117H   [7;41H[2;40r[2;1H[L[1;41r[2;1H{[8;12H(error)[41;127H[K[41;127H81,34-41      64%[7;41H[?12l[?25h[?25l[41;117H~@k[7;41H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H80,0-1[8C63%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;22H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H79,15-22      62%[7;22H[?12l[?25h[?25l[41;117H~@k[7;22H[41;117H   [7;37H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H78,30-37      61%[7;37H[?12l[?25h[?25l[41;117H~@k[7;37H[41;117H   [7;27H[2;40r[2;1H[L[1;41r[2;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H77,20-27      60%[7;27H[?12l[?25h[?25l[41;117H~@k[7;27H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H76,1[10C59%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;36H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[7;31H[46m([4C)[m[41;127H[K[41;127H75,36[9C58%[7;36H[?12l[?25h[?25l[41;117H~@k[7;36H[41;117H   [7;44H[2;40r[2;1H[L[1;41r[2;1H};[8;31H([4C)[41;127H[K[41;127H74,44[9C58%[7;44H[?12l[?25h[?25l[41;117H~@k[7;44H[41;117H   [7;2H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H73,2[10C57%[7;2H[?12l[?25h[?25l[41;117H~@k[7;2H[41;117H   [7;36H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_group,[41;127H[K[41;127H72,29-36      56%[7;36H[?12l[?25h[?25l[41;117H~@k[7;36H[41;117H   [7;30H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H71,23-30      55%[7;30H[?12l[?25h[?25l[41;117H~@k[7;30H[41;117H   [8;36H[41;128H2,29-36[8;36H[?12l[?25h[?25l[41;117H~@k[8;36H[41;117H   [9;2H[41;128H3,2    [9;2H[?12l[?25h[?25l[41;117H~@k[9;2H[41;117H   [10;44H[41;128H4,44[10;44H[?12l[?25h[?25l[41;117H~@k[10;44H[41;117H   [11;36H[46m([4C)[m[41;128H5,36[11;36H[?12l[?25h[?25l[41;117H~@k[11;36H[41;117H   [12;1H[11;31H([4C)[41;128H6,1 [12;1H[?12l[?25h[?25l[41;117H~@k[12;1H[41;117H   [13;27H[41;128H7,20-27[13;27H[?12l[?25h[?25l[41;117Hi[13;27H[41;117H [13;27H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H77,20-27      55%[13;27H[?12l[?25h[?25l[41;131H1-28[13;28H[?12l[?25h[1;13H[1m+. /../h/hdmi_gpio.c [m[112C[7m [m[1;144H[4m[30m[47mX[?25l[14;40r[m[14;1H[L[1;41r[41;127H[K[41;127H78,2-9[8C55%[14;9H[?12l[?25h[?25lc[41;130H3-10[14;10H[?12l[?25h[?25lh[41;130H4-11[14;11H[?12l[?25h[?25la[41;130H5-12[14;12H[?12l[?25h[?25l[32mchar[m[41;130H6-13[14;13H[?12l[?25h[?25l[41;130H7-14[14;14H[?12l[?25h[?25lc[41;130H8-15[14;15H[?12l[?25h[?25lh[41;130H9-16[14;16H[?12l[?25h[?25le[41;130H10-17[14;17H[?12l[?25h[?25lc[41;131H1-18[14;18H[?12l[?25h[?25lk[41;131H2-19[14;19H[?12l[?25h[?25l[41;131H3-20[14;20H[?12l[?25h[?25l=[41;131H4-21[14;21H[?12l[?25h[?25l[41;131H5-22[14;22H[?12l[?25h[?25l[31m"[m[41;131H6-23[14;23H[?12l[?25h[?25l[31m"[m[41;131H7-24[14;24H[?12l[?25h[?25l[41;131H6-23[14;23H[?12l[?25h[?25l[31mN"[m[41;131H7-24[14;24H[?12l[?25h[?25l[41;131H8-25[14;25H[?12l[?25h[?25l;[41;131H9-26[14;26H[?12l[?25h[?25l[41;131H8-25[14;25H[?12l[?25h[?25l[41;131H7-24[14;24H[?12l[?25h[?25l[31m"[m;[14;25H[K[41;131H6-23[14;23H[?12l[?25h[?25l[31mL"[m;[41;131H7-24[14;24H[?12l[?25h[?25l[41;128H9[15;24H[?12l[?25h[?25l[41;127H80,16-23[16;23H[?12l[?25h[?25l[41;128H1,1    [17;1H[?12l[?25h[?25l[41;128H2,17-24[18;24H[?12l[?25h[?25l[19;12H[46m([merror[46m)[m[41;128H3,12-19[19;19H[?12l[?25h[?25l[19;12H(error)[20;23H[46m([19C)[m[41;128H4,10-24[20;24H[?12l[?25h[?25l([19C)[41;128H5,2-9  [21;9H[?12l[?25h[?25l[41;128H6,17-24[22;24H[?12l[?25h[?25l[23;23H[46m([37C)[m[41;128H7,10[23;24H[?12l[?25h[?25l([37C)[41;128H8[24;24H[?12l[?25h[?25l[22;38H[46m{[25;9H}[m[41;128H9,3-10 [25;10H[?12l[?25h[?25l[22;38H{[25;9H}[41;127H90,17-24[26;24H[?12l[?25h[?25l[41;128H1[27;24H[?12l[?25h[?25l[41;128H2[28;24H[?12l[?25h[?25l[41;128H3[29;24H[?12l[?25h[?25l[41;128H4[30;24H[?12l[?25h[?25l[41;128H5[31;24H[?12l[?25h[?25l[41;128H6[32;24H[?12l[?25h[?25l[41;128H7,10   [33;10H[?12l[?25h[?25l[41;128H8,17-24[34;24H[?12l[?25h[?25l[41;128H9[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H100,10-24     55%[35;19H[46m([mflag[46m)[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H101,3-17      56%[34;19H(flag)[35;17H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H102,4-18      57%[33;25H[46m{[35;17H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H103,10-24     58%[32;25H{[34;17H}[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H104,10-24     59%[35;23H[46m([4C)[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H105,3-10      60%[29;29H[46m{[m[34;23H([4C)[35;9H[46m}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[35m#if 0[m[41;127H[K[41;127H106,17-24     61%[28;29H{[34;9H}[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H107,10-24     61%[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H108,10-24     62%[35;23H[46m([4C)[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H109,3-10      63%[32;30H[46m{[m[34;23H([4C)[35;9H[46m}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H110,17-24     64%[31;30H{[34;9H}[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H111,6[9C65%[35;6H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H112,17-24     66%[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H113,13-20     66%[35;19H[34m[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H114,10-24     67%[34;19H[34m{[37;9H}[35;24H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H115,10-24     68%[35;23H[34m[46m([43C)[35;24H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H116,3-10      69%[32;19H[34m[46m{[m[34;23H[34m([43C)[m[35;9H[34m[46m}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[35m#endif[m[41;127H[K[41;127H117,17-24     70%[31;19H[34m{[34;9H}[35;24H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H118,13-20     71%[35;19H[34m[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H119,10-24     72%[34;19H[34m{[37;9H}[35;24H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mif[m (error){[41;127H[K[41;127H120,10-24     72%[35;23H[34m[46m([45C)[35;24H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hkobject_put(&dev->kobj);[41;127H[K[41;127H121,3-10      73%[32;19H[34m[46m{[m[34;23H[34m([45C)[m[35;9H[34m[46m}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H122,7[9C74%[31;19H[34m{[34;9H}[35;7H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H}[41;127H[K[41;127H123,17-24     75%[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H124,17-24     76%[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H125,13-20     77%[35;19H[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mreturn[m error;[41;127H[K[41;127H126,10-24     77%[34;19H{[37;9H}[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H127,10-24     78%[35;23H[46m([31C)[35;24H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[41;127H[K[41;127H128,3-10      79%[32;19H[46m{[m[34;23H([31C)[35;9H[46m}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H129,15-22     80%[31;19H{[34;9H}[35;22H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H130,2[9C81%[2;9H[46m{[35;1H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9Hmisc_deregister(&hdmi_dev);[41;127H[K[41;127H131,15-22     82%[34;1H}[35;22H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_unexport(hdmi_gpio);[41;127H[K[41;127H132,2[9C83%[35;2H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hgpio_free(hdmi_gpio);[41;127H[K[41;127H133,1[9C83%[35;1H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H134,24[8C84%[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H135,2[9C85%[35;1H[46m{[40;1H}[35;2H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[41;127H[K[41;127H136,17-24     86%[34;1H{[35;24H[46m([9C)[m[39;1H}[35;24H[?12l[?25h[?25l[34;1H[46m{[m[35;24H([9C)[39;1H[46m}[m[41;129H5,2    [34;2H[?12l[?25h[?25l{[39;1H}[41;129H4,24[33;24H[?12l[?25h[?25l[41;129H3,1 [32;1H[?12l[?25h[?25l[41;129H2,2[31;2H[?12l[?25h[?25l[41;129H1,15-22[30;22H[?12l[?25h[?25l[41;129H0,2    [29;2H[?12l[?25h[?25l[41;129H1,15-22[30;22H[?12l[?25h[?25l[41;129H2,2    [31;2H[?12l[?25h[?25l[41;129H3,1[32;1H[?12l[?25h[?25l[41;129H4,24[33;24H[?12l[?25h[?25l
[46m{[39;1H}[m[41;129H5,2 [34;2H[?12l[?25h[?25l{[35;24H[46m([9C)[m[39;1H}[41;129H6,17-24[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[32mstatic[m irq_handler_t hdmigpio_irq_handler([32munsigned[m [32mint[m irq, [32mvoid[m *dev_id, [32mstruct[m pt_regs *regs){[41;127H[K[41;127H137,17-24     87%[34;24H([9C)[35;24H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9H[32mint[m error;[41;127H[K[41;127H138,17-24     88%[35;24H[?12l[?25h[?25l[41;129H7[34;24H[?12l[?25h[?25l[33;24H[46m([9C)[m[41;129H6[33;24H[?12l[?25h[?25l[32;1H[46m{[m[33;24H([9C)[37;1H[46m}[m[41;129H5,2    [32;2H[?12l[?25h[?25l{[37;1H}[41;129H4,24[31;24H[?12l[?25h[?25l[41;129H3,1 [30;1H[?12l[?25h[?25l[41;129H2,2[29;2H[?12l[?25h[?25l[41;129H1,15-22[28;22H[?12l[?25h[?25l[41;129H0,2    [27;2H[?12l[?25h[?25l[41;128H29,15-22[26;22H[?12l[?25h[?25l[22;19H[46m{[25;9H}[m[41;129H8,3-10 [25;10H[?12l[?25h[?25l[22;19H{[24;23H[46m([31C)[m[25;9H}[41;129H7,10-24[24;24H[?12l[?25h[?25l([31C)[41;129H6[23;24H[?12l[?25h[?25l[22;19H[46m{[25;9H}[m[41;129H5,13-20[22;20H[?12l[?25h[?25l{[25;9H}[41;129H4,17-24[21;24H[?12l[?25h[?25l[41;129H3[20;24H[?12l[?25h[?25l[41;129H2,7    [19;7H[?12l[?25h[?25l[15;19H[34m[46m{[18;9H}[m[41;129H1,3-10[18;10H[?12l[?25h[?25l[15;19H[34m{[m[17;23H[34m[46m([45C)[m[18;9H[34m}[m[41;129H0,10-24[17;24H[?12l[?25h[?25l[34m([45C)[m[41;128H19[16;24H[?12l[?25h[?25l[15;19H[34m[46m{[18;9H}[m[41;129H8,13-20[15;20H[?12l[?25h[?25l[34m{[18;9H}[m[41;129H7,17-24[14;24H[?12l[?25h[?25l[10;19H[34m[46m{[13;9H}[m[41;129H6,3-10 [13;10H[?12l[?25h[?25l[10;19H[34m{[m[12;23H[34m[46m([43C)[m[13;9H[34m}[m[41;129H5,10-24[12;24H[?12l[?25h[?25l[34m([43C)[m[41;129H4[11;24H[?12l[?25h[?25l[10;19H[34m[46m{[13;9H}[m[41;129H3,13-20[10;20H[?12l[?25h[?25l[34m{[13;9H}[m[41;129H2,17-24[9;24H[?12l[?25h[?25l[41;129H1,6    [8;6H[?12l[?25h[?25l[41;129H0,17-24[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17Hmsleep([31m1000[m);[41;127H[K[41;127H109,3-10      87%[4;30H[46m{[7;9H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H108,10-24     86%[5;30H{[7;23H[46m([4C)[m[8;9H}[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17H}[41;127H[K[41;127H107,10-24     85%[8;23H([4C)[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;25Hget_projector_id(fwr,fw);[41;127H[K[41;127H106,17-24     84%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17H[33mif[m(flag){[41;127H[K[41;127H105,3-10      83%[7;10H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H104,10-24     83%[7;23H[46m([4C)[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H103,10-24     82%[8;23H([4C)[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H102,4-18      81%[5;25H[46m{[7;17H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;127H[K[41;127H101,3-17      80%[6;25H{[8;17H}[7;17H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[34m//fw = of_find_compatible_node(NULL,);[m[41;127H[K[41;127H100,10-24     79%[7;19H[46m([mflag[46m)[?12l[?25h[?25l[m(flag)[41;129H1,3-17 [8;17H[?12l[?25h[?25l[7;25H[46m{[9;17H}[m[41;129H2,4-18[9;18H[?12l[?25h[?25l[7;25H{[9;17H}[41;129H3,10-24[10;24H[?12l[?25h[?25l[11;23H[46m([4C)[m[41;129H4[11;24H[?12l[?25h[?25l[6;29H[46m{[m[11;23H([4C)[12;9H[46m}[m[41;129H5,3-10 [12;10H[?12l[?25h[?25l[6;29H{[12;9H}[41;129H6,17-24[13;24H[?12l[?25h[?25l[41;129H7,10[14;24H[?12l[?25h[?25l[41;129H6,17[13;24H[?12l[?25h[?25l[6;29H[46m{[12;9H}[m[41;129H5,3-10 [12;10H[?12l[?25h[?25l[6;29H{[11;23H[46m([4C)[m[12;9H}[41;129H4,10-24[11;24H[?12l[?25h[?25l([4C)[41;129H3[10;24H[?12l[?25h[?25l[7;25H[46m{[9;17H}[m[41;129H2,4-18 [9;18H[?12l[?25h[?25l[7;25H{[9;17H}[41;129H1,3-17[8;17H[?12l[?25h[?25l[7;19H[46m([mflag[46m)[m[41;129H0,10-24[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[32mstruct[m device_node *fwr = [31mNULL[m;[41;127H[K[41;127H99,17-24      78%[8;19H(flag)[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9HirqNumber = gpio_to_irq(hdmi_gpio);[41;127H[K[41;127H98,17-24      77%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H97,10[9C77%[7;9H[46m{[40;1H}[7;10H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H96,17-24      76%[8;9H{[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H95,17-24      75%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H94,17-24      74%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H93,17-24      73%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H92,17-24      72%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H91,17-24      72%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[41;127H[K[41;127H90,17-24      71%[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H89,3-10[7C70%[4;38H[46m{[7;9H}[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[2;9H[33mif[m (error)[41;127H[K[41;127H88,10-24      69%[5;38H{[8;9H}[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H87,10-24      68%[7;23H[46m([37C)[7;24H[?12l[?25h[?25l[2;40r[m[2;1H[L[1;41r[41;127H[K[41;127H86,17-24      67%[8;23H([37C)[7;24H[?12l[?25h[?25l[2;40r[2;1H[L[1;41r[2;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H85,2-9[8C66%[7;9H[?12l[?25h[?25l[41;128H6,17-24[8;24H[?12l[?25h[?25l[9;23H[46m([37C)[m[41;128H7,10[9;24H[?12l[?25h[?25l([37C)[41;128H8[10;24H[?12l[?25h[?25l[8;38H[46m{[11;9H}[m[41;128H9,3-10 [11;10H[?12l[?25h[?25l[8;38H{[11;9H}[41;127H90,17-24[12;24H[?12l[?25h[?25l[41;128H1[13;24H[?12l[?25h[?25l[41;128H2[14;24H[?12l[?25h[?25l[41;128H3[15;24H[?12l[?25h[?25l[41;128H4[16;24H[?12l[?25h[?25l[41;128H5[17;24H[?12l[?25h[?25l[41;128H6[18;24H[?12l[?25h[?25l[41;128H7,10   [19;10H[?12l[?25h[?25l[41;128H8,17-24[20;24H[?12l[?25h[?25l[41;128H9[21;24H[?12l[?25h[?25l[22;19H[46m([mflag[46m)[m[41;127H100,10-24[22;24H[?12l[?25h[?25l(flag)[41;129H1,3-17 [23;17H[?12l[?25h[?25l[41;131H4-25[23;25H[?12l[?25h[?25l[41;131H5-26[23;26H[?12l[?25h[?25l[41;131H6-27[23;27H[?12l[?25h[?25l[41;131H7-28[23;28H[?12l[?25h[?25l[41;131H8-29[23;29H[?12l[?25h[?25l[41;131H9-30[23;30H[?12l[?25h[?25l[41;131H10-31[23;31H[?12l[?25h[?25l[41;132H1-32[23;32H[?12l[?25h[?25l[41;132H2-33[23;33H[?12l[?25h[?25l[41;132H3-34[23;34H[?12l[?25h[?25l[41;132H4-35[23;35H[?12l[?25h[?25l[41;132H5-36[23;36H[?12l[?25h[?25l[41;132H6-37[23;37H[?12l[?25h[?25l[41;132H7-38[23;38H[?12l[?25h[?25l[41;132H8-39[23;39H[?12l[?25h[?25l[41;132H9-40[23;40H[?12l[?25h[?25ld[46m([mfwr,fw[46m)[m[41;131H20-41[23;41H[?12l[?25h[?25l[41;132H1-42[23;42H[?12l[?25h[?25l(fwr,fw)[41;132H2-43[23;43H[?12l[?25h[?25l[41;132H3-44[23;44H[?12l[?25h[?25l[41;132H4-45[23;45H[?12l[?25h[?25l[41;132H5-46[23;46H[?12l[?25h[?25l[41;132H6-47[23;47H[?12l[?25h[?25l[46m([mfwr,fw[46m)[m[41;132H7-48[23;48H[?12l[?25h[?25l[41;132H8-49[23;49H[?12l[?25h[?25l[23;41H(fwr,fw)[41;132H9-50[23;50H[?12l[?25h[?25l[24;40r[24;1H[L[1;41r[41;127H[K[41;127H102,4-25      66%[24;25H[?12l[?25h[?25lc[41;131H5-26[24;26H[?12l[?25h[?25lh[41;131H6-27[24;27H[?12l[?25h[?25le[41;131H7-28[24;28H[?12l[?25h[?25lc[41;131H8-29[24;29H[?12l[?25h[?25lk[41;131H9-30[24;30H[?12l[?25h[?25l[41;131H10-31[24;31H[?12l[?25h[?25l=[41;132H1-32[24;32H[?12l[?25h[?25l[41;132H2-33[24;33H[?12l[?25h[?25le[41;132H3-34[24;34H[?12l[?25h[?25ld[41;132H4-35[24;35H[?12l[?25h[?25li[41;132H5-36[24;36H[?12l[?25h[?25ld[41;132H6-37[24;37H[?12l[?25h[?25l_[41;132H7-38[24;38H[?12l[?25h[?25lt[41;132H8-39[24;39H[?12l[?25h[?25la[41;132H9-40[24;40H[?12l[?25h[?25lg[41;131H20-41[24;41H[?12l[?25h[?25l1[41;132H1-42[24;42H[?12l[?25h[?25l.[41;132H2-43[24;43H[?12l[?25h[?25le[41;132H3-44[24;44H[?12l[?25h[?25ld[41;132H4-45[24;45H[?12l[?25h[?25li[41;132H5-46[24;46H[?12l[?25h[?25ld[41;132H6-47[24;47H[?12l[?25h[?25l_[41;132H7-48[24;48H[?12l[?25h[?25lb[41;132H8-49[24;49H[?12l[?25h[?25ll[41;132H9-50[24;50H[?12l[?25h[?25lo[41;131H30-51[24;51H[?12l[?25h[?25lc[41;132H1-52[24;52H[?12l[?25h[?25lk[41;132H2-53[24;53H[?12l[?25h[?25l[[41;132H3-54[24;54H[?12l[?25h[?25l][46m[][m[41;132H4-55[24;55H[?12l[?25h[?25l[41;132H3-54[24;54H[?12l[?25h[?25l[31m[46m9[m][31m9[m[46m][m[41;132H4-55[24;55H[?12l[?25h[?25l[31m[46m5[m][31m5[m[46m][m[41;132H5-56[24;56H[?12l[?25h[?25l[41;132H6-57[24;57H[?12l[?25h[?25l;[[2C][41;132H7-58[24;58H[?12l[?25h[?25l[41;129H1,29-50[23;50H[?12l[?25h[?25l[22;25H[46m{[25;17H}[m[41;129H0,12-26[22;26H[?12l[?25h[?25l[21;29H[46m{[m[22;25H{[25;17H}[28;9H[46m}[m[41;127H99,23-30 [21;30H[?12l[?25h[?25l{[22;25H[46m{[25;17H}[m[28;9H}[41;127H100,12-26[22;26H[?12l[?25h[41;1H[K[22;25H[?25l[41;117H^[[22;25H[41;117H  [22;26H[41;127H100,11-25     66%[22;25H[?12l[?25h[?25l[41;117H~@k[22;25H[41;117H   [22;24H[46m([mflag[46m)[m{[25;17H}[41;132H0-24[22;24H[?12l[?25h[?25l[41;117H~@k[22;24H[41;117H   [22;23H(flag)[41;131H9-23 [22;23H[?12l[?25h[?25l[41;117H~@k[22;23H[41;117H   [22;22H[41;131H8-22[22;22H[?12l[?25h[?25l[41;117H~@k[22;22H[41;117H   [22;21H[41;131H7-21[22;21H[?12l[?25h[?25l[41;117H~@k[22;21H[41;117H   [22;20H[41;131H6-20[22;20H[?12l[?25h[?25l[41;117H~@k[22;20H[41;117H   [22;19H[46m([mflag[46m)[m[41;131H5-19[22;19H[?12l[?25h[?25l[41;117H~@k[22;19H[41;117H   [22;18H[1C(flag)[41;131H4-18[22;18H[?12l[?25h[?25l[41;117H~@k[22;18H[41;117H   [22;17H[41;131H3-17[22;17H[?12l[?25h[?25l[41;117HV[22;17H[41;117H1[22;17H[7m                [m[1C[7m[33mf[m[7m(flag){ [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[22;17H[41;127H100,3-17      66%[22;17H[?12l[?25h[?25l[41;117H~@k[22;17H[41;117H2  [23;24H[22;17H[7m[33mi[m
[7m                       [m [7mget_projector_id(fwr,fw); [m[41;129H1,3-24[23;24H[?12l[?25h[?25l[41;117H~@k[23;24H[41;117H3  [24;24H[23;24H[7m 
                       [m [7mcheck = edid_tag1.edid_block[[m[7m[31m95[m[7m]; [m[41;129H2[24;24H[?12l[?25h[?25l[41;117H~@k[24;24H[41;117H4  [25;17H[24;24H[7m 
                [m[46m}[m[7m [m[41;129H3,3-17[25;17H[?12l[?25h[?25l[41;117Hx[25;17H[41;1H4 fewer lines[1mE[m[41;14H[K[22;17H[22;40r[22;1H[4M[1;41r[37;1H[34m        if (error){
                put_device(dev);
                pr_err("No Change device attribute Added%d\n", error);
        }[m[41;1H[K[41;127H100,3-17      68%4 fewer lines[41;127H[K[41;127H100,3-17      68%[22;17H[?12l[?25h[?25l[41;117H~@k[22;17H[41;117H   [23;17H[41;129H1[23;17H[?12l[?25h[?25l[41;117H~@k[23;17H[41;117H   [24;9H[21;29H[46m{[24;9H}[m[41;129H2,2-9 [24;9H[?12l[?25h[?25l[41;117H~@k[24;9H[41;117H   [25;17H[21;29H{[24;9H}[41;129H3,10-17[25;17H[?12l[?25h[?25l[41;117H~@k[25;17H[41;117H   [26;17H[41;129H4,3-17 [26;17H[?12l[?25h[?25l[41;117Hp[26;17H[41;3Hmore lines[41;13H[K[27;17H[27;40r[27;1H[4L[1;41r[27;17H[33mif[m(flag){[28;25Hget_projector_id(fwr,fw);[29;25Hcheck = edid_tag1.edid_block[[31m95[m];[30;17H}[41;1H[K[41;127H105,3-17      66%4 more lines[41;127H[K[41;127H105,3-17      66%[27;17H[?12l[?25h[?25l[41;117H^[[27;17H[41;117H  [27;17H[41;117H^[[27;17H[41;117H  [27;17H[?12l[?25h[?25l[41;117Hu[27;17H[41;3Hfewer lines; before #9  3 seconds ago[41;117H[K[26;17H[27;40r[27;1H[4M[1;41r[37;1H[34m        if (error){
                put_device(dev);
                pr_err("No Change device attribute Added%d\n", error);
        }[m[41;1H[K[41;127H104,3-17      68%[26;17H[?12l[?25h[?25l[41;117HP[26;17H[41;1H4 more lines[41;117H[K[26;17H[26;40r[26;1H[4L[1;41r[26;17H[33mif[m(flag){[27;25Hget_projector_id(fwr,fw);[28;25Hcheck = edid_tag1.edid_block[[31m95[m];[29;17H}[41;1H[K[41;127H104,3-17      66%4 more lines[41;127H[K[41;127H104,3-17      66%[26;17H[?12l[?25h[?25l[41;117H~@k[26;17H[41;117H   [27;24H[41;129H5,3-24[27;24H[?12l[?25h[?25l[41;117H~@k[27;24H[41;117H   [28;24H[41;129H6[28;24H[?12l[?25h[?25l[41;117H~@k[28;24H[41;117H   [29;17H[26;25H[46m{[29;17H}[m[41;129H7,3-17[29;17H[?12l[?25h[?25l[41;117HO[29;17H[41;117H [29;25H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H107,4-25      65%[29;40r[29;1H[L[1;41r[29;17H[46m        [m[30;17H}[41;127H[K[41;127H107,4-25      65%[26;25H{[29;17H        [?12l[?25h[?25lf[41;131H5-26[29;26H[?12l[?25h[?25ll[41;131H6-27[29;27H[?12l[?25h[?25la[41;131H7-28[29;28H[?12l[?25h[?25lg[41;131H8-29[29;29H[?12l[?25h[?25l[41;131H9-30[29;30H[?12l[?25h[?25l=[41;131H10-31[29;31H[?12l[?25h[?25l[41;132H1-32[29;32H[?12l[?25h[?25l[31m0[m[41;132H2-33[29;33H[?12l[?25h[?25l;[41;132H3-34[29;34H[?12l[?25h[?25l[26;25H[46m{[30;17H}[m[41;129H8,4-18 [30;18H[?12l[?25h[?25l[26;25H{[30;17H}[41;129H9,20-34[31;34H[?12l[?25h[?25l[41;128H10,17-33[32;33H[?12l[?25h[?25l[25;30H[46m{[33;9H}[m[41;129H1,3-10 [33;10H[?12l[?25h[?25l[25;30H{[33;9H}[41;129H2,27-34[34;34H[?12l[?25h[?25l[41;129H3,6    [35;6H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H114,27-34     66%[35;34H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H115,13-20     67%[35;19H[34m[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H116,19-33     68%[34;19H[34m{[37;9H}[35;33H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H117,20-34     69%[35;34H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H118,3-10      70%[32;19H[34m[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[35m#endif[m[41;127H[K[41;127H119,27-34     70%[31;19H[34m{[34;9H}[35;34H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H120,13-20     71%[35;19H[34m[46m{[38;9H}[35;20H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H121,19-33     72%[34;19H[34m{[37;9H}[35;33H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H[33mif[m (error){[41;127H[K[41;127H122,20-34     73%[35;34H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;17Hkobject_put(&dev->kobj);[41;127H[K[41;127H123,3-10      74%[32;19H[34m[46m{[35;9H}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H124,7[9C75%[31;19H[34m{[34;9H}[35;7H[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;9H}[41;127H[K[41;127H125,27-34     75%[35;34H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H126,27-34     76%[35;34H[?12l[?25h[?25l[41;129H5[34;34H[?12l[?25h[?25l[41;132H6-33[34;33H[?12l[?25h[?25l[41;132H5-32[34;32H[?12l[?25h[?25l[41;132H4-31[34;31H[?12l[?25h[?25l[41;132H3-30[34;30H[?12l[?25h[?25l[41;132H2-29[34;29H[?12l[?25h[?25l[41;132H1-28[34;28H[?12l[?25h[?25l[41;132H0-27[34;27H[?12l[?25h[?25l[41;131H19-26[34;26H[?12l[?25h[?25l[41;132H8-25[34;25H[?12l[?25h[?25l[41;132H7-24[34;24H[?12l[?25h[?25l[41;132H6-23[34;23H[?12l[?25h[?25l[41;132H5-22[34;22H[?12l[?25h[?25l[41;132H4-21[34;21H[?12l[?25h[?25l[41;132H3-20[34;20H[?12l[?25h[?25l[41;132H2-19[34;19H[?12l[?25h[?25l[41;132H1-18[34;18H[?12l[?25h[?25l[41;132H0-17[34;17H[?12l[?25h[?25l[41;131H9-16 [34;16H[?12l[?25h[?25l[41;131H8-15[34;15H[?12l[?25h[?25l[41;131H7-14[34;14H[?12l[?25h[?25l[41;131H6-13[34;13H[?12l[?25h[?25l[41;131H5-12[34;12H[?12l[?25h[?25l[41;131H4-11[34;11H[?12l[?25h[?25l[41;131H3-10[34;10H[?12l[?25h[?25l[41;131H2-9 [34;9H[?12l[?25h[41;1H[K[34;8H[?25l[41;117H^[[34;8H[41;117H  [34;9H[41;127H125,1-8[7C76%[34;8H[?12l[?25h[?25l[41;117HV[34;8H[41;117H1[34;8H[7m       [m [7m[32mstruct[m[7m device *dev = hdmi_dev.this_device; [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[34;8H[41;127H125,1-8[7C76%[34;8H[?12l[?25h[?25l[41;117Hx[34;8H[41;117H [34;9H[34;40r[40;1H
[1;41r[40;1H}[41;1H[K[41;127H125,2-9[7C77%[34;9H[?12l[?25h[?25l[41;117H~@k[34;9H[41;117H   [33;6H[41;129H4,6  [33;6H[?12l[?25h[?25l[41;117H~@k[33;6H[41;117H   [32;9H[29;19H[34m[46m{[32;9H}[m[41;129H3,2-9[32;9H[?12l[?25h[?25l[41;117H~@k[32;9H[41;117H   [31;16H[29;19H[34m{[32;9H}[m[41;129H2,2-16[31;16H[?12l[?25h[?25l[41;117H~@k[31;16H[41;117H   [30;16H[41;129H1[30;16H[?12l[?25h[?25l[41;117H~@k[30;16H[41;117H   [29;9H[41;129H0,2-9 [29;9H[?12l[?25h[?25l[41;117H~@k[29;9H[41;117H   [28;9H[41;128H19[28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [27;9H[24;19H[34m[46m{[27;9H}[m[41;129H8[27;9H[?12l[?25h[?25l[41;117H~@k[27;9H[41;117H   [26;16H[24;19H[34m{[27;9H}[m[41;129H7,2-16[26;16H[?12l[?25h[?25l[41;117H~@k[26;16H[41;117H   [25;16H[41;129H6[25;16H[?12l[?25h[?25l[41;117H~@k[25;16H[41;117H   [24;9H[41;129H5,2-9 [24;9H[?12l[?25h[?25l[41;117H~@k[24;9H[41;117H   [23;9H[41;129H4[23;9H[?12l[?25h[?25l[41;117H~@k[23;9H[41;117H   [22;5H[41;129H3,5  [22;5H[?12l[?25h[?25l[41;117H~@k[22;5H[41;117H   [21;9H[41;129H2,2-9[21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [20;9H[12;30H[46m{[20;9H}[m[41;129H1[20;9H[?12l[?25h[?25l[41;117H~@k[20;9H[41;117H   [19;16H[12;30H{[20;9H}[41;129H0,2-16[19;16H[?12l[?25h[?25l[41;117H~@k[19;16H[41;117H   [18;16H[41;128H09[18;16H[?12l[?25h[?25l[41;117H~@k[18;16H[41;117H   [17;16H[41;129H8[17;16H[?12l[?25h[?25l[41;117H~@k[17;16H[41;117H   [16;16H[41;129H7[16;16H[?12l[?25h[?25l[41;117H~@k[16;16H[41;117H   [15;16H[41;129H6[15;16H[?12l[?25h[?25l[41;117H~@k[15;16H[41;117H   [14;16H[41;129H5[14;16H[?12l[?25h[?25l[41;117H~@k[14;16H[41;117H   [13;16H[41;129H4[13;16H[?12l[?25h[?25l[41;117H~@k[13;16H[41;117H   [12;9H[41;129H3,2-9 [12;9H[?12l[?25h[?25l[41;117H~@k[12;9H[41;117H   [11;9H[8;29H[46m{[11;9H}[m[41;129H2[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [10;16H[8;29H{[11;9H}[41;129H1,2-16[10;16H[?12l[?25h[?25l[41;117H~@k[10;16H[41;117H   [9;16H[41;129H0[9;16H[?12l[?25h[?25l[41;117H~@k[9;16H[41;117H   [8;9H[41;127H99,2-9  [8;9H[?12l[?25h[?25l[41;117H~@k[8;9H[41;117H   [7;9H[41;128H8[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H97,9[10C76%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H96,2-9[8C75%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H95,2-9[8C74%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H94,2-9[8C73%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H93,2-9[8C73%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H92,2-9[8C72%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H91,2-9[8C71%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H90,2-9[8C70%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[4;38H[46m{[7;9H}[m[41;127H[K[41;127H89,2-9[8C69%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;16H[2;40r[2;1H[L[1;41r[2;9H[33mif[m (error)[5;38H{[8;9H}[41;127H[K[41;127H88,2-16[7C68%[7;16H[?12l[?25h[?25l[41;117H~@k[7;16H[41;117H   [8;9H[5;38H[46m{[8;9H}[m[41;128H9,2-9 [8;9H[?12l[?25h[?25l[41;117H~@k[8;9H[41;117H   [9;9H[5;38H{[8;9H}[41;127H90[9;9H[?12l[?25h[?25l[41;117H~@k[9;9H[41;117H   [10;9H[41;128H1[10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [11;9H[41;128H2[11;9H[?12l[?25h[?25l[41;117H~@k[11;9H[41;117H   [12;9H[41;128H3[12;9H[?12l[?25h[?25l[41;117Hp[12;9H[41;117H [13;9H[13;40r[13;1H[L[1;41r[13;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H94,2-9[8C68%[13;9H[?12l[?25h[?25l[41;117H~@k[13;9H[41;117H   [12;9H[41;128H3[12;9H[?12l[?25h[?25l[41;117Hd[12;9H[?12l[?25h[?25l[41;118Hd[12;9H[41;117H  [12;9H[12;40r[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H93,2-9[8C68%[12;9H[?12l[?25h[?25l[41;117HV[12;9H[41;117H1[12;9H[7m        [m[1C[7m[32mtruct[m[7m device *dev = hdmi_dev.this_device; [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[12;9H[41;127H93,2-9[8C68%[12;9H[?12l[?25h[?25l[41;117H~@k[12;9H[41;117H2  [13;9H[12;9H[7m[32ms[m
[7m        [m[1C[7m[32mtruct[m[7m device_node *fwr = [m[7m[31mNULL[m[7m; [m[41;128H4[13;9H[?12l[?25h[?25l[41;117H~@k[13;9H[41;117H3  [14;9H[13;9H[7m[32ms[m
[7m        [m[1C[7m[34m/fw = of_find_compatible_node(NULL,);[m[7m [m[41;128H5[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H4  [15;9H[14;9H[7m[34m/[m
[7m        [m[1C[7m[32mtruct[m[7m rpi_firmware *fw = rpi_firmware_get([m[7m[31mNULL[m[7m); [m[41;128H6[15;9H[?12l[?25h[?25l[41;117Hx[15;9H[41;1H4 fewer lines[1mE[m[41;14H[K[12;1H[12;40r[12;1H[4M[1;41r[37;1H[34m                pr_err("No Change device attribute Added%d\n", error);
        }[m
[35m#endif[m[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;1H[K[41;127H93,1[10C71%4 fewer lines[41;127H[K[41;127H93,1[10C71%[12;1H[?12l[?25h[?25l[41;117H~@k[12;1H[41;117H   [11;8H[41;128H2,1-8[11;8H[?12l[?25h[?25l[41;117H~@k[11;8H[41;117H   [10;8H[41;128H1[10;8H[?12l[?25h[?25l[41;117H~@k[10;8H[41;117H   [9;8H[41;128H0[9;8H[?12l[?25h[?25l[41;117H~@k[9;8H[41;117H   [8;8H[41;127H89[8;8H[?12l[?25h[?25l[41;117H~@k[8;8H[41;117H   [7;8H[41;128H8[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Herror = misc_register(&hdmi_dev);[41;1H[K[41;127H87,1-8[8C70%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H86,1-8[8C69%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H85,1-8[8C68%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H84,1-8[8C67%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[32mchar[m check = [31m"L"[m;[41;127H[K[41;127H83,1-8[8C66%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[32mint[m error=[31m0[m,flag=[31m1[m;[41;127H[K[41;127H82,1-8[8C66%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H{[41;127H[K[41;127H81,0-1[8C65%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H80,1-8[8C64%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H79,1-8[8C63%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H78,1-8[8C62%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H77,1-8[8C61%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H76,1[10C60%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H75,1[10C60%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H74,1[10C59%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[4;37H[46m{


}[m[41;127H[K[41;127H73,1[10C58%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_group,[5;37H{


}[41;127H[K[41;127H72,1-8[8C57%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H71,1-8[8C56%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H70,1[10C55%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.attrs = dev_attrs,[31mNULL[m[4;58H[46m{


}[m[41;127H[K[41;127H69,1[10C54%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[5;58H{


}[41;127H[K[41;127H68,1-8[8C53%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H67,1-8[8C53%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H66,1[10C52%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_change.attr,[5;48H[46m{

}[m[41;127H[K[41;127H65,1[10C51%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_read.attr,[6;48H{

}[41;127H[K[41;127H64,1-8[8C50%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[41;127H[K[41;127H63,1[10C49%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[3;40H[46m{[7;1H}[m[41;127H[K[41;127H62,1[10C48%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);[4;40H{[8;1H}[41;127H[K[41;127H61,1-8[8C47%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);[41;127H[K[41;127H60,1-8[8C46%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H}[41;127H[K[41;127H59,1-8[8C46%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H58,1[10C45%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[34m//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[41;127H[K[41;127H57,0-1[8C44%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[34m//if(count)[m[41;127H[K[41;127H56,1[10C43%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;49H[32mstruct[m device_attribute *attr,[32mchar[m *buf){[41;127H[K[41;127H55,1[10C42%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mssize_t[m change_hdmi_status ([32mstruct[m device *dev,[3;89H[46m{[7;1H}[m[41;127H[K[41;127H54,1[10C41%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;1H}[4;89H{[8;1H}[41;127H[K[41;127H53,1-8[8C40%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);[41;127H[K[41;127H52,1-8[8C40%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [8;8H[41;128H3[8;8H[?12l[?25h[?25l[41;117H~@k[8;8H[41;117H   [9;1H[5;89H[46m{[9;1H}[m[41;128H4,1  [9;1H[?12l[?25h[?25l[41;117H~@k[9;1H[41;117H   [10;1H[5;89H{[9;1H}[41;128H5[10;1H[?12l[?25h[?25l[41;117H~@k[10;1H[41;117H   [11;1H[41;128H6[11;1H[?12l[?25h[?25l[41;117H~@k[11;1H[41;117H   [12;1H[41;128H7,0-1[12;1H[?12l[?25h[?25l[41;117H~@k[12;1H[41;117H   [13;1H[41;128H8,1  [13;1H[?12l[?25h[?25l[41;117H~@k[13;1H[41;117H   [14;8H[41;128H9,1-8[14;8H[?12l[?25h[?25l[41;117H~@k[14;8H[41;117H   [15;8H[41;127H60[15;8H[?12l[?25h[?25l[41;117H~@k[15;8H[41;117H   [16;8H[41;128H1[16;8H[?12l[?25h[?25l[41;117H~@k[16;8H[41;117H   [17;1H[13;40H[46m{[17;1H}[m[41;128H2,1  [17;1H[?12l[?25h[?25l[41;117H~@k[17;1H[41;117H   [18;1H[13;40H{[17;1H}[41;128H3[18;1H[?12l[?25h[?25l[41;117H~@k[18;1H[41;117H   [19;8H[41;128H4,1-8[19;8H[?12l[?25h[?25l[41;117H~@k[19;8H[41;117H   [20;1H[18;48H[46m{

}[m[41;128H5,1  [20;1H[?12l[?25h[?25l[41;117H~@k[20;1H[41;117H   [21;1H[18;48H{

}[41;128H6[21;1H[?12l[?25h[?25l[41;117H~@k[21;1H[41;117H   [22;8H[41;128H7,1-8[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H   [23;8H[41;128H8[23;8H[?12l[?25h[?25l[41;117H~@k[23;8H[41;117H   [24;1H[21;58H[46m{


}[m[41;128H9,1  [24;1H[?12l[?25h[?25l[41;117H~@k[24;1H[41;117H   [25;1H[21;58H{


}[41;127H70[25;1H[?12l[?25h[?25l[41;117H~@k[25;1H[41;117H   [26;8H[41;128H1,1-8[26;8H[?12l[?25h[?25l[41;117H~@k[26;8H[41;117H   [27;8H[41;128H2[27;8H[?12l[?25h[?25l[41;117H~@k[27;8H[41;117H   [28;1H[25;37H[46m{


}[m[41;128H3,1  [28;1H[?12l[?25h[?25l[41;117H~@k[28;1H[41;117H   [29;1H[25;37H{


}[41;128H4[29;1H[?12l[?25h[?25l[41;117H~@k[29;1H[41;117H   [30;1H[41;128H5[30;1H[?12l[?25h[?25l[41;117H~@k[30;1H[41;117H   [31;1H[41;128H6[31;1H[?12l[?25h[?25l[41;117H~@k[31;1H[41;117H   [32;8H[41;128H7,1-8[32;8H[?12l[?25h[?25l[41;117H~@k[32;8H[41;117H   [33;8H[41;128H8[33;8H[?12l[?25h[?25l[41;117H~@k[33;8H[41;117H   [34;8H[41;128H9[34;8H[?12l[?25h[?25l[41;117H~@k[34;8H[41;117H   [35;8H[41;127H80[35;8H[?12l[?25h[?25l[41;117HP[35;8H[41;1H4 more lines[41;117H[K[35;9H[32mstruct[m device *dev = hdmi_dev.this_device;[36;9H[32mstruct[m device_node *fwr = [31mNULL[m;[37;9H[34m//fw = of_find_compatible_node(NULL,);[m[38;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[39;9Hpr_info([31m"[m[35m\n[m[31m"[m);[39;23H[K[41;127H80,2-9[8C38%[41;127H[K[41;127H80,2-9[8C38%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Herror = misc_register(&hdmi_dev);[41;1H[K[41;127H81,2-9[8C39%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[33mif[m (error)[41;127H[K[41;127H82,2-9[8C40%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H83,2-9[8C41%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[41;127H[K[41;127H84,2-9[8C42%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;1H[2;40r[40;1H
[1;41r[40;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H85,0-1[8C42%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H86,2-9[8C43%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H87,2-9[8C44%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H88,2-16[7C45%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;8H[2;40r[40;1H
[1;41r[40;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H89,1-8[8C46%[35;8H[?12l[?25h[?25l[41;117H~@k[35;8H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H90,2-9[8C47%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H91,2-16[7C47%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H92,2-16[7C48%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;38H[46m{[35;9H}[m[40;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H93,2-9[8C49%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;38H{[34;9H}[40;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H94,2-9[8C50%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H95,2-9[8C51%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H96,2-9[8C52%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H97,9[10C52%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H98,2-9[8C53%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;17H[33mif[m(flag){[41;127H[K[41;127H99,2-9[8C54%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;25Hget_projector_id(fwr,fw);[41;127H[K[41;127H100,2-16      55%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;25Hcheck = edid_tag1.edid_block[[31m95[m];[41;127H[K[41;127H101,2-16      56%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;29H[46m{[35;9H}[m[40;25Hflag = [31m0[m;[41;127H[K[41;127H102,2-9[7C57%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;29H{[34;9H}[40;17H}[41;127H[K[41;127H103,2-9[7C57%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H104,2-16      58%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H105,2-16      59%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H106,2-16      60%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H107,2-16      61%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[35m#if 0[m[41;127H[K[41;127H108,2-16      62%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H109,2-16      63%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H110,2-16      63%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[27;30H[46m{[35;9H}[m[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H111,2-9[7C64%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[26;30H{[34;9H}[40;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H112,2-9[7C65%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;5H[2;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H113,5[9C66%[35;5H[?12l[?25h[?25l[41;117H~@k[35;5H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H114,2-9[7C67%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H115,2-9[7C68%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H116,2-16      68%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H117,2-16      69%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;19H[34m[46m{[35;9H}[m[40;1H[34m        }[m[41;127H[K[41;127H118,2-9[7C70%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;1H[35m#endif[m[41;127H[K[41;127H119,2-9[7C71%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H120,2-9[7C72%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H[33mif[m (error){[41;127H[K[41;127H121,2-16      73%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;17Hkobject_put(&dev->kobj);[41;127H[K[41;127H122,2-16      73%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;19H[34m[46m{[35;9H}[m[40;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H123,2-9[7C74%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;6H[2;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;9H}[41;127H[K[41;127H124,6[9C75%[35;6H[?12l[?25h[?25l[41;117H~@k[35;6H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H125,2-9[7C76%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H126,2-9[7C77%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;9H[33mreturn[m error;[41;127H[K[41;127H127,2-16      78%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;16H[2;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H128,2-16      78%[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;9H[2;40r[40;1H
[1;41r[32;19H[46m{[35;9H}[m[41;127H[K[41;127H129,2-9[7C79%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;9H[2;40r[40;1H
[1;41r[31;19H{[34;9H}[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H130,2-9[7C80%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [34;9H[31;19H[46m{[34;9H}[m[41;128H29[34;9H[?12l[?25h[?25l[41;117H~@k[34;9H[41;117H   [33;16H[31;19H{[34;9H}[41;129H8,2-16[33;16H[?12l[?25h[?25l[41;117H~@k[33;16H[41;117H   [32;16H[41;129H7[32;16H[?12l[?25h[?25l[41;117H~@k[32;16H[41;117H   [31;9H[41;129H6,2-9 [31;9H[?12l[?25h[?25l[41;117H~@k[31;9H[41;117H   [30;9H[41;129H5[30;9H[?12l[?25h[?25l[41;117H~@k[30;9H[41;117H   [29;6H[41;129H4,6  [29;6H[?12l[?25h[?25l[41;117Hi[29;6H[41;117H [29;6H[41;1H[1m-- INSERT --[m[41;127H[K[41;127H124,6[9C80%[29;6H[?12l[?25h[?25l[41;131H7[29;7H[?12l[?25h[?25l[30;40r[30;1H[L[1;41r[41;127H[K[41;127H125,2-9[7C80%[30;9H[?12l[?25h[?25li[41;131H3-10[30;10H[?12l[?25h[?25l[33mif[m[41;131H4-11[30;11H[?12l[?25h[?25l([32;19H[1m[37m[41m{[35;9H}[m[41;131H5-12[30;12H[?12l[?25h[?25l)[32;19H{[35;9H}[30;11H[46m()[m[41;131H6-13[30;13H[?12l[?25h[?25l[41;131H5-12[30;12H[?12l[?25h[?25l[46mc[m)c[46m)[m[41;131H6-13[30;13H[?12l[?25h[?25l[46mh[m)h[46m)[m[41;131H7-14[30;14H[?12l[?25h[?25l[46me[m)e[46m)[m[41;131H8-15[30;15H[?12l[?25h[?25l[46mc[m)c[46m)[m[41;131H9-16[30;16H[?12l[?25h[?25l[46mk[m)k[46m)[m[41;131H10-17[30;17H[?12l[?25h[?25l[46m [m) [46m)[m[41;132H1-18[30;18H[?12l[?25h[?25l[46m=[m)=[46m)[m[41;132H2-19[30;19H[?12l[?25h[?25l[46m=[m)=[46m)[m[41;132H3-20[30;20H[?12l[?25h[?25l[46m [m) [46m)[m[41;132H4-21[30;21H[?12l[?25h[?25l[31m[46m"[m[31m)
        error = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);
        if (error){
                kobject_put(&dev->kobj);
                pr_err([m[1CNo kobject_uevent %d\n[1C[31m, error);
        }
        msleep(1000);
}
        return error;
}[30;21H"[m[31m[46m)[m[41;132H5-22[30;22H[?12l[?25h[?25l[31m[46m"[m)
        error = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);
        [33mif[m (error){
                kobject_put(&dev->kobj);
                pr_err([1C[31mNo kobject_uevent [m[35m%d\n[m[1C, error);
        }
        msleep([4C);
}
        [33mreturn[m error;
}[30;22H[31m"[m[46m)[m[41;132H6-23[30;23H[?12l[?25h[?25l[30;11H([11C)[41;132H5-22[30;22H[?12l[?25h[?25l[31mL"[m)[41;132H6-23[30;23H[?12l[?25h[?25l[30;11H[46m([12C)[m[41;132H7-24[30;24H[?12l[?25h[?25l[41;132H8-25[30;25H[?12l[?25h[?25l{[30;11H([12C)[46m{[37;1H}[m[41;132H9-26[30;26H[?12l[?25h[?25l{[37;1H}[41;129H6[31;26H[?12l[?25h[?25l[32;19H[46m{[35;9H}[m[41;129H7,13-20[32;20H[?12l[?25h[?25l{[35;9H}[41;129H8,12-26[33;26H[?12l[?25h[?25l[41;129H9[34;26H[?12l[?25h[?25l[32;19H[46m{[35;9H}[m[41;128H30,3-10 [35;10H[?12l[?25h[?25l}[30;25H[46m{[m[32;19H{[35;9H}[46m}[m[41;131H4-11[35;11H[?12l[?25h[?25l[30;25H{[35;10H}[41;128H29,2-9 [34;9H[?12l[?25h[?25l[41;129H8[33;9H[?12l[?25h[?25l[41;129H7,4-11[32;11H[?12l[?25h[?25l[41;129H6[31;11H[?12l[?25h[?25l[30;11H[46m([12C)[m[41;129H5[30;11H[?12l[?25h[41;1H[K[30;10H[?25l[41;117H^[[30;10H[41;117H  [30;11H([12C)[41;127H125,3-10      80%[30;10H[?12l[?25h[?25l[41;117HV[30;10H[41;117H1[30;10H[7m        [m[7m[33mi[m[1C[7m(check == [m[7m[31m"L"[m[7m){ [m[41;1H[1m-- VISUAL LINE --[m[41;117H[K[41;117H1[30;10H[41;127H125,3-10      80%[30;10H[?12l[?25h[?25l[41;117H~@k[30;10H[41;117H2  [31;10H[30;10H[7m[33mf[m
[7m        e[mr[7mror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp); [m[41;129H6[31;10H[?12l[?25h[?25l[41;117H~@k[31;10H[41;117H3  [32;10H[31;10H[7mr
        [m[7m[33mi[m[1C[7m (error){ [m[41;129H7[32;10H[?12l[?25h[?25l[41;117H~@k[32;10H[41;117H4  [33;16H[32;10H[7m[33mf[m
[7m               [m [7mkobject_put(&dev->kobj); [m[41;129H8,2-16[33;16H[?12l[?25h[?25l[41;117H~@k[33;16H[41;117H5  [34;16H[33;16H[7m 
               [m [7mpr_err([m[7m[31m"No kobject_uevent [m[7m[35m%d\n[m[7m[31m"[m[7m, error); [m[41;129H9[34;16H[?12l[?25h[?25l[41;117H~@k[34;16H[41;117H6  [35;10H[34;16H[7m 
        }[m[46m}[m[7m [m[41;128H30,3-10[35;10H[?12l[?25h[?25l[41;117H=[35;10H[41;1H5 lines to indent...[41;117H[K[41;1H6[7Cindented [41;18H[K[30;9H        [33mif[m(check == [31m"L"[m){[30;26H[K[31;1H                error = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);
                [33mif[m (error){
                        kobject_put(&dev->kobj);
                        pr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);
                }}[41;127H125,2-9[7C80%[30;9H[?12l[?25h[?25l[41;117H~@k[30;9H[41;117H   [31;16H[41;129H6,2-16[31;16H[?12l[?25h[?25l[41;117H~@k[31;16H[41;117H   [32;16H[41;129H7[32;16H[?12l[?25h[?25l[41;117H~@k[32;16H[41;117H   [33;16H[41;129H8[33;16H[?12l[?25h[?25l[41;117H~@k[33;16H[41;117H   [34;16H[41;129H9[34;16H[?12l[?25h[?25l[41;117H~@k[34;16H[41;117H   [35;16H[41;128H30[35;16H[?12l[?25h[?25l[41;117H~@k[35;16H[41;117H   [35;17H[32;27H[46m{[35;17H}[m[41;131H3-17[35;17H[?12l[?25h[?25l[41;117Hi[35;17H[41;117H [35;17H[41;1H[1m-- INSERT --[m[41;13H[K[41;127H130,3-17      80%[35;17H[?12l[?25h[?25l[30;25H[46m{[m[32;27H{[35;17H}[46m}[m[41;131H4-18[35;18H[?12l[?25h[?25l[2;40r[40;1H
[1;41r[35;40r[35;1H[L[1;41r[34;18H[K[35;9H}[41;127H[K[41;127H131,2-9[7C80%[35;9H[46m}[?12l[?25h[?25l[2;40r[m[40;1H
[1;41r[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H132,2-9[7C80%[28;25H{[34;9H}[35;9H[?12l[?25h[?25l[28;25H[46m{[34;9H}[m[41;129H1[34;9H[?12l[?25h[?25l[28;25H{[34;9H}[41;129H0[33;9H[?12l[?25h[?25l[41;128H29[32;9H[?12l[?25h[?25l[41;129H8[31;9H[?12l[?25h[?25l[41;129H7[30;9H[?12l[?25h[?25l[41;129H6[29;9H[?12l[?25h[?25l[41;129H5[28;9H[?12l[?25h[?25l[41;131H3-10[28;10H[?12l[?25h[?25l[1C[46m([12C)[m[41;131H4-11[28;11H[?12l[?25h[?25l[41;131H5-12[28;12H[?12l[?25h[?25l([12C)[41;131H6-13[28;13H[?12l[?25h[?25l[41;131H7-14[28;14H[?12l[?25h[?25l[41;131H8-15[28;15H[?12l[?25h[?25l[41;131H9-16[28;16H[?12l[?25h[?25l[41;131H10-17[28;17H[?12l[?25h[?25l[41;132H1-18[28;18H[?12l[?25h[?25l[41;132H2-19[28;19H[?12l[?25h[?25l[41;132H3-20[28;20H[?12l[?25h[?25l[41;132H4-21[28;21H[?12l[?25h[?25l[41;132H5-22[28;22H[?12l[?25h[?25l[41;129H6,8-22 [29;22H[?12l[?25h[?25l[41;129H7[30;22H[?12l[?25h[?25l[41;129H6[29;22H[?12l[?25h[?25l[41;129H5,15-22[28;22H[?12l[?25h[?25l[41;129H6,8-22 [29;22H[?12l[?25h[?25l[41;129H7[30;22H[?12l[?25h[?25l[41;129H8,3-17[31;17H[?12l[?25h[?25l[41;129H9[32;17H[?12l[?25h[?25l[30;27H[46m{[33;17H}[m[41;128H30,4-18[33;18H[?12l[?25h[?25l[28;25H[46m{[m[30;27H{[33;17H}[34;9H[46m}[m[41;129H1,3-10[34;10H[?12l[?25h[?25li[28;25H{[34;9H}[41;131H4-11[34;11H[?12l[?25h[?25l[34;10H[K[28;25H[46m{[34;9H}[m[41;131H3-10[34;10H[?12l[?25h[?25l[35;40r[35;1H[L[1;41r[41;127H[K[41;127H132,2-9[7C80%[28;25H{[34;9H}[35;9H[?12l[?25h[?25lf[41;131H3-10[35;10H[?12l[?25h[?25ll[41;131H4-11[35;11H[?12l[?25h[?25la[41;131H5-12[35;12H[?12l[?25h[?25lg[41;131H6-13[35;13H[?12l[?25h[?25l[41;131H7-14[35;14H[?12l[?25h[?25l=[41;131H8-15[35;15H[?12l[?25h[?25l[41;131H9-16[35;16H[?12l[?25h[?25l[31m0[m[41;131H10-17[35;17H[?12l[?25h[?25l[35;16H[K[41;131H9-16 [35;16H[?12l[?25h[?25l[31m1[m[41;131H10-17[35;17H[?12l[?25h[?25l;[41;132H1-18[35;18H[?12l[?25h[41;1H[K[35;17H[?25l[41;117H^[[35;17H[41;117H  [35;18H[41;127H132,10-17     80%[35;17H[?12l[?25h[?25l[41;117H:[35;17H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"../hdmi_uevent/hdmi_gpio.c" 161L, 4314C written[35;17H[41;127H132,10-17     80%[1;13H[1m../h/hdmi_gpio.c. c[m[7m  [112C [m[1;144H[4m[30m[47mX[m[41;127H[K[41;127H132,10-17     80%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [34;9H[28;25H[46m{[34;9H}[m[41;129H1,2-9  [34;9H[?12l[?25h[?25l[41;117H~@k[34;9H[41;117H   [33;17H[28;25H{[30;27H[46m{[33;17H}[m[34;9H}[41;129H0,3-17[33;17H[?12l[?25h[?25l[41;117H~@k[33;17H[41;117H   [32;24H[30;27H{[33;17H}[41;128H29,3-24[32;24H[?12l[?25h[?25l[41;117H~@k[32;24H[41;117H   [31;24H[41;129H8[31;24H[?12l[?25h[?25l[41;117H~@k[31;24H[41;117H   [30;17H[41;129H7,3-17[30;17H[?12l[?25h[?25l[41;117H~@k[30;17H[41;117H   [29;17H[41;129H6[29;17H[?12l[?25h[?25l[41;117H~@k[29;17H[41;117H   [28;17H[41;129H5,10-17[28;17H[?12l[?25h[?25l[41;117H~@k[28;17H[41;117H   [27;6H[41;129H4,6    [27;6H[?12l[?25h[?25l[41;117H~@k[27;6H[41;117H   [26;9H[23;19H[34m[46m{[26;9H}[m[41;129H3,2-9[26;9H[?12l[?25h[?25l[41;117H~@k[26;9H[41;117H   [25;17H[23;19H[34m{[26;9H}[m[41;129H2,3-17[25;17H[?12l[?25h[?25l[41;117H~@k[25;17H[41;117H   [24;17H[41;129H1[24;17H[?12l[?25h[?25l[41;117H~@k[24;17H[41;117H   [23;17H[41;129H0,10-17[23;17H[?12l[?25h[?25l[41;117H~@k[23;17H[41;117H   [22;17H[41;128H19[22;17H[?12l[?25h[?25l[41;117H~@k[22;17H[41;117H   [21;9H[18;19H[34m[46m{[21;9H}[m[41;129H8,2-9  [21;9H[?12l[?25h[?25l[41;117H~@k[21;9H[41;117H   [20;17H[18;19H[34m{[21;9H}[m[41;129H7,3-17[20;17H[?12l[?25h[?25l[41;117H~@k[20;17H[41;117H   [19;17H[41;129H6[19;17H[?12l[?25h[?25l[41;117H~@k[19;17H[41;117H   [18;17H[41;129H5,10-17[18;17H[?12l[?25h[?25l[41;117H~@k[18;17H[41;117H   [17;17H[41;129H4[17;17H[?12l[?25h[?25l[41;117H~@k[17;17H[41;117H   [16;5H[41;129H3,5    [16;5H[?12l[?25h[?25l[41;117H~@k[16;5H[41;117H   [15;17H[41;129H2,10-17[15;17H[?12l[?25h[?25l[41;117H~@k[15;17H[41;117H   [14;9H[6;30H[46m{[14;9H}[m[41;129H1,2-9  [14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [13;17H[6;30H{[14;9H}[41;129H0,3-17[13;17H[?12l[?25h[?25l[41;117H~@k[13;17H[41;117H   [12;17H[41;128H09[12;17H[?12l[?25h[?25l[41;117H~@k[12;17H[41;117H   [11;17H[7;25H[46m{[11;17H}[m[41;129H8[11;17H[?12l[?25h[?25l[41;117H~@k[11;17H[41;117H   [10;24H[7;25H{[11;17H}[41;129H7,3-24[10;24H[?12l[?25h[?25l[41;117H~@k[10;24H[41;117H   [9;24H[41;129H6[9;24H[?12l[?25h[?25l[41;117H~@k[9;24H[41;117H   [8;24H[41;129H5[8;24H[?12l[?25h[?25l[41;117H~@k[8;24H[41;117H   [7;17H[41;129H4,3-17[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;1H[K[41;127H103,10-17     79%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;1H[33mwhile[m([31m1[m){[4;29H[46m{[7;9H}[m[41;127H[K[41;127H102,2-9[7C78%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9Hgpio_export(hdmi_gpio,[31mfalse[m);[5;29H{[8;9H}[41;127H[K[41;127H101,3-17      77%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H100,3-17      77%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H99,10-17      76%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H}[41;127H[K[41;127H98,10-17      75%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H97,9[10C74%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H96,10-17      73%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H95,10-17      72%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H94,10-17      72%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;9H[2;40r[2;1H[L[1;41r[2;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[4;38H[46m{[7;9H}[m[41;127H[K[41;127H93,2-9[8C71%[7;9H[?12l[?25h[?25l[41;117H~@k[7;9H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[33mif[m (error)[5;38H{[8;9H}[41;127H[K[41;127H92,3-17[7C70%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H91,3-17[7C69%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[41;127H[K[41;127H90,10-17      68%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;8H[2;40r[2;1H[L[1;41r[2;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H89,1-8[8C68%[7;8H[?12l[?25h[?25l[41;117H~@k[7;8H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;127H[K[41;127H88,3-17[7C67%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[34m//fw = of_find_compatible_node(NULL,);[m[41;127H[K[41;127H87,10-17      66%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[32mstruct[m device_node *fwr = [31mNULL[m;[41;127H[K[41;127H86,10-17      65%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H85,0-1[8C64%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H84,10-17      63%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[32mchar[m check = [31m"L"[m;[41;127H[K[41;127H83,10-17      63%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H[32mint[m error=[31m0[m,flag=[31m1[m;[41;127H[K[41;127H82,10-17      62%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H{[41;127H[K[41;127H81,10-17      61%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H80,10-17      60%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H79,10-17      59%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H78,10-17      59%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H77,10-17      58%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;1H[2;40r[2;1H[L[1;41r[2;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H76,1[10C57%[7;1H[?12l[?25h[?25l[41;117H~@k[7;1H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H75,17[9C56%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H74,17[9C55%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;2H[2;40r[2;1H[L[1;41r[2;9H[31mNULL[m[41;127H[K[41;127H73,2[10C54%[7;2H[?12l[?25h[?25l[41;117H~@k[7;2H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;9H&dev_attr_group,[41;127H[K[41;127H72,10-17      54%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[41;127H[K[41;127H71,10-17      53%[7;17H[?12l[?25h[?25l[41;117H~@k[7;17H[41;117H   [7;17H[2;40r[2;1H[L[1;41r[2;1H};[41;127H[K[41;127H70,17[9C52%[7;17H[?12l[?25h[?25l[41;117H^[[7;17H[41;117H  [7;17H[41;117H^[[7;17H[41;117H  [7;17H[?12l[?25h[?25l[41;117H:[7;17H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"../hdmi_uevent/hdmi_gpio.c" 161L, 4314C written[7;17H[41;127H70,17[9C52%[41;127H[K[41;127H70,17[9C52%[7;17H[?12l[?25h[?25l[41;117H^[[7;17H[41;117H  [7;17H[41;117H^[[7;17H[41;117H  [7;17H[?12l[?25h[?25l[41;117H:[7;17H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"../hdmi_uevent/hdmi_gpio.c" 161L, 4314C written[35;8H[27m[23m[m[H[2J[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[9;9Hu32 block_number;[10;9Hu32 status;[11;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[15;9H[32mint[m error;[16;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;9H[32mstruct[m device_node *fwr = [31mNULL[m;[18;9H[34m//fw = of_find_compatible_node(NULL,);[m[19;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;9Hedid_tag1.block_number = [31m0[m;[22;9Hedid_tag1.status = [31m0[m;[23;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[24;17Hedid_tag1.edid_block[error] = [31m0[m;[25;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[26;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[27;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[28;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[29;9H}[30;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[33;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                                                                                               [m[41;127H35,8[10CAll[35;8H[?12l[?25h[?25l[41;117H^[[35;8H[41;117H  [35;8H[41;117H^[[35;8H[41;117H  [35;8H[?12l[?25h[?25l[41;117H:[35;8H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"mailbox.c" 39L, 1185C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m cd ../hdmi_uevent/
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m make clean
rm *.mod.c *.*o .*.cmd Module.symvers modules.order || :
rm: cannot remove '*.mod.c': No such file or directory
rm: cannot remove '*.*o': No such file or directory
rm: cannot remove '.*.cmd': No such file or directory
rm: cannot remove 'Module.symvers': No such file or directory
rm: cannot remove 'modules.order': No such file or directory
rm -rf .tmp_versions || :
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m ls
90-hdmi.rules  hdmi_dev.c  hdmi_dev_o.c  hdmi_gpio.c  Makefile  nov_sun
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m make
make -C /lib/modules/4.9.45-v7+/build M=/home/pi/DDD/A2/hdmi_uevent modules
make[1]: Entering directory '/home/pi/linux'
  CC [M]  /home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.o
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:[m[K In function â€˜[01m[Kmodule_start[m[Kâ€™:
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:78:15:[m[K [01;35m[Kwarning: [m[Kinitialization makes integer from pointer without a cast [[01;35m[K-Wint-conversion[m[K]
  char check = [01;35m[K"L"[m[K;
               [01;35m[K^~~[m[K
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:125:11:[m[K [01;35m[Kwarning: [m[Kcomparison between pointer and integer
  if(check [01;35m[K==[m[K "L"){
           [01;35m[K^~[m[K
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:125:11:[m[K [01;35m[Kwarning: [m[Kcomparison with string literal results in unspecified behavior [[01;35m[K-Waddress[m[K]
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:[m[K At top level:
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:146:8:[m[K [01;31m[Kerror: [m[Kunknown type name â€˜[01m[Kirq_handler_t[m[Kâ€™
 static [01;31m[Kirq_handler_t[m[K hdmigpio_irq_handler(unsigned int irq, void *dev_id, struct pt_regs *regs){
        [01;31m[K^~~~~~~~~~~~~[m[K
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:[m[K In function â€˜[01m[Khdmigpio_irq_handler[m[Kâ€™:
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:149:2:[m[K [01;35m[Kwarning: [m[KISO C90 forbids mixed declarations and code [[01;35m[K-Wdeclaration-after-statement[m[K]
  [01;35m[Kstruct[m[K device *dev = hdmi_dev.this_device;
  [01;35m[K^~~~~~[m[K
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:155:10:[m[K [01;31m[Kerror: [m[Kâ€˜[01m[Kirq_handler_t[m[Kâ€™ undeclared (first use in this function)
  return ([01;31m[Kirq_handler_t[m[K) IRQ_HANDLED;
          [01;31m[K^~~~~~~~~~~~~[m[K
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:155:10:[m[K [01;36m[Knote: [m[Keach undeclared identifier is reported only once for each function it appears in
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:155:25:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K;[m[Kâ€™ before â€˜[01m[KIRQ_HANDLED[m[Kâ€™
  return (irq_handler_t) [01;31m[KIRQ_HANDLED[m[K;
                         [01;31m[K^~~~~~~~~~~[m[K
At top level:
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:146:22:[m[K [01;35m[Kwarning: [m[Kâ€˜[01m[Khdmigpio_irq_handler[m[Kâ€™ defined but not used [[01;35m[K-Wunused-function[m[K]
 static irq_handler_t [01;35m[Khdmigpio_irq_handler[m[K(unsigned int irq, void *dev_id, struct pt_regs *regs){
                      [01;35m[K^~~~~~~~~~~~~~~~~~~~[m[K
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:66:38:[m[K [01;35m[Kwarning: [m[Kâ€˜[01m[Kdev_attr_groups[m[Kâ€™ defined but not used [[01;35m[K-Wunused-variable[m[K]
 static const struct attribute_group *[01;35m[Kdev_attr_groups[m[K[] = {
                                      [01;35m[K^~~~~~~~~~~~~~~[m[K
scripts/Makefile.build:299: recipe for target '/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.o' failed
make[2]: *** [/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.o] Error 1
Makefile:1493: recipe for target '_module_/home/pi/DDD/A2/hdmi_uevent' failed
make[1]: *** [_module_/home/pi/DDD/A2/hdmi_uevent] Error 2
make[1]: Leaving directory '/home/pi/linux'
Makefile:13: recipe for target 'default' failed
make: *** [default] Error 2
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m make[2Plsmake cleanls[Kmake[Kvim hdmi_gpio.c 
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"hdmi_gpio.c" 161L, 4314C[>c[1;9H[34m//if(count)[2;9H//      errorurn sscanf(buf,[m[31m"%d"[m[34m,&type);[m[3;17H[33mreturn[m sprintf(buf,[31m"hdmi_status=[m[35m%d\n[m[31m"[m,hdmi_pin);
}
[32mstatic[m DEVICE_ATTR(read, S_IRUSR|S_IRGRP, read_hdmi_status, [31mNULL[m);
[32mstatic[m DEVICE_ATTR(change, S_IRUSR|S_IRGRP, change_hdmi_status, [31mNULL[m);

[32mstatic[m [32mstruct[m attribute *dev_attrs[] = {[9;9H&dev_attr_read.attr,[10;9H&dev_attr_change.attr,[11;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[14;9H.attrs = dev_attrs,[31mNULL[m
};
[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[17;9H&dev_attr_group,[18;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[21;9H.name = [31m"hdmi_device"[m,[22;9H.minor = MISC_DYNAMIC_MINOR,
};
[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};
[32mstatic[m [32mint[m __init module_start([32mvoid[m)
{[27;9H[32mint[m error=[31m0[m,flag=[31m1[m;[28;9H[32mchar[m check = [31m"L"[m;[29;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[30;9H[32mstruct[m device *dev = hdmi_dev.this_device;[31;9H[32mstruct[m device_node *fwr = [31mNULL[m;[32;9H[34m//fw = of_find_compatible_node(NULL,);[m[33;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[34;9Hpr_info([31m"[m[35m\n[m[31m"[m);[36;9Herror = misc_register(&hdmi_dev);[37;9H[33mif[m (error)[38;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[40;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H70,17[9C41%[20;17H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[20;17H[41;117H   [21;17H[41;128H1,10-17[21;17H[?12l[?25h[?25l[41;117H~@k[21;17H[41;117H   [22;17H[41;128H2[22;17H[?12l[?25h[?25l[41;117H~@k[22;17H[41;117H   [23;2H[41;128H3,2    [23;2H[?12l[?25h[?25l[41;117H~@k[23;2H[41;117H   [24;17H[41;128H4,17[24;17H[?12l[?25h[?25l[41;117H~@k[24;17H[41;117H   [25;17H[41;128H5[25;17H[?12l[?25h[?25l[41;117H~@k[25;17H[41;117H   [26;1H[41;128H6,1 [26;1H[?12l[?25h[?25l[41;117H~@k[26;1H[41;117H   [27;17H[41;128H7,10-17[27;17H[?12l[?25h[?25l[41;117H~@k[27;17H[41;117H   [28;17H[41;128H8[28;17H[?12l[?25h[?25l[41;117H~@k[28;17H[41;117H   [29;17H[41;128H9[29;17H[?12l[?25h[?25l[41;117H~@k[29;17H[41;117H   [30;17H[41;127H80[30;17H[?12l[?25h[?25l[41;117H~@k[30;17H[41;117H   [31;17H[41;128H1[31;17H[?12l[?25h[?25l[41;117H~@k[31;17H[41;117H   [32;17H[41;128H2[32;17H[?12l[?25h[?25l[41;117H~@k[32;17H[41;117H   [33;17H[41;128H3[33;17H[?12l[?25h[?25l[41;117H~@k[33;17H[41;117H   [34;17H[41;128H4[34;17H[?12l[?25h[?25l[41;117H~@k[34;17H[41;117H   [35;1H[41;128H5,0-1  [35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;1H[K[41;127H86,10-17      42%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H87,10-17      42%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H88,3-17[7C43%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;8H[1;40r[40;1H
[1;41r[40;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H89,1-8[8C44%[35;8H[?12l[?25h[?25l[41;117H~@k[35;8H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H90,10-17      45%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H91,3-17[7C46%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H92,3-17[7C47%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;38H[46m{[35;9H}[m[40;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H93,2-9[8C47%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[31;38H{[34;9H}[40;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H94,10-17      48%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H95,10-17      49%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H96,10-17      50%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H97,9[10C51%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H98,10-17      52%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17H[33mif[m(flag){[41;127H[K[41;127H99,10-17      52%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;25Hget_projector_id(fwr,fw);[41;127H[K[41;127H100,3-17      53%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;25Hcheck = edid_tag1.edid_block[[31m95[m];[41;127H[K[41;127H101,3-17      54%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;29H[46m{[35;9H}[m[40;25Hflag = [31m0[m;[41;127H[K[41;127H102,2-9[7C55%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[31;29H{[34;9H}[40;17H}[41;127H[K[41;127H103,10-17     56%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H104,3-17      57%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H105,3-24      57%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H106,3-24      58%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H107,3-24      59%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;17H[1;40r[40;1H
[1;41r[31;25H[46m{[35;17H}[m[40;1H[35m#if 0[m[41;127H[K[41;127H108,3-17      60%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[30;25H{[34;17H}[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H109,3-17      61%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H110,3-17      61%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[27;30H[46m{[35;9H}[m[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H111,2-9[7C62%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[26;30H{[34;9H}[40;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H112,10-17     63%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;5H[1;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H113,5[9C64%[35;5H[?12l[?25h[?25l[41;117H~@k[35;5H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H114,10-17     65%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[34m        if (error){[m[41;127H[K[41;127H115,10-17     66%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H116,3-17      66%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H117,3-17      67%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;19H[34m[46m{[35;9H}[m[40;1H[34m        }[m[41;127H[K[41;127H118,2-9[7C68%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;1H[35m#endif[m[41;127H[K[41;127H119,10-17     69%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H[33mif[m(check == [31m"L"[m){[41;127H[K[41;127H120,10-17     70%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H121,3-17      71%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17H[33mif[m (error){[41;127H[K[41;127H122,3-17      71%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;19H[34m[46m{[35;9H}[m[40;25Hkobject_put(&dev->kobj);[41;127H[K[41;127H123,2-9[7C72%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;6H[1;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;25Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H124,6[9C73%[35;6H[?12l[?25h[?25l[41;117H~@k[35;6H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17H}[41;127H[K[41;127H125,10-17     74%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H126,3-17      75%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9Hflag = [31m1[m;[41;127H[K[41;127H127,3-17      76%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H128,3-24      76%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H129,3-24      77%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;17H[1;40r[40;1H
[1;41r[32;27H[46m{[35;17H}[m[40;9H[33mreturn[m error;[41;127H[K[41;127H130,3-17      78%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[29;25H[46m{[m[31;27H{[34;17H}[35;9H[46m}[m[40;1H}[41;127H[K[41;127H131,2-9[7C79%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[28;25H{[34;9H}[41;127H[K[41;127H132,10-17     80%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H133,10-17     80%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H134,1[9C81%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9Hmisc_deregister(&hdmi_dev);[41;127H[K[41;127H135,10-17     82%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;9Hgpio_unexport(hdmi_gpio);[41;127H[K[41;127H136,1[9C83%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;9Hgpio_free(hdmi_gpio);[41;127H[K[41;127H137,0-1[7C84%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H138,17[8C85%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;1H[1;40r[40;1H
[1;41r[35;1H[46m{[40;1H}[m[41;127H[K[41;127H139,1[9C85%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;17H[1;40r[40;1H
[1;41r[34;1H{[39;1H}[41;127H[K[41;127H140,10-17     86%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H[32mstatic[m irq_handler_t hdmigpio_irq_handler([32munsigned[m [32mint[m irq, [32mvoid[m *dev_id, [32mstruct[m pt_regs *regs){[41;127H[K[41;127H141,10-17     87%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H[32mint[m error;[41;127H[K[41;127H142,10-17     88%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"[m[35m\n[m[31mDetected hdmi hotplug event and inside IRQ[m[35m\n[m[31m"[m);[41;127H[K[41;127H143,10-17     89%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;1H[1;40r[40;1H
[1;41r[30;1H[46m{[35;1H}[m[40;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H144,1[9C90%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;1H[1;40r[40;1H
[1;41r[29;1H{[34;1H}[40;9Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H145,0-1[7C90%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H[33mif[m (error){[41;127H[K[41;127H146,17[8C91%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Hkobject_put(&dev->kobj);[41;127H[K[41;127H147,10-17     92%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;17Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H148,10-17     93%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H149,10-17     94%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;9H[33mreturn[m (irq_handler_t) IRQ_HANDLED;[41;127H[K[41;127H150,10-17     95%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H151,10-17     95%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[41;127H[K[41;127H152,3-17      96%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;17H[1;40r[40;1H
[1;41r[40;1Hmodule_init(module_start);[41;127H[K[41;127H153,3-17      97%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;19H[46m{[35;9H}[m[40;1Hmodule_exit(module_end);[41;127H[K[41;127H154,2-9[7C98%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[31;19H{[34;9H}[40;1HMODULE_LICENSE([31m"GPL"[m);[41;127H[K[41;127H155,10-17     99%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;1H[1;40r[40;1H
[1;41r[25;96H[46m{[35;1H}[m[40;1HMODULE_DESCRIPTION([31m"HDMI Device"[m);[41;127H[K[41;127H156,1[9CBot[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [36;1H[25;96H{[35;1H}[41;129H7,0-1[36;1H[?12l[?25h[?25l[41;117H~@k[36;1H[41;117H   [37;17H[41;129H8,17 [37;17H[?12l[?25h[?25l[41;117H~@k[37;17H[41;117H   [38;17H[41;129H9[38;17H[?12l[?25h[?25l[41;117H~@k[38;17H[41;117H   [39;17H[41;128H60[39;17H[?12l[?25h[?25l[41;117H~@k[39;17H[41;117H   [40;17H[41;129H1[40;17H[?12l[?25h[?25l[41;117H~@k[40;17H[41;117H   [40;17H[?12l[?25h[?25l[41;117H~@k[40;17H[41;117H   [39;17H[41;129H0[39;17H[?12l[?25h[?25l[41;117H~@k[39;17H[41;117H   [38;17H[41;128H59[38;17H[?12l[?25h[?25l[41;117H~@k[38;17H[41;117H   [37;17H[41;129H8[37;17H[?12l[?25h[?25l[41;117H~@k[37;17H[41;117H   [36;1H[41;129H7,0-1[36;1H[?12l[?25h[?25l[41;117H~@k[36;1H[41;117H   [35;1H[25;96H[46m{[35;1H}[m[41;129H6,1  [35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [34;17H[25;96H{[35;1H}[41;129H5,10-17[34;17H[?12l[?25h[?25l[41;117H~@k[34;17H[41;117H   [33;9H[30;19H[46m{[33;9H}[m[41;129H4,2-9  [33;9H[?12l[?25h[?25l[41;117H~@k[33;9H[41;117H   [32;17H[30;19H{[33;9H}[41;129H3,3-17[32;17H[?12l[?25h[?25l[41;117H~@k[32;17H[41;117H   [31;17H[41;129H2[31;17H[?12l[?25h[?25l[41;117H~@k[31;17H[41;117H   [30;17H[41;129H1,10-17[30;17H[?12l[?25h[?25l[41;117H~@k[30;17H[41;117H   [29;17H[41;129H0[29;17H[?12l[?25h[?25l[41;117H~@k[29;17H[41;117H   [28;17H[41;128H49[28;17H[?12l[?25h[?25l[41;117H~@k[28;17H[41;117H   [27;17H[41;129H8[27;17H[?12l[?25h[?25l[41;117H~@k[27;17H[41;117H   [26;17H[41;129H7[26;17H[?12l[?25h[?25l[41;117H~@k[26;17H[41;117H   [25;17H[41;129H6,17   [25;17H[?12l[?25h[?25l[41;117H~@k[25;17H[41;117H   [24;1H[41;129H5,0-1[24;1H[?12l[?25h[?25l[41;117H~@k[24;1H[41;117H   [25;17H[41;129H6,17 [25;17H[?12l[?25h[?25l[41;117H7[25;17H[?12l[?25h[?25l[41;118Hd[25;17H[?12l[?25h[?25l[41;119Hd[25;17H[41;1H7 fewer lines[41;117H[K[25;17H[25;40r[25;1H[7M[1;41r[34;1H[1m[34m~                                                                                                                                               [35;1H~                                                                                                                                               [36;1H~                                                                                                                                               [37;1H~                                                                                                                                               [38;1H~                                                                                                                                               [39;1H~                                                                                                                                               [40;1H~                                                                                                                                               [m[41;1H[K[41;127H146,3-17      Bot7 fewer lines[41;127H[K[41;127H146,3-17      Bot[25;17H[?12l[?25h[?25l[41;117Hd[25;17H[?12l[?25h[?25l[41;118Hd[25;17H[41;117H  [25;9H[25;40r[40;1H
[1;41r[40;1H[1m[34m~                                                                                                                                               [m[41;1H[K[41;127H146,2-9[7CBot[25;9H[?12l[?25h[?25l[41;117Hd[25;9H[?12l[?25h[?25l[41;118Hd[25;9H[41;117H  [25;9H[25;40r[40;1H
[1;41r[40;1H[1m[34m~                                                                                                                                               [m[41;127H[K[41;127H146,2-9[7CBot[25;9H[?12l[?25h[?25l[41;117Hd[25;9H[?12l[?25h[?25l[41;118Hd[25;9H[41;117H  [25;1H[25;40r[40;1H
[1;41r[40;1H[1m[34m~                                                                                                                                               [m[41;127H[K[41;127H146,1[9CBot[25;1H[?12l[?25h[?25l[41;117Hd[25;1H[?12l[?25h[?25l[41;118Hd[25;1H[41;117H  [25;1H[25;40r[40;1H
[1;41r[40;1H[1m[34m~                                                                                                                                               [m[41;127H[K[41;127H146,0-1[7CBot[25;1H[?12l[?25h[?25l[41;117H^[[25;1H[41;117H  [25;1H[41;117H^[[25;1H[41;117H  [25;1H[?12l[?25h[?25l[41;117H:[25;1H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"hdmi_gpio.c" 150L, 3909C written[25;1H[41;127H146,0-1[7CBot[41;127H[K[41;127H146,0-1[7CBot[25;1H[?12l[?25h[?25l[41;117H^[[25;1H[41;117H  [25;1H[41;117H^[[25;1H[41;117H  [25;1H[?12l[?25h[?25l[41;117H:[25;1H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"hdmi_gpio.c" 150L, 3909C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m vim hdmi_gpio.c 
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"hdmi_gpio.c" 150L, 3909C[>c[1;9H}[2;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);
[35m#if 0[m
[34m        error = device_create_file(dev,&dev_attr_read);
        if (error){
                put_device(dev);
                pr_err("No Read device attribute Added%d\n", error);
        }
        error = device_create_file(dev,&dev_attr_change);
        if (error){
                put_device(dev);
                pr_err("No Change device attribute Added%d\n", error);
        }[m
[35m#endif[m[15;9H[33mif[m(check == [31m"L"[m){[16;17Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[17;17H[33mif[m (error){[18;25Hkobject_put(&dev->kobj);[19;25Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[20;17H}[21;9H}[22;9Hflag = [31m1[m;[23;9Hmsleep([31m1000[m);
}[25;9H[33mreturn[m error;
}

[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)
{[30;9Hmisc_deregister(&hdmi_dev);[31;9Hgpio_unexport(hdmi_gpio);[32;9Hgpio_free(hdmi_gpio);[33;9Hpr_info([31m"[m[35m\n[m[31m"[m);
}


module_init(module_start);
module_exit(module_end);
MODULE_LICENSE([31m"GPL"[m);
MODULE_DESCRIPTION([31m"HDMI Device"[m);[41;127H146,0-1[7CBot[36;1H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[36;1H[41;117H   [35;1H[41;129H5[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [34;1H[29;1H[46m{[34;1H}[m[41;129H4,1  [34;1H[?12l[?25h[?25l[41;117H~@k[34;1H[41;117H   [33;8H[29;1H{[34;1H}[41;129H3,1-8[33;8H[?12l[?25h[?25l[41;117H~@k[33;8H[41;117H   [32;8H[41;129H2[32;8H[?12l[?25h[?25l[41;117H~@k[32;8H[41;117H   [31;8H[41;129H1[31;8H[?12l[?25h[?25l[41;117H~@k[31;8H[41;117H   [30;8H[41;129H0[30;8H[?12l[?25h[?25l[41;117H~@k[30;8H[41;117H   [29;1H[46m{[34;1H}[m[41;128H39,1  [29;1H[?12l[?25h[?25l[41;117H~@k[29;1H[41;117H   [28;1H
{[34;1H}[41;129H8[28;1H[?12l[?25h[?25l[41;117H~@k[28;1H[41;117H   [27;1H[41;129H7,0-1[27;1H[?12l[?25h[?25l[41;117H~@k[27;1H[41;117H   [26;1H[41;129H6,1  [26;1H[?12l[?25h[?25l[41;117H~@k[26;1H[41;117H   [25;8H[41;129H5,1-8[25;8H[?12l[?25h[?25l[41;117H~@k[25;8H[41;117H   [24;1H[41;129H4,1  [24;1H[?12l[?25h[?25l[41;117H~@k[24;1H[41;117H   [23;8H[41;129H3,1-8[23;8H[?12l[?25h[?25l[41;117H~@k[23;8H[41;117H   [22;8H[41;129H2[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H   [21;8H[41;129H1[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H   [20;8H[41;129H0[20;8H[?12l[?25h[?25l[41;117H~@k[20;8H[41;117H   [19;8H[41;128H29[19;8H[?12l[?25h[?25l[41;117H~@k[19;8H[41;117H   [18;8H[41;129H8[18;8H[?12l[?25h[?25l[41;117H~@k[18;8H[41;117H   [17;8H[41;129H7[17;8H[?12l[?25h[?25l[41;117H~@k[17;8H[41;117H   [16;8H[41;129H6[16;8H[?12l[?25h[?25l[41;117H~@k[16;8H[41;117H   [16;16H[41;131H2-16[16;16H[?12l[?25h[?25l[41;117H~@k[16;16H[41;117H   [15;16H[41;129H5,9[15;16H[?12l[?25h[?25l[41;117H~@k[15;16H[41;117H   [15;17H[41;131H10-17[15;17H[?12l[?25h[?25l[41;117H~@k[15;17H[41;117H   [15;18H[41;132H1-18[15;18H[?12l[?25h[?25l[41;117H~@k[15;18H[41;117H   [15;19H[41;132H2-19[15;19H[?12l[?25h[?25l[41;117H~@k[15;19H[41;117H   [15;20H[41;132H3-20[15;20H[?12l[?25h[?25l[41;117H~@k[15;20H[41;117H   [15;21H[41;132H4-21[15;21H[?12l[?25h[?25l[41;117Hi[15;21H[41;117H [15;21H[41;1H[1m-- INSERT --[m[41;13H[K[41;127H125,14-21     Bot[15;21H[?12l[?25h[?25l[41;132H5-22[15;22H[?12l[?25h[?25l[41;132H6-23[15;23H[?12l[?25h[?25l[15;11H[46m([12C)[m[41;132H7-24[15;24H[?12l[?25h[?25l[31m)[m[31m[46m{[m[15;25H[K[16;1H[31m                error = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);
                if (error){
                        kobject_put(&dev->kobj);
                        pr_err([m[1CNo kobject_uevent %d\n[1C[31m, error);
                }
        }
        flag = 1;
        msleep(1000);
}
        return error;
}

static void __exit module_end(void)
{
        misc_deregister(&hdmi_dev);
        gpio_unexport(hdmi_gpio);
        gpio_free(hdmi_gpio);
        pr_info([m[1C\n[1C[31m);
}


module_init(module_start);
module_exit(module_end);
MODULE_LICENSE([m[1CGP[2C[31m);
MODULE_DESCRIPTION([m[1CHDMI Device[1C[31m);[m[15;23H[31m[46m)[m[31m{[m[41;132H6-23[15;23H[?12l[?25h[?25l[31m)[m[31m[46m{[m[15;24H[K[15;22H[31m[46m)[m[31m{[m[41;132H5-22[15;22H[?12l[?25h[?25l)[46m{[m[15;23H[K[16;1H                error = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);
                [33mif[m (error){
                        kobject_put(&dev->kobj);
                        pr_err([1C[31mNo kobject_uevent [m[35m%d\n[m[1C, error);
                }
        }
        flag = [1C;
        msleep([4C);
}
        [33mreturn[m error;
}

[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)
{
        misc_deregister(&hdmi_dev);
        gpio_unexport(hdmi_gpio);
        gpio_free(hdmi_gpio);
        pr_info([1C[35m\n[m[1C);
}


module_init(module_start);
module_exit(module_end);
MODULE_LICENSE([1C[31mGP[m[2C);
MODULE_DESCRIPTION([1C[31mHDMI Device[m[1C);[15;21H[46m)[m{[41;132H4-21[15;21H[?12l[?25h[?25l[46m'[m){'[46m)[m[41;132H5-22[15;22H[?12l[?25h[?25l[46m'[m){'[46m)[m[41;132H6-23[15;23H[?12l[?25h[?25l[15;11H([11C)[41;132H5-22[15;22H[?12l[?25h[?25l[31m'L'[m){[41;132H6-23[15;23H[?12l[?25h[?25l[41;129H4,7    [14;7H[?12l[?25h[?25l[10;19H[34m[46m{[13;9H}[m[41;129H3,3-10[13;10H[?12l[?25h[?25l[10;19H[34m{[m[12;23H[34m[46m([45C)[m[13;9H[34m}[m[41;129H2,9-23[12;23H[?12l[?25h[?25l[34m([45C)[m[41;129H1[11;23H[?12l[?25h[?25l[10;19H[34m[46m{[13;9H}[m[41;129H0,13-20[10;20H[?12l[?25h[?25l[34m{[13;9H}[m[41;128H19,16-23[9;23H[?12l[?25h[?25l[5;19H[34m[46m{[8;9H}[m[41;129H8,3-10 [8;10H[?12l[?25h[?25l[5;19H[34m{[m[7;23H[34m[46m([43C)[m[8;9H[34m}[m[41;129H7,9-23[7;23H[?12l[?25h[?25l[34m([43C)[m[41;129H6[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;17Hmsleep([31m1000[m);[41;127H[K[41;127H115,13-20     99%[6;19H[34m[46m{[9;9H}[6;20H[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H114,16-23     98%[7;19H[34m{[10;9H}[6;23H[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;17H}[41;127H[K[41;127H113,6[9C97%[6;6H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;25Hflag = [31m0[m;[41;127H[K[41;127H112,16-23     96%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;25Hcheck = edid_tag1.edid_block[[31m95[m];[41;127H[K[41;127H111,3-10      95%[6;10H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;25Hget_projector_id(fwr,fw);[41;127H[K[41;127H110,9-23      94%[6;23H[46m([4C)[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;17H[33mif[m(flag){[41;127H[K[41;127H109,9-23      93%[7;23H([4C)[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H108,4-18      92%[2;25H[46m{[6;17H}[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;9H}[41;127H[K[41;127H107,3-17      91%[3;25H{[7;17H}[6;17H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;17Hmsleep([31m1000[m);[41;127H[K[41;127H106,3-17      90%[6;17H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H105,3-17      90%[6;17H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H104,9-23      89%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H103,16-23     88%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H[33mwhile[m([31m1[m){[41;127H[K[41;127H102,3-10      87%[3;29H[46m{[6;9H}[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;9Hgpio_export(hdmi_gpio,[31mfalse[m);[41;127H[K[41;127H101,9-23      86%[4;29H{[6;23H[46m([4C)[m[7;9H}[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9Hgpio_direction_input(hdmi_gpio);[41;127H[K[41;127H100,9-23      85%[7;23H([4C)[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H99,16-23      84%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H}[41;127H[K[41;127H98,16-23      83%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H97,10[9C82%[6;10H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H96,16-23      81%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H95,16-23      80%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[41;127H[K[41;127H94,16-23      80%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H93,3-10[7C79%[3;38H[46m{[6;9H}[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;9H[33mif[m (error)[41;127H[K[41;127H92,9-23[7C78%[4;38H{[7;9H}[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9Herror = misc_register(&hdmi_dev);[41;127H[K[41;127H91,9-23[7C77%[6;23H[46m([37C)[6;23H[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[41;127H[K[41;127H90,16-23      76%[7;23H([37C)[6;23H[1;40r[1;1H[L[1;41r[1;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H89,2-9[8C75%[6;9H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[41;127H[K[41;127H88,9-23[7C74%[6;23H[46m([19C)[6;23H[?12l[?25h[?25l[1;40r[m[1;1H[L[1;41r[1;9H[34m//fw = of_find_compatible_node(NULL,);[m[41;127H[K[41;127H87,12-19      73%[6;12H[46m([merror[46m)[m[7;23H([19C)[6;19H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[32mstruct[m device_node *fwr = [31mNULL[m;[41;127H[K[41;127H86,16-23      72%[7;12H(error)[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[32mstruct[m device *dev = hdmi_dev.this_device;[41;127H[K[41;127H85,1[10C71%[6;1H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[41;127H[K[41;127H84,16-23      70%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[32mchar[m check = [31m"L"[m;[41;127H[K[41;127H83,16-23      70%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[32mint[m error=[31m0[m,flag=[31m1[m;[41;127H[K[41;127H82,16-23      69%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H{[41;127H[K[41;127H81,16-23      68%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H[32mstatic[m [32mint[m __init module_start([32mvoid[m)[41;127H[K[41;127H80,16-23      67%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};[41;127H[K[41;127H79,16-23      66%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H};[41;127H[K[41;127H78,16-23      65%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H.minor = MISC_DYNAMIC_MINOR,[41;127H[K[41;127H77,16-23      64%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H.name = [31m"hdmi_device"[m,[41;127H[K[41;127H76,2[10C63%[6;2H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[41;127H[K[41;127H75,23[9C62%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;1H};[41;127H[K[41;127H74,23[9C61%[6;23H[?12l[?25h[?25l[1;40r[1;1H[L[1;41r[1;9H[31mNULL[m[41;127H[K[41;127H73,3[10C60%[6;3H[?12l[?25h[?25l[41;128H4,23[7;23H[?12l[?25h[?25l[41;128H5[8;23H[?12l[?25h[?25l[41;128H6,2 [9;2H[?12l[?25h[?25l[41;128H7,16-23[10;23H[?12l[?25h[?25l[41;128H8[11;23H[?12l[?25h[?25l[41;131H7-24[11;24H[?12l[?25h[?25l[41;131H8-25[11;25H[?12l[?25h[?25l[31m;[m[11;25H[K[41;131H7-24[11;24H[?12l[?25h[?25l[31m;[m[11;24H[K[41;131H6-23[11;23H[?12l[?25h[?25l;[11;23H[K[41;131H5-22[11;22H[?12l[?25h[?25l';[41;131H6-23[11;23H[?12l[?25h[?25l';[41;131H7-24[11;24H[?12l[?25h[?25l[41;131H6-23[11;23H[?12l[?25h[?25l[31m'L'[m;[41;131H7-24[11;24H[?12l[?25h[41;1H[K[11;23H[?25l[41;117H^[[11;23H[41;117H  [11;24H[41;127H78,16-23      60%[11;23H[?12l[?25h[?25l[41;117H:[11;23H[41;117H[K[41;1H:[?12l[?25hw[?25l[?12l[?25h[?25l"hdmi_gpio.c" 150L, 3909C written[11;23H[41;127H78,16-23      60%[41;127H[K[41;127H78,16-23      60%[11;23H[?12l[?25h[?25l[41;117H^[[11;23H[41;117H  [11;23H[41;117H^[[11;23H[41;117H  [11;23H[?12l[?25h[?25l[41;117H:[11;23H[41;1H[K[41;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[?1006l[?1002l"hdmi_gpio.c" 150L, 3909C written
[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m clear
[3J[H[2J]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m make
make -C /lib/modules/4.9.45-v7+/build M=/home/pi/DDD/A2/hdmi_uevent modules
make[1]: Entering directory '/home/pi/linux'
  CC [M]  /home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.o
[01m[K/home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.c:66:38:[m[K [01;35m[Kwarning: [m[Kâ€˜[01m[Kdev_attr_groups[m[Kâ€™ defined but not used [[01;35m[K-Wunused-variable[m[K]
 static const struct attribute_group *[01;35m[Kdev_attr_groups[m[K[] = {
                                      [01;35m[K^~~~~~~~~~~~~~~[m[K
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.mod.o
  LD [M]  /home/pi/DDD/A2/hdmi_uevent/hdmi_gpio.ko
make[1]: Leaving directory '/home/pi/linux'
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m makeclearvim hdmi_gpio.c clear[K[1Pmake[Ksudo rmmod mailbox 
Segmentation fault
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m sudo rmmod mailbox [Kclear
[3J[H[2J]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m lsmod
Module                  Size  Used by
mailbox                 1139  -1
bluetooth             366964  0
fuse                   99353  3
uinput                  9137  1
cfg80211              544080  0
rfkill                 21008  3 bluetooth,cfg80211
snd_bcm2835            24375  1
bcm2835_gpiomem         3900  0
snd_pcm                98333  1 snd_bcm2835
snd_timer              24111  1 snd_pcm
snd                    70454  5 snd_timer,snd_bcm2835,snd_pcm
lirc_rpi                8845  3
uio_pdrv_genirq         3923  0
uio                    10396  1 uio_pdrv_genirq
fixed                   3285  0
lirc_dev               10519  1 lirc_rpi
rc_core                24407  1 lirc_dev
i2c_dev                 7041  0
ip_tables              13142  0
x_tables               20590  1 ip_tables
ipv6                  408183  28
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m cd ../mailbox/
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m vim mailbox.c
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"mailbox.c" 39L, 1185C[>c[1;1H[35m#include [m[31m<linux/dma-mapping.h>[m
[35m#include [m[31m<linux/mailbox_client.h>[m
[35m#include [m[31m<linux/module.h>[m
[35m#include [m[31m<linux/of_platform.h>[m
[35m#include [m[31m<linux/platform_device.h>[m
[35m#include [m[31m<soc/bcm2835/raspberrypi-firmware.h>[m

[32mstruct[m edid_tag{[9;9Hu32 block_number;[10;9Hu32 status;[11;9H[32munsigned[m [32mchar[m edid_block[[31m128[m];
}edid_tag1;

[32mstatic[m [32mint[m __init mailbox_init([32mvoid[m){[15;9H[32mint[m error;[16;9Hprintk(KERN_INFO [31m"init[m[35m\n[m[31m"[m);[17;9H[32mstruct[m device_node *fwr = [31mNULL[m;[18;9H[34m//fw = of_find_compatible_node(NULL,);[m[19;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[20;9Hprintk(KERN_INFO [31m"rpi_firmware_get := [m[35m%p[m[31m"[m,fw);[21;9Hedid_tag1.block_number = [31m0[m;[22;9Hedid_tag1.status = [31m0[m;[23;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++)[24;17Hedid_tag1.edid_block[error] = [31m0[m;[25;9Herror = rpi_firmware_property(fw,RPI_FIRMWARE_GET_EDID_BLOCK,&edid_tag1,[33msizeof[m(edid_tag1));[26;9Hprintk(KERN_INFO [31m"Block No:[m[35m%x[m[31m, status:[m[35m%x[m[31m, error:[m[35m%d[m[31m"[m,edid_tag1.block_number,edid_tag1.status,error);[27;9H[33mfor[m(error=[31m0[m;error<[31m128[m;error++){[28;17Hprintk([31m"edid_block[[m[35m%d[m[31m] := [m[35m%c\n[m[31m"[m,error,edid_tag1.edid_block[error]);[29;9H}[30;9H[33mreturn[m [31m1[m;
}
[32mstatic[m [32mvoid[m __init mailbox_exit([32mvoid[m){[33;9Hprintk(KERN_INFO [31m"exit[m[35m\n[m[31m"[m);
}
module_init(mailbox_init);
module_exit(mailbox_exit);

MODULE_DESCRIPTION([31m"rpi driver for mailbox hdmi read"[m);
MODULE_LICENSE([31m"GPL"[m);
[1m[34m~                                                                                                                                               [m[41;127H35,8[10CAll[35;8H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[35;8H[41;117H   [36;8H[41;128H6[36;8H[?12l[?25h[?25l[41;117H~@k[36;8H[41;117H   [37;1H[41;128H7,0-1[37;1H[?12l[?25h[?25l[41;117H~@k[37;1H[41;117H   [38;8H[41;128H8,8  [38;8H[?12l[?25h[?25l[41;117H~@k[38;8H[41;117H   [39;8H[41;128H9[39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [39;8H[?12l[?25h[?25l[41;117H~@k[39;8H[41;117H   [38;8H[41;128H8[38;8H[?12l[?25h[?25l[41;117H~@k[38;8H[41;117H   [37;1H[41;128H7,0-1[37;1H[?12l[?25h[?25l[41;117H~@k[37;1H[41;117H   [36;8H[41;128H6,8  [36;8H[?12l[?25h[?25l[41;117H~@k[36;8H[41;117H   [35;8H[41;128H5[35;8H[?12l[?25h[?25l[41;117H~@k[35;8H[41;117H   [34;1H[32;38H[46m{

}[m[41;128H4,1[34;1H[?12l[?25h[?25l[41;117H~@k[34;1H[41;117H   [33;8H[32;38H{

}[41;128H3,1-8[33;8H[?12l[?25h[?25l[41;117H~@k[33;8H[41;117H   [32;8H[41;128H2,8  [32;8H[?12l[?25h[?25l[41;117H~@k[32;8H[41;117H   [31;1H[14;37H[46m{[31;1H}[m[41;128H1,1[31;1H[?12l[?25h[?25l[41;117H~@k[31;1H[41;117H   [30;8H[14;37H{[31;1H}[41;128H0,1-8[30;8H[?12l[?25h[?25l[41;117H~@k[30;8H[41;117H   [29;8H[41;127H29[29;8H[?12l[?25h[?25l[41;117H~@k[29;8H[41;117H   [28;8H[41;128H8[28;8H[?12l[?25h[?25l[41;117H~@k[28;8H[41;117H   [27;8H[41;128H7[27;8H[?12l[?25h[?25l[41;117H~@k[27;8H[41;117H   [26;8H[41;128H6[26;8H[?12l[?25h[?25l[41;117H~@k[26;8H[41;117H   [25;8H[41;128H5[25;8H[?12l[?25h[?25l[41;117H~@k[25;8H[41;117H   [24;8H[41;128H4[24;8H[?12l[?25h[?25l[41;117H~@k[24;8H[41;117H   [23;8H[41;128H3[23;8H[?12l[?25h[?25l[41;117H~@k[23;8H[41;117H   [22;8H[41;128H2[22;8H[?12l[?25h[?25l[41;117H~@k[22;8H[41;117H   [21;8H[41;128H1[21;8H[?12l[?25h[?25l[41;117H~@k[21;8H[41;117H   [20;8H[41;128H0[20;8H[?12l[?25h[?25l[41;117H~@k[20;8H[41;117H   [19;8H[41;127H19[19;8H[?12l[?25h[?25l[41;117H^[[19;8H[41;117H  [19;8H[41;117H^[[19;8H[41;117H  [19;8H[?12l[?25h[?25l[41;117H:[19;8H[41;1H[K[41;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[?1006l[?1002l[41;1H[K[41;1H[?1l>[?12l[?25h[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m script -a 
.bcm2835-mailbox.c.swp  mailbox.ko              mailbox.mod.o           .mailbox.o.cmd          Module.symvers
mailbox                 .mailbox.ko.cmd         .mailbox.mod.o.cmd      Makefile                .tmp_versions/
mailbox.c               mailbox.mod.c           mailbox.o               modules.order           
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m script -a mailbox
Script started, file is mailbox
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m exit[Ksudo insmod mailbox.[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Krmmod mailbox
rmmod: ERROR: Module mailbox is in use
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m dmesg
[32m[    0.000000] [0mBooting Linux on physical CPU 0xf00
[32m[    0.000000] [0mLinux version 4.9.45-v7+ (pi@raspberrypi) (gcc version 6.3.0 20170516 (Raspbian 6.3.0-18+rpi1) ) #1 SMP Mon Aug 28 05:49:02 UTC 2017
[32m[    0.000000] [0m[33mCPU[0m: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[32m[    0.000000] [0m[33mCPU[0m: div instructions available: patching division code
[32m[    0.000000] [0m[33mCPU[0m: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[32m[    0.000000] [0m[33mOF[0m: fdt:Machine model: Raspberry Pi 2 Model B Rev 1.1
[32m[    0.000000] [0m[33mcma[0m: Reserved 8 MiB at 0x3ac00000
[32m[    0.000000] [0m[33mMemory policy[0m: Data cache writealloc
[32m[    0.000000] [0m[33mOn node 0 totalpages[0m: 242688
[32m[    0.000000] [0m[33mfree_area_init_node[0m: node 0, pgdat 80c6ee00, node_mem_map ba3a1000
[32m[    0.000000] [0m[33m  Normal zone[0m: 2133 pages used for memmap
[32m[    0.000000] [0m[33m  Normal zone[0m: 0 pages reserved
[32m[    0.000000] [0m[33m  Normal zone[0m: 242688 pages, LIFO batch:31
[32m[    0.000000] [0m[33mpercpu[0m: Embedded 14 pages/cpu @ba35b000 s25548 r8192 d23604 u57344
[32m[    0.000000] [0m[33mpcpu-alloc[0m: s25548 r8192 d23604 u57344 alloc=14*4096
[32m[    0.000000] [0m[33mpcpu-alloc[0m: [0] 0 [0] 1 [0] 2 [0] 3 
[32m[    0.000000] [0m[33mBuilt 1 zonelists in Zone order, mobility grouping on.  Total pages[0m: 240555
[32m[    0.000000] [0m[33mKernel command line[0m: bcm2708_fb.fbwidth=656 bcm2708_fb.fbheight=416 bcm2708_fb.fbswap=1 vc_mem.mem_base=0x3ec00000 vc_mem.mem_size=0x40000000  dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=PARTUUID=ead4320c-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait quiet splash plymouth.ignore-serial-consoles
[32m[    0.000000] [0m[33mPID hash table entries[0m: 4096 (order: 2, 16384 bytes)
[32m[    0.000000] [0m[33mDentry cache hash table entries[0m: 131072 (order: 7, 524288 bytes)
[32m[    0.000000] [0m[33mInode-cache hash table entries[0m: 65536 (order: 6, 262144 bytes)
[32m[    0.000000] [0m[33mMemory[0m: 940356K/970752K available (7168K kernel code, 484K rwdata, 2012K rodata, 1024K init, 778K bss, 22204K reserved, 8192K cma-reserved)
[32m[    0.000000] [0m[33mVirtual kernel memory layout:
                   vector  [0m: 0xffff0000 - 0xffff1000   (   4 kB)
                   fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
                   vmalloc : 0xbb800000 - 0xff800000   (1088 MB)
                   lowmem  : 0x80000000 - 0xbb400000   ( 948 MB)
                   modules : 0x7f000000 - 0x80000000   (  16 MB)
                     .text : 0x80008000 - 0x80800000   (8160 kB)
                     .init : 0x80b00000 - 0x80c00000   (1024 kB)
                     .data : 0x80c00000 - 0x80c79004   ( 485 kB)
                      .bss : 0x80c7b000 - 0x80d3d8d4   ( 779 kB)
[32m[    0.000000] [0m[33mSLUB[0m: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[32m[    0.000000] [0mHierarchical RCU implementation.
[32m[    0.000000] [0m	Build-time adjustment of leaf fanout to 32.
[32m[    0.000000] [0mNR_IRQS:16 nr_irqs:16 16
[32m[    0.000000] [0m[33marm_arch_timer[0m: Architected cp15 timer(s) running at 19.20MHz (phys).
[32m[    0.000000] [0m[33mclocksource[0m: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x46d987e47, max_idle_ns: 440795202767 ns
[32m[    0.000009] [0m[33msched_clock[0m: 56 bits at 19MHz, resolution 52ns, wraps every 4398046511078ns
[32m[    0.000024] [0mSwitching to timer-based delay loop, resolution 52ns
[32m[    0.000321] [0m[33mConsole[0m: colour dummy device 80x30
[32m[    0.000346] [0mconsole [tty1] enabled
[32m[    0.000371] [0mCalibrating delay loop (skipped), value calculated using timer frequency.. 38.40 BogoMIPS (lpj=192000)
[32m[    0.000392] [0m[33mpid_max[0m: default: 32768 minimum: 301
[32m[    0.000760] [0m[33mMount-cache hash table entries[0m: 2048 (order: 1, 8192 bytes)
[32m[    0.000774] [0m[33mMountpoint-cache hash table entries[0m: 2048 (order: 1, 8192 bytes)
[32m[    0.001885] [0mDisabling cpuset control group subsystem
[32m[    0.002069] [0m[33mCPU[0m: Testing write buffer coherency: ok
[32m[    0.002123] [0m[33mftrace[0m: allocating 22272 entries in 66 pages
[32m[    0.053178] [0m[33mCPU0[0m: update cpu_capacity 1024
[32m[    0.053198] [0m[33mCPU0[0m: thread -1, cpu 0, socket 15, mpidr 80000f00
[32m[    0.053243] [0mSetting up static identity map for 0x100000 - 0x100034
[32m[    0.055960] [0m[33mCPU1[0m: update cpu_capacity 1024
[32m[    0.055971] [0m[33mCPU1[0m: thread -1, cpu 1, socket 15, mpidr 80000f01
[32m[    0.056942] [0m[33mCPU2[0m: update cpu_capacity 1024
[32m[    0.056951] [0m[33mCPU2[0m: thread -1, cpu 2, socket 15, mpidr 80000f02
[32m[    0.057885] [0m[33mCPU3[0m: update cpu_capacity 1024
[32m[    0.057895] [0m[33mCPU3[0m: thread -1, cpu 3, socket 15, mpidr 80000f03
[32m[    0.058020] [0mBrought up 4 CPUs
[32m[    0.058035] [0m[33mSMP[0m: Total of 4 processors activated (153.60 BogoMIPS).
[32m[    0.058040] [0m[33mCPU[0m: All CPU(s) started in HYP mode.
[32m[    0.058045] [0m[33mCPU[0m: Virtualization extensions available.
[32m[    0.059155] [0m[33mdevtmpfs[0m: initialized
[32m[    0.072492] [0m[33mVFP support v0.3[0m: implementor 41 architecture 2 part 30 variant 7 rev 5
[32m[    0.072923] [0m[33mclocksource[0m: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[32m[    0.072949] [0m[33mfutex hash table entries[0m: 1024 (order: 4, 65536 bytes)
[32m[    0.073743] [0m[33mpinctrl core[0m: initialized pinctrl subsystem
[32m[    0.075025] [0m[33mNET[0m: Registered protocol family 16
[32m[    0.077646] [0m[33mDMA[0m: preallocated 1024 KiB pool for atomic coherent allocations
[32m[    0.087922] [0m[33mhw-breakpoint[0m: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[32m[    0.087932] [0m[33mhw-breakpoint[0m: maximum watchpoint size is 8 bytes.
[32m[    0.088129] [0m[33mSerial[0m: AMBA PL011 UART driver
[32m[    0.090616] [0m[33mbcm2835-mbox 3f00b880.mailbox[0m: mailbox enabled
[32m[    0.174578] [0m[33mbcm2835-dma 3f007000.dma[0m: DMA legacy API manager at bb80f000, dmachans=0x1
[32m[    0.176940] [0mSCSI subsystem initialized
[32m[    0.177142] [0m[33musbcore[0m: registered new interface driver usbfs
[32m[    0.177248] [0m[33musbcore[0m: registered new interface driver hub
[32m[    0.177398] [0m[33musbcore[0m: registered new device driver usb
[32m[    0.183037] [0m[33mraspberrypi-firmware soc:firmware[0m: Attached to firmware from 2017-08-08 12:01
[32m[    0.184867] [0m[33mclocksource[0m: Switched to clocksource arch_sys_counter
[32m[    0.239841] [0m[33mVFS[0m: Disk quotas dquot_6.6.0
[32m[    0.239947] [0m[33mVFS[0m: Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[32m[    0.240219] [0m[33mFS-Cache[0m: Loaded
[32m[    0.240566] [0m[33mCacheFiles[0m: Loaded
[32m[    0.256920] [0m[33mNET[0m: Registered protocol family 2
[32m[    0.258153] [0m[33mTCP established hash table entries[0m: 8192 (order: 3, 32768 bytes)
[32m[    0.258284] [0m[33mTCP bind hash table entries[0m: 8192 (order: 4, 65536 bytes)
[32m[    0.258471] [0m[33mTCP[0m: Hash tables configured (established 8192 bind 8192)
[32m[    0.258585] [0m[33mUDP hash table entries[0m: 512 (order: 2, 16384 bytes)
[32m[    0.258643] [0m[33mUDP-Lite hash table entries[0m: 512 (order: 2, 16384 bytes)
[32m[    0.258960] [0m[33mNET[0m: Registered protocol family 1
[32m[    0.259601] [0m[33mRPC[0m: Registered named UNIX socket transport module.
[32m[    0.259609] [0m[33mRPC[0m: Registered udp transport module.
[32m[    0.259614] [0m[33mRPC[0m: Registered tcp transport module.
[32m[    0.259620] [0m[33mRPC[0m: Registered tcp NFSv4.1 backchannel transport module.
[32m[    0.260811] [0m[33mhw perfevents[0m: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[32m[    0.263775] [0m[33mworkingset[0m: timestamp_bits=14 max_order=18 bucket_order=4
[32m[    0.282386] [0m[33mFS-Cache[0m: Netfs 'nfs' registered for caching
[32m[    0.283645] [0m[33mNFS[0m: Registering the id_resolver key type
[32m[    0.283683] [0mKey type id_resolver registered
[32m[    0.283689] [0mKey type id_legacy registered
[32m[    0.286979] [0mBlock layer SCSI generic (bsg) driver version 0.4 loaded (major 251)
[32m[    0.287151] [0mio scheduler noop registered
[32m[    0.287159] [0mio scheduler deadline registered (default)
[32m[    0.287515] [0mio scheduler cfq registered
[32m[    0.293094] [0m[33mBCM2708FB[0m: allocated DMA memory fad00000
[32m[    0.293133] [0m[33mBCM2708FB[0m: allocated DMA channel 0 @ bb80f000
[32m[    0.301937] [0m[33mConsole[0m: switching to colour frame buffer device 82x26
[32m[    0.308765] [0m[33mbcm2835-rng 3f104000.rng[0m: hwrng registered
[32m[    0.308886] [0m[33mvc-cma[0m: Videocore CMA driver
[32m[    0.308893] [0m[33mvc-cma[0m: vc_cma_base      = 0x00000000
[32m[    0.308900] [0m[33mvc-cma[0m: vc_cma_size      = 0x00000000 (0 MiB)
[32m[    0.308906] [0m[33mvc-cma[0m: vc_cma_initial   = 0x00000000 (0 MiB)
[32m[    0.309168] [0m[33mvc-mem[0m: phys_addr:0x00000000 mem_base=0x3ec00000 mem_size:0x40000000(1024 MiB)
[32m[    0.329669] [0m[33mbrd[0m: module loaded
[32m[    0.340808] [0m[33mloop[0m: module loaded
[32m[    0.340823] [0mLoading iSCSI transport class v2.0-870.
[32m[    0.341526] [0m[33musbcore[0m: registered new interface driver smsc95xx
[32m[    0.341550] [0m[33mdwc_otg[0m: version 3.00a 10-AUG-2012 (platform bus)
[32m[    0.569774] [0m[33mCore Release[0m[1m: 2.80a[0m
[32m[    0.569787] [0m[1mSetting default values for core params[0m
[32m[    0.569823] [0m[1mFinished setting default values for core params[0m
[32m[    0.770277] [0m[1mUsing Buffer DMA mode[0m
[32m[    0.770284] [0m[1mPeriodic Transfer Interrupt Enhancement - disabled[0m
[32m[    0.770289] [0m[1mMultiprocessor Interrupt Enhancement - disabled[0m
[32m[    0.770298] [0m[33mOTG VER PARAM[0m[1m: 0, OTG VER FLAG: 0[0m
[32m[    0.770316] [0m[1mDedicated Tx FIFOs mode[0m
[32m[    0.770808] [0m[33mWARN::dwc_otg_hcd_init:1032[0m[1m: FIQ DMA bounce buffers: virt = 0xbad14000 dma = 0xfad14000 len=9024[0m
[32m[    0.770839] [0m[1mFIQ FSM acceleration enabled for :
               Non-periodic Split Transactions
               Periodic Split Transactions
               High-Speed Isochronous Endpoints
               Interrupt/Control Split Transaction hack enabled[0m
[32m[    0.770848] [0m[33mdwc_otg[0m: Microframe scheduler enabled
[32m[    0.770913] [0m[33mWARN::hcd_init_fiq:459[0m[1m: FIQ on core 1 at 0x80591b14[0m
[32m[    0.770924] [0m[33mWARN::hcd_init_fiq:460[0m[1m: FIQ ASM at 0x80591e74 length 36[0m
[32m[    0.770937] [0m[33mWARN::hcd_init_fiq:486[0m[1m: MPHI regs_base at 0xbb87a000[0m
[32m[    0.771016] [0m[33mdwc_otg 3f980000.usb[0m: DWC OTG Controller
[32m[    0.771064] [0m[33mdwc_otg 3f980000.usb[0m: new USB bus registered, assigned bus number 1
[32m[    0.771110] [0m[33mdwc_otg 3f980000.usb[0m: irq 62, io mem 0x00000000
[32m[    0.771159] [0m[33mInit[0m[1m: Port Power? op_state=1[0m
[32m[    0.771165] [0m[33mInit[0m[1m: Power Port (0)[0m
[32m[    0.771469] [0m[33musb usb1[0m: New USB device found, idVendor=1d6b, idProduct=0002
[32m[    0.771482] [0m[33musb usb1[0m: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[32m[    0.771492] [0m[33musb usb1[0m: Product: DWC OTG Controller
[32m[    0.771502] [0m[33musb usb1[0m: Manufacturer: Linux 4.9.45-v7+ dwc_otg_hcd
[32m[    0.771511] [0m[33musb usb1[0m: SerialNumber: 3f980000.usb
[32m[    0.772546] [0m[33mhub 1-0:1.0[0m: USB hub found
[32m[    0.772608] [0m[33mhub 1-0:1.0[0m: 1 port detected
[32m[    0.773488] [0m[33mdwc_otg[0m: FIQ enabled
[32m[    0.773495] [0m[33mdwc_otg[0m: NAK holdoff enabled
[32m[    0.773500] [0m[33mdwc_otg[0m: FIQ split-transaction FSM enabled
[32m[    0.773518] [0mModule dwc_common_port init
[32m[    0.773848] [0m[33musbcore[0m: registered new interface driver usb-storage
[32m[    0.774210] [0m[33mmousedev[0m: PS/2 mouse device common for all mice
[32m[    0.775557] [0m[33mbcm2835-wdt 3f100000.watchdog[0m: Broadcom BCM2835 watchdog timer
[32m[    0.775936] [0m[33mbcm2835-cpufreq[0m: min=600000 max=900000
[32m[    0.776454] [0m[33msdhci[0m: Secure Digital Host Controller Interface driver
[32m[    0.776459] [0m[33msdhci[0m: Copyright(c) Pierre Ossman
[32m[    0.776816] [0m[33msdhost-bcm2835 3f202000.sdhost[0m: could not get clk, deferring probe
[32m[    0.777063] [0m[33msdhci-pltfm[0m: SDHCI platform and OF driver helper
[32m[    0.777828] [0m[33mledtrig-cpu[0m: registered to indicate activity on CPUs
[32m[    0.778001] [0m[33mhidraw[0m: raw HID events driver (C) Jiri Kosina
[32m[    0.778269] [0m[33musbcore[0m: registered new interface driver usbhid
[32m[    0.778274] [0m[33musbhid[0m: USB HID core driver
[32m[    0.779273] [0m[33mvchiq[0m: vchiq_init_state: slot_zero = 0xbad80000, is_master = 0
[32m[    0.781321] [0mInitializing XFRM netlink socket
[32m[    0.781353] [0m[33mNET[0m: Registered protocol family 17
[32m[    0.781515] [0mKey type dns_resolver registered
[32m[    0.782013] [0mRegistering SWP/SWPB emulation handler
[32m[    0.782979] [0mregistered taskstats version 1
[32m[    0.783445] [0m[33mvc-sm[0m: Videocore shared memory driver
[32m[    0.783458] [0m[33m[vc_sm_connected_init][0m: start
[32m[    0.789664] [0m[33m[vc_sm_connected_init][0m: end - returning 0
[32m[    0.796016] [0m[33m3f201000.serial[0m: ttyAMA0 at MMIO 0x3f201000 (irq = 87, base_baud = 0) is a PL011 rev2
[32m[    0.796087] [0mconsole [ttyAMA0] enabled
[32m[    0.798102] [0m[33msdhost[0m: log_buf @ bad13000 (fad13000)
[32m[    0.874912] [0m[33mmmc0[0m: sdhost-bcm2835 loaded - DMA enabled (>1)
[32m[    0.875039] [0mof_cfs_init
[32m[    0.875161] [0m[33mof_cfs_init[0m: OK
[32m[    0.875870] [0mWaiting for root device PARTUUID=ead4320c-02...
[32m[    0.942209] [0m[33mmmc0[0m[1m: host does not support reading read-only switch, assuming write-enable[0m
[32m[    0.944211] [0m[33mmmc0[0m: new high speed SDHC card at address 0001
[32m[    0.945195] [0m[33mmmcblk0[0m: mmc0:0001 MS 14.8 GiB
[32m[    0.947936] [0m[33m mmcblk0[0m: p1 p2
[32m[    0.985014] [0m[1mIndeed it is in host mode hprt0 = 00021501[0m
[32m[    0.998499] [0m[33mEXT4-fs (mmcblk0p2)[0m: INFO: recovery required on readonly filesystem
[32m[    0.998509] [0m[33mEXT4-fs (mmcblk0p2)[0m: write access will be enabled during recovery
[32m[    1.069934] [0m[33mrandom[0m: fast init done
[32m[    1.184922] [0m[33musb 1-1[0m: new high-speed USB device number 2 using dwc_otg
[32m[    1.185108] [0m[1mIndeed it is in host mode hprt0 = 00001101[0m
[32m[    1.415291] [0m[33musb 1-1[0m: New USB device found, idVendor=0424, idProduct=9514
[32m[    1.415305] [0m[33musb 1-1[0m: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[32m[    1.416325] [0m[33mhub 1-1:1.0[0m: USB hub found
[32m[    1.416453] [0m[33mhub 1-1:1.0[0m: 5 ports detected
[32m[    1.734923] [0m[33musb 1-1.1[0m: new high-speed USB device number 3 using dwc_otg
[32m[    1.865412] [0m[33musb 1-1.1[0m: New USB device found, idVendor=0424, idProduct=ec00
[32m[    1.865430] [0m[33musb 1-1.1[0m: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[32m[    1.868577] [0msmsc95xx v1.0.5
[32m[    1.959768] [0m[33msmsc95xx 1-1.1:1.0 eth0[0m: register 'smsc95xx' at usb-3f980000.usb-1.1, smsc95xx USB 2.0 Ethernet, b8:27:eb:41:b2:86
[32m[    2.426905] [0m[33mEXT4-fs (mmcblk0p2)[0m: recovery complete
[32m[    2.436504] [0m[33mEXT4-fs (mmcblk0p2)[0m: mounted filesystem with ordered data mode. Opts: (null)
[32m[    2.436584] [0m[33mVFS[0m: Mounted root (ext4 filesystem) readonly on device 179:2.
[32m[    2.441153] [0m[33mdevtmpfs[0m: mounted
[32m[    2.442958] [0m[33mFreeing unused kernel memory[0m: 1024K
[32m[    2.992158] [0m[33msystemd[1][0m: System time before build time, advancing clock.
[32m[    3.150281] [0m[33mNET[0m: Registered protocol family 10
[32m[    3.166726] [0m[33mip_tables[0m: (C) 2000-2006 Netfilter Core Team
[32m[    3.202496] [0m[33msystemd[1][0m: systemd 232 running in system mode. (+PAM +AUDIT +SELINUX +IMA +APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD +IDN)
[32m[    3.203279] [0m[33msystemd[1][0m: Detected architecture arm.
[32m[    3.205249] [0m[33msystemd[1][0m: Set hostname to <raspberrypi>.
[32m[    3.299867] [0m[33muart-pl011 3f201000.serial[0m: no DMA platform data
[32m[    3.941167] [0m[33msystemd[1][0m[1m: rsyslog.service: Cannot add dependency job, ignoring: Unit rsyslog.service is masked.[0m
[32m[    3.950159] [0m[33msystemd[1][0m: Listening on fsck to fsckd communication Socket.
[32m[    3.951698] [0m[33msystemd[1][0m: Created slice User and Session Slice.
[32m[    3.951867] [0m[33msystemd[1][0m: Reached target Swap.
[32m[    3.952201] [0m[33msystemd[1][0m: Listening on udev Kernel Socket.
[32m[    3.952601] [0m[33msystemd[1][0m: Listening on Journal Socket (/dev/log).
[32m[    3.975676] [0m[33msystemd[1][0m: Listening on /dev/initctl Compatibility Named Pipe.
[32m[    4.189800] [0mi2c /dev entries driver
[32m[    4.257201] [0m[33mlirc_dev[0m: IR Remote Control driver registered, major 244
[32m[    4.712314] [0m[33mEXT4-fs (mmcblk0p2)[0m: re-mounted. Opts: (null)
[32m[    4.832372] [0m[33msystemd-journald[113][0m: Received request to flush runtime journal from PID 1
[32m[    5.262254] [0m[33mlirc_rpi[0m[1m: module is from the staging directory, the quality is unknown, you have been warned.[0m
[32m[    5.337949] [0m[33mgpiomem-bcm2835 3f200000.gpiomem[0m: Initialised: Registers at 0x3f200000
[32m[    5.867930] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: renamed from eth0
[32m[    6.315007] [0m[33mlirc_rpi[0m: auto-detected active high receiver on GPIO pin 18
[32m[    6.315466] [0m[33mlirc_rpi lirc_rpi[0m: lirc_dev: driver lirc_rpi registered at minor = 0
[32m[    6.315477] [0m[33mlirc_rpi[0m: driver registered!
[32m[    7.748170] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: hardware isn't capable of remote wakeup
[32m[    9.064527] [0mAdding 102396k swap on /var/swap.  Priority:-1 extents:1 across:102396k SSFS
[32m[    9.076283] [0m[33minput[0m: lircd-uinput as /devices/virtual/input/input0
[32m[    9.367536] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[   15.336960] [0mfuse init (API version 7.26)
[32m[   20.710561] [0m[33mrandom[0m: crng init done
[32m[   94.210027] [0m[33mBluetooth[0m: Core ver 2.22
[32m[   94.210137] [0m[33mNET[0m: Registered protocol family 31
[32m[   94.210146] [0m[33mBluetooth[0m: HCI device and connection manager initialized
[32m[   94.210174] [0m[33mBluetooth[0m: HCI socket layer initialized
[32m[   94.210193] [0m[33mBluetooth[0m: L2CAP socket layer initialized
[32m[   94.210284] [0m[33mBluetooth[0m: SCO socket layer initialized
[32m[ 7256.039702] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 7268.352062] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[ 7268.919419] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 7270.576110] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[ 7277.191539] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 7278.855875] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 10Mbps, full-duplex, lpa 0xCC61
[32m[ 9058.583663] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link down
[32m[ 9062.679698] [0m[33msmsc95xx 1-1.1:1.0 enxb827eb41b286[0m: link up, 100Mbps, full-duplex, lpa 0xCDE1
[32m[17831.066294] [0m[33mmailbox[0m[1m: loading out-of-tree module taints kernel.[0m
[32m[17831.066843] [0minit
[32m[17831.066853] [0mrpi_firmware_get := b9e46e10
[32m[17831.066991] [0mBlock No:0, status:0, error:0
[32m[17831.066999] [0m[1medid_block[0] := [0m
[32m[17831.067004] [0m[1medid_block[1] := \xffffffff[0m
[32m[17831.067009] [0m[1medid_block[2] := \xffffffff[0m
[32m[17831.067014] [0m[1medid_block[3] := \xffffffff[0m
[32m[17831.067019] [0m[1medid_block[4] := \xffffffff[0m
[32m[17831.067023] [0m[1medid_block[5] := \xffffffff[0m
[32m[17831.067028] [0m[1medid_block[6] := \xffffffff[0m
[32m[17831.067032] [0m[1medid_block[7] := [0m
[32m[17831.067037] [0m[1medid_block[8] := 8[0m
[32m[17831.067042] [0m[1medid_block[9] := \xffffffa3[0m
[32m[17831.067047] [0m[1medid_block[10] := &[0m
[32m[17831.067052] [0m[1medid_block[11] := f[0m
[32m[17831.067057] [0m[1medid_block[12] := [0m
[32m[17831.067061] [0m[1medid_block[13] := [0m
[32m[17831.067066] [0m[1medid_block[14] := [0m
[32m[17831.067071] [0m[1medid_block[15] := [0m
[32m[17831.067076] [0m[1medid_block[16] := [0m
[32m[17831.067080] [0m[1medid_block[17] := [0m
[32m[17831.067085] [0m[1medid_block[18] := [0m
[32m[17831.067090] [0m[1medid_block[19] := [0m
[32m[17831.067095] [0m[1medid_block[20] := \xffffff80[0m
[32m[17831.067099] [0m[1medid_block[21] := &[0m
[32m[17831.067104] [0m[1medid_block[22] := [0m
[32m[17831.067109] [0m[1medid_block[23] := n[0m
[32m[17831.067114] [0m[1medid_block[24] := \xffffffee[0m
[32m[17831.067118] [0m[1medid_block[25] := \xffffffee[0m
[32m[17831.067123] [0m[1medid_block[26] := \xffffff95[0m
[32m[17831.067128] [0m[1medid_block[27] := \xffffffa3[0m
[32m[17831.067133] [0m[1medid_block[28] := T[0m
[32m[17831.067138] [0m[1medid_block[29] := L[0m
[32m[17831.067143] [0m[1medid_block[30] := \xffffff99[0m
[32m[17831.067147] [0m[1medid_block[31] := &[0m
[32m[17831.067152] [0m[1medid_block[32] := [0m
[32m[17831.067157] [0m[1medid_block[33] := P[0m
[32m[17831.067162] [0m[1medid_block[34] := T[0m
[32m[17831.067167] [0m[1medid_block[35] := \xffffffbf[0m
[32m[17831.067172] [0m[1medid_block[36] := \xffffffef[0m
[32m[17831.067176] [0m[1medid_block[37] := \xffffff80[0m
[32m[17831.067181] [0m[1medid_block[38] := 1[0m
[32m[17831.067186] [0m[1medid_block[39] := Y[0m
[32m[17831.067191] [0m[1medid_block[40] := E[0m
[32m[17831.067195] [0m[1medid_block[41] := Y[0m
[32m[17831.067200] [0m[1medid_block[42] := a[0m
[32m[17831.067205] [0m[1medid_block[43] := Y[0m
[32m[17831.067210] [0m[1medid_block[44] := q[0m
[32m[17831.067214] [0m[1medid_block[45] := O[0m
[32m[17831.067219] [0m[1medid_block[46] := \xffffff81[0m
[32m[17831.067224] [0m[1medid_block[47] := @[0m
[32m[17831.067229] [0m[1medid_block[48] := \xffffff81[0m
[32m[17831.067239] [0m[1medid_block[49] := \xffffff80[0m
[32m[17831.067245] [0m[1medid_block[50] := [0m
[32m[17831.067251] [0m[1medid_block[51] := [0m
[32m[17831.067255] [0m[1medid_block[52] := [0m
[32m[17831.067260] [0m[1medid_block[53] := [0m
[32m[17831.067265] [0m[1medid_block[54] := 0[0m
[32m[17831.067270] [0m[1medid_block[55] := *[0m
[32m[17831.067274] [0m[1medid_block[56] := [0m
[32m[17831.067279] [0m[1medid_block[57] := \xffffff98[0m
[32m[17831.067284] [0m[1medid_block[58] := Q[0m
[32m[17831.067289] [0m[1medid_block[59] := [0m
[32m[17831.067294] [0m[1medid_block[60] := *[0m
[32m[17831.067299] [0m[1medid_block[61] := @[0m
[32m[17831.067303] [0m[1medid_block[62] := 0[0m
[32m[17831.067308] [0m[1medid_block[63] := p[0m
[32m[17831.067313] [0m[1medid_block[64] := [0m
[32m[17831.067318] [0m[1medid_block[65] := [0m
[32m[17831.067323] [0m[1medid_block[66] := x[0m
[32m[17831.067327] [0m[1medid_block[67] := -[0m
[32m[17831.067332] [0m[1medid_block[68] := [0m
[32m[17831.067337] [0m[1medid_block[69] := [0m
[32m[17831.067342] [0m[1medid_block[70] := [0m
[32m[17831.067346] [0m[1medid_block[71] := [0m
[32m[17831.067351] [0m[1medid_block[72] := [0m
[32m[17831.067356] [0m[1medid_block[73] := [0m
[32m[17831.067361] [0m[1medid_block[74] := [0m
[32m[17831.067366] [0m[1medid_block[75] := \xfffffffd[0m
[32m[17831.067370] [0m[1medid_block[76] := [0m
[32m[17831.067375] [0m[1medid_block[77] := 2[0m
[32m[17831.067380] [0m[1medid_block[78] := U[0m
[32m[17831.067384] [0m[1medid_block[79] := [0m
[32m[17831.067389] [0m[1medid_block[80] := R[0m
[32m[17831.067394] [0m[1medid_block[81] := [0m
[32m[17831.067399] [0m[1medid_block[82] := [0m
[32m[17831.067403] [0m[1medid_block[83] := 
[0m
[32m[17831.067408] [0m[1medid_block[84] :=  [0m
[32m[17831.067413] [0m[1medid_block[85] :=  [0m
[32m[17831.067418] [0m[1medid_block[86] :=  [0m
[32m[17831.067422] [0m[1medid_block[87] :=  [0m
[32m[17831.067427] [0m[1medid_block[88] :=  [0m
[32m[17831.067432] [0m[1medid_block[89] :=  [0m
[32m[17831.067437] [0m[1medid_block[90] := [0m
[32m[17831.067442] [0m[1medid_block[91] := [0m
[32m[17831.067447] [0m[1medid_block[92] := [0m
[32m[17831.067451] [0m[1medid_block[93] := \xfffffffc[0m
[32m[17831.067456] [0m[1medid_block[94] := [0m
[32m[17831.067461] [0m[1medid_block[95] := N[0m
[32m[17831.067466] [0m[1medid_block[96] := E[0m
[32m[17831.067470] [0m[1medid_block[97] := C[0m
[32m[17831.067475] [0m[1medid_block[98] :=  [0m
[32m[17831.067480] [0m[1medid_block[99] := L[0m
[32m[17831.067485] [0m[1medid_block[100] := C[0m
[32m[17831.067490] [0m[1medid_block[101] := D[0m
[32m[17831.067495] [0m[1medid_block[102] := 1[0m
[32m[17831.067499] [0m[1medid_block[103] := 9[0m
[32m[17831.067504] [0m[1medid_block[104] := 8[0m
[32m[17831.067509] [0m[1medid_block[105] := 0[0m
[32m[17831.067513] [0m[1medid_block[106] := S[0m
[32m[17831.067518] [0m[1medid_block[107] := X[0m
[32m[17831.067523] [0m[1medid_block[108] := [0m
[32m[17831.067528] [0m[1medid_block[109] := [0m
[32m[17831.067533] [0m[1medid_block[110] := [0m
[32m[17831.067537] [0m[1medid_block[111] := \xffffffff[0m
[32m[17831.067542] [0m[1medid_block[112] := [0m
[32m[17831.067547] [0m[1medid_block[113] := 5[0m
[32m[17831.067551] [0m[1medid_block[114] := 3[0m
[32m[17831.067556] [0m[1medid_block[115] := 2[0m
[32m[17831.067561] [0m[1medid_block[116] := 7[0m
[32m[17831.067566] [0m[1medid_block[117] := 9[0m
[32m[17831.067570] [0m[1medid_block[118] := 2[0m
[32m[17831.067575] [0m[1medid_block[119] := 7[0m
[32m[17831.067580] [0m[1medid_block[120] := 4[0m
[32m[17831.067585] [0m[1medid_block[121] := Y[0m
[32m[17831.067589] [0m[1medid_block[122] := A[0m
[32m[17831.067594] [0m[1medid_block[123] := 
[0m
[32m[17831.067599] [0m[1medid_block[124] :=  [0m
[32m[17831.067603] [0m[1medid_block[125] :=  [0m
[32m[17831.067608] [0m[1medid_block[126] := [0m
[32m[17831.067613] [0m[1medid_block[127] := \xffffffc5[0m
[32m[17831.067624] [0m[33mdo_init_module[0m[1m: 'mailbox'->init suspiciously returned 1, it should follow 0/-E convention
               do_init_module: loading module anyway...[0m
[32m[17831.067638] [0m[33mCPU[0m[1m: 2 PID: 2969 Comm: insmod Tainted: G         C O    4.9.45-v7+ #1[0m
[32m[17831.067643] [0m[33mHardware name[0m[1m: BCM2835[0m
[32m[17831.067684] [0m[1m[<8010fb14>] (unwind_backtrace) from [<8010c018>] (show_stack+0x20/0x24)[0m
[32m[17831.067704] [0m[1m[<8010c018>] (show_stack) from [<80457368>] (dump_stack+0xc8/0x10c)[0m
[32m[17831.067726] [0m[1m[<80457368>] (dump_stack) from [<8020bd38>] (do_init_module+0xa0/0x3d8)[0m
[32m[17831.067747] [0m[1m[<8020bd38>] (do_init_module) from [<801a3fec>] (load_module+0x1cd4/0x2314)[0m
[32m[17831.067768] [0m[1m[<801a3fec>] (load_module) from [<801a4844>] (SyS_finit_module+0xb8/0xc8)[0m
[32m[17831.067789] [0m[1m[<801a4844>] (SyS_finit_module) from [<80108060>] (ret_fast_syscall+0x0/0x1c)[0m
[32m[20754.760998] [0m[7m[31mUnable to handle kernel paging request at virtual address 7f29c0d0[0m
[32m[20754.768333] [0m[7m[31mpgd = a99c8000[0m
[32m[20754.771043] [0m[7m[31m[7f29c0d0] *pgd=34805811, *pte=00000000, *ppte=00000000[0m
[32m[20754.777404] [0m[33mInternal error[0m: Oops: 80000007 [#1] SMP ARM
[32m[20754.782631] [0m[33mModules linked in[0m[1m: mailbox(O-) bluetooth fuse uinput cfg80211 rfkill snd_bcm2835 bcm2835_gpiomem snd_pcm snd_timer snd lirc_rpi(C) uio_pdrv_genirq uio fixed lirc_dev rc_core i2c_dev ip_tables x_tables ipv6[0m
[32m[20754.802077] [0m[33mCPU[0m[1m: 3 PID: 3619 Comm: rmmod Tainted: G         C O    4.9.45-v7+ #1[0m
[32m[20754.809466] [0m[33mHardware name[0m[1m: BCM2835[0m
[32m[20754.812864] [0m[33mtask[0m[1m: b97fbb00 task.stack: b4b8e000[0m
[32m[20754.817393] [0m[1mPC is at 0x7f29c0d0[0m
[32m[20754.820539] [0m[1mLR is at SyS_delete_module+0x184/0x1d0[0m
[32m[20754.825327] [0m[33mpc [0m[1m: [<7f29c0d0>]    lr : [<801a21fc>]    psr: 20000013
               sp : b4b8ff50  ip : b4b8ff50  fp : b4b8ffa4[0m
[32m[20754.836801] [0m[33mr10[0m[1m: 00000000  r9 : b4b8e000  r8 : 801081e4[0m
[32m[20754.842022] [0m[33mr7 [0m[1m: 00000081  r6 : 01ba8e50  r5 : 01ba8e8c  r4 : 7f29a0c0[0m
[32m[20754.848544] [0m[33mr3 [0m[1m: 7f29c0d0  r2 : 00000001  r1 : 00000000  r0 : 80c10dc0[0m
[32m[20754.855068] [0m[33mFlags[0m[1m: nzCv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user[0m
[32m[20754.862199] [0m[33mControl[0m[1m: 10c5387d  Table: 299c806a  DAC: 00000055[0m
[32m[20754.867940] [0m[33mProcess rmmod (pid[0m: 3619, stack limit = 0xb4b8e210)
[32m[20754.873855] [0m[33mStack[0m: (0xb4b8ff50 to 0xb4b90000)
[32m[20754.878210] [0m[33mff40[0m:                                     b97fbfe8 6c69616d 00786f62 b4b8ff68
[32m[20754.886386] [0m[33mff60[0m: 8013ae18 80718188 00000004 b4b8e000 801081e4 8010b7b8 00000004 b4b8e000
[32m[20754.894563] [0m[33mff80[0m: b4b8ffac b4b8ff90 00000000 00b8ff98 01ba8e50 7ec0e919 00000000 b4b8ffa8
[32m[20754.902739] [0m[33mffa0[0m: 80108060 801a2084 01ba8e50 7ec0e919 01ba8e8c 00000800 30ebc400 30ebc400
[32m[20754.910916] [0m[33mffc0[0m: 01ba8e50 7ec0e919 01ba8e50 00000081 7ec0e80c 7ec0e618 00000000 0003f040
[32m[20754.919092] [0m[33mffe0[0m: 0003ef9c 7ec0e5cc 00022020 76ec425c 20000010 01ba8e8c 00000000 00000000
[32m[20754.927287] [0m[1m[<801a21fc>] (SyS_delete_module) from [<80108060>] (ret_fast_syscall+0x0/0x1c)[0m
[32m[20754.935604] [0m[33mCode[0m: bad PC value
[32m[20754.938675] [0m[1m---[ end trace e97372c4d5966e99 ]---[0m
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m dmesgsudo rmmod mailbox[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kman rmmod
[?1049h[?1h=RMMOD(8)                                                            rmmod                                                           RMMOD(8)[m
[m
[1mNAME[0m[m
       rmmod - Simple program to remove a module from the Linux Kernel[m
[m
[1mSYNOPSIS[0m[m
       [1mrmmod[0m [[1m-f[0m] [[1m-s[0m] [[1m-v[0m] [[4mmodulename[24m][m
[m
[1mDESCRIPTION[0m[m
       [1mrmmod[0m is a trivial program to remove a module (when module unloading support is provided) from the kernel. Most users will want to[m
       use [1mmodprobe[0m(8) with the [1m-r[0m option instead.[m
[m
[1mOPTIONS[0m[m
       [1m-v[0m, [1m--verbose[0m[m
           Print messages about what the program is doing. Usually [1mrmmod[0m prints messages only if something goes wrong.[m
[m
       [1m-f[0m, [1m--force[0m[m
           This option can be extremely dangerous: it has no effect unless CONFIG_MODULE_FORCE_UNLOAD was set when the kernel was compiled.[m
           With this option, you can remove modules which are being used, or which are not designed to be removed, or have been marked as[m
           unsafe (see [1mlsmod[0m(8)).[m
[m
       [1m-s[0m, [1m--syslog[0m[m
           Send errors to syslog instead of standard error.[m
[m
       [1m-V[0m [1m--version[0m[m
           Show version of program and exit.[m
[m
[1mCOPYRIGHT[0m[m
       This manual page originally Copyright 2002, Rusty Russell, IBM Corporation. Maintained by Jon Masters and others.[m
[m
[1mSEE[0m [1mALSO[0m[m
       [1mmodprobe[0m(8), [1minsmod[0m(8), [1mlsmod[0m(8), [1mmodinfo[0m(8)[m
[m
[1mAUTHORS[0m[m
       [1mJon[0m [1mMasters[0m <jcm@jonmasters.org>[m
           Developer[m
[m
       [1mLucas[0m [1mDe[0m [1mMarchi[0m <lucas.de.marchi@gmail.com>[m
           Developer[m
[m
[7m Manual page rmmod(8) line 1 (press h for help or q to quit)[27m[K[K[?1l>[?1049l]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m man rmmod[4Pdmesgsudo rmmod mailbox -f
rmmod: ERROR: ../libkmod/libkmod-module.c:793 kmod_module_remove_module() could not remove 'mailbox': Device or resource busy
rmmod: ERROR: could not remove module mailbox: Device or resource busy
]0;pi@raspberrypi: ~/DDD/A2/mailbox[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/mailbox $[00m cd ..
]0;pi@raspberrypi: ~/DDD/A2[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2 $[00m cd hdmi_uevent/
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m ls
90-hdmi.rules  hdmi_dev_o.c  hdmi_gpio.ko     hdmi_gpio.mod.o  Makefile       Module.symvers
hdmi_dev.c     hdmi_gpio.c   hdmi_gpio.mod.c  hdmi_gpio.o      modules.order  nov_sun
]0;pi@raspberrypi: ~/DDD/A2/hdmi_uevent[01;32mpi@raspberrypi[00m:[01;34m~/DDD/A2/hdmi_uevent $[00m vim hdmi_gpio.c
[?1000h[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;41r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[41;1H"hdmi_gpio.c" 150L, 3909C[>c[1;9H&dev_attr_read.attr,[2;9H&dev_attr_change.attr,[3;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m attribute_group dev_attr_group = {[6;9H.attrs = dev_attrs,[31mNULL[m
};
[32mstatic[m [32mconst[m [32mstruct[m attribute_group *dev_attr_groups[] = {[9;9H&dev_attr_group,[10;9H[31mNULL[m
};
[32mstatic[m [32mstruct[m miscdevice hdmi_dev = {[13;9H.name = [31m"hdmi_device"[m,[14;9H.minor = MISC_DYNAMIC_MINOR,
};
[32mstatic[m [32mchar[m *envp[]={[31m"SUBSYSTEM=HDMI"[m,[31mNULL[m};
[32mstatic[m [32mint[m __init module_start([32mvoid[m)
{[19;9H[32mint[m error=[31m0[m,flag=[31m1[m;[20;9H[32mchar[m check = [31m'L'[m;[21;9H[32mstatic[m [32mint[m hdmi_gpio_val = [31m0[m;[22;9H[32mstruct[m device *dev = hdmi_dev.this_device;[23;9H[32mstruct[m device_node *fwr = [31mNULL[m;[24;9H[34m//fw = of_find_compatible_node(NULL,);[m[25;9H[32mstruct[m rpi_firmware *fw = rpi_firmware_get([31mNULL[m);[26;9Hpr_info([31m"[m[35m\n[m[31m"[m);[28;9Herror = misc_register(&hdmi_dev);[29;9H[33mif[m (error)[30;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[32;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[33;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[34;17H[33mreturn[m -[31mENODEV[m;[35;9H}[36;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[37;9Hgpio_direction_input(hdmi_gpio);[38;9Hgpio_export(hdmi_gpio,[31mfalse[m);
[33mwhile[m([31m1[m){[40;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H78,16-23      52%[20;23H[?12l[?25h[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[41;117H~@k[20;23H[41;117H   [21;23H[41;128H9[21;23H[?12l[?25h[?25l[41;117H~@k[21;23H[41;117H   [22;23H[41;127H80[22;23H[?12l[?25h[?25l[41;117H~@k[22;23H[41;117H   [23;23H[41;128H1[23;23H[?12l[?25h[?25l[41;117H~@k[23;23H[41;117H   [24;23H[41;128H2[24;23H[?12l[?25h[?25l[41;117H~@k[24;23H[41;117H   [25;23H[41;128H3[25;23H[?12l[?25h[?25l[41;117H~@k[25;23H[41;117H   [26;22H[41;128H4,15-22[26;22H[?12l[?25h[?25l[41;117H~@k[26;22H[41;117H   [27;1H[41;128H5,0-1  [27;1H[?12l[?25h[?25l[41;117H~@k[27;1H[41;117H   [28;23H[41;128H6,16-23[28;23H[?12l[?25h[?25l[41;117H~@k[28;23H[41;117H   [29;18H[46m([merror[46m)[m[41;128H7,11-18[29;18H[?12l[?25h[?25l[41;117H~@k[29;18H[41;117H   [30;23H[29;12H(error)[30;23H[46m([19C)[m[41;128H8,9-23 [30;23H[?12l[?25h[?25l[41;117H~@k[30;23H[41;117H   [31;8H[30;23H([19C)[41;128H9,1-8 [31;8H[?12l[?25h[?25l[41;117H~@k[31;8H[41;117H   [32;23H[41;127H90,16-23[32;23H[?12l[?25h[?25l[41;117H~@k[32;23H[41;117H   [33;23H[46m([37C)[m[41;128H1,9-23 [33;23H[?12l[?25h[?25l[41;117H~@k[33;23H[41;117H   [34;23H[33;23H([37C)[41;128H2[34;23H[?12l[?25h[?25l[41;117H~@k[34;23H[41;117H   [35;9H[32;38H[46m{[35;9H}[m[41;128H3,2-9 [35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;23H[1;40r[40;1H
[1;41r[31;38H{[34;9H}[40;9H[33mwhile[m(hdmi_gpio_val){[41;1H[K[41;127H94,16-23      53%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H95,16-23      54%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H96,16-23      55%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;9H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H97,9[10C56%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;9H[33mwhile[m(!hdmi_gpio_val){[41;127H[K[41;127H98,16-23      57%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;17H[33mif[m(flag){[41;127H[K[41;127H99,16-23      58%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;25Hget_projector_id(fwr,fw);[41;127H[K[41;127H100,9-23      59%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[35;23H[46m([4C)[m[40;25Hcheck = edid_tag1.edid_block[[31m95[m];[41;127H[K[41;127H101,9-23      60%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;29H[46m{[m[34;23H([4C)[35;9H[46m}[m[40;25Hflag = [31m0[m;[41;127H[K[41;127H102,2-9[7C60%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;23H[1;40r[40;1H
[1;41r[31;29H{[34;9H}[40;17H}[41;127H[K[41;127H103,16-23     61%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H104,9-23      62%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;17Hmsleep([31m1000[m);[41;127H[K[41;127H105,3-24      63%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H106,3-24      64%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9Hprintk(KERN_INFO [31m"hotplug removed and value = [m[35m%d\n[m[31m"[m,hdmi_gpio_val);[41;127H[K[41;127H107,3-24      65%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;17H[1;40r[40;1H
[1;41r[31;25H[46m{[35;17H}[m[40;1H[35m#if 0[m[41;127H[K[41;127H108,3-17      66%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;23H[1;40r[40;1H
[1;41r[30;25H{[34;17H}[40;1H[34m        error = device_create_file(dev,&dev_attr_read);[m[41;127H[K[41;127H109,9-23      67%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[35;23H[46m([4C)[m[40;1H[34m        if (error){[m[41;127H[K[41;127H110,9-23      68%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;9H[1;40r[40;1H
[1;41r[27;30H[46m{[m[34;23H([4C)[35;9H[46m}[m[40;1H[34m                put_device(dev);[m[41;127H[K[41;127H111,2-9[7C69%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;23H[1;40r[40;1H
[1;41r[26;30H{[34;9H}[40;1H[34m                pr_err("No Read device attribute Added%d\n", error);[m[41;127H[K[41;127H112,16-23     70%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;5H[1;40r[40;1H
[1;41r[40;1H[34m        }[m[41;127H[K[41;127H113,5[9C70%[35;5H[?12l[?25h[?25l[41;117H~@k[35;5H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;1H[34m        error = device_create_file(dev,&dev_attr_change);[m[41;127H[K[41;127H114,16-23     71%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;19H[1;40r[40;1H
[1;41r[35;19H[34m[46m{[38;9H}[m

[34m        if (error){[m[41;127H[K[41;127H115,12-19     72%[35;19H[?12l[?25h[?25l[41;117H~@k[35;19H[41;117H   [35;23H[1;40r[40;1H
[1;41r[34;19H[34m{[37;9H}


                put_device(dev);[m[41;127H[K[41;127H116,9-23      73%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[35;23H[34m[46m([43C)[m[40;1H[34m                pr_err("No Change device attribute Added%d\n", error);[m[41;127H[K[41;127H117,9-23      74%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;19H[34m[46m{[m[34;23H[34m([43C)[m[35;9H[34m[46m}[m[40;1H[34m        }[m[41;127H[K[41;127H118,2-9[7C75%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;23H[1;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;1H[35m#endif[m[41;127H[K[41;127H119,16-23     76%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;19H[1;40r[40;1H
[1;41r[35;19H[34m[46m{[38;9H}[m[40;9H[33mif[m(check == [31m'L'[m){[41;127H[K[41;127H120,12-19     77%[35;19H[?12l[?25h[?25l[41;117H~@k[35;19H[41;117H   [35;23H[1;40r[40;1H
[1;41r[34;19H[34m{[37;9H}[m[40;17Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H121,9-23      78%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[35;23H[34m[46m([45C)[m[40;17H[33mif[m (error){[41;127H[K[41;127H122,9-23      79%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;19H[34m[46m{[m[34;23H[34m([45C)[m[35;9H[34m[46m}[m[40;25Hkobject_put(&dev->kobj);[41;127H[K[41;127H123,2-9[7C80%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;6H[1;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;25Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H124,6[9C80%[35;6H[?12l[?25h[?25l[41;117H~@k[35;6H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;17H}[41;127H[K[41;127H125,16-23     81%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H126,9-23      82%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;9Hflag = [31m1[m;[41;127H[K[41;127H127,9-23      83%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H128,3-24      84%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H129,3-24      85%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;17H[1;40r[40;1H
[1;41r[32;27H[46m{[35;17H}[m[40;9H[33mreturn[m error;[41;127H[K[41;127H130,3-17      86%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[29;25H[46m{[m[31;27H{[34;17H}[35;9H[46m}[m[40;1H}[41;127H[K[41;127H131,2-9[7C87%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[28;25H{[34;9H}[41;127H[K[41;127H132,10-17     88%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;21H[1;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H133,14-21     89%[35;21H[?12l[?25h[?25l[41;117H~@k[35;21H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H134,1[9C90%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;21H[1;40r[40;1H
[1;41r[40;9Hmisc_deregister(&hdmi_dev);[41;127H[K[41;127H135,14-21     90%[35;21H[?12l[?25h[?25l[41;117H~@k[35;21H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;9Hgpio_unexport(hdmi_gpio);[41;127H[K[41;127H136,1[9C91%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;9Hgpio_free(hdmi_gpio);[41;127H[K[41;127H137,0-1[7C92%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H138,23[8C93%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;1H[1;40r[40;1H
[1;41r[35;1H[46m{[40;1H}[m[41;127H[K[41;127H139,1[9C94%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;23H[1;40r[40;1H
[1;41r[34;1H{[39;1H}[41;127H[K[41;127H140,16-23     95%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[41;127H[K[41;127H141,16-23     96%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;1Hmodule_init(module_start);[41;127H[K[41;127H142,16-23     97%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;22H[1;40r[40;1H
[1;41r[40;1Hmodule_exit(module_end);[41;127H[K[41;127H143,15-22     98%[35;22H[?12l[?25h[?25l[41;117H~@k[35;22H[41;117H   [35;1H[1;40r[40;1H
[1;41r[30;1H[46m{[35;1H}[m[40;1HMODULE_LICENSE([31m"GPL"[m);[41;127H[K[41;127H144,1[9C99%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [34;22H[30;1H{[35;1H}[41;129H3,15-22[34;22H[?12l[?25h[?25l[41;117H~@k[34;22H[41;117H   [33;23H[41;129H2,16-23[33;23H[?12l[?25h[?25l[41;117H~@k[33;23H[41;117H   [32;23H[41;129H1[32;23H[?12l[?25h[?25l[41;117H~@k[32;23H[41;117H   [31;23H[41;129H0[31;23H[?12l[?25h[?25l[41;117H~@k[31;23H[41;117H   [30;1H[46m{[35;1H}[m[41;128H39,1    [30;1H[?12l[?25h[?25l[41;117H~@k[30;1H[41;117H   [29;23H
{[35;1H}[41;129H8,23[29;23H[?12l[?25h[?25l[41;117H~@k[29;23H[41;117H   [28;1H[41;129H7,0-1[28;1H[?12l[?25h[?25l[41;117H~@k[28;1H[41;117H   [27;1H[41;129H6,1  [27;1H[?12l[?25h[?25l[41;117H~@k[27;1H[41;117H   [26;21H[41;129H5,14-21[26;21H[?12l[?25h[?25l[41;117H~@k[26;21H[41;117H   [25;1H[41;129H4,1    [25;1H[?12l[?25h[?25l[41;117H~@k[25;1H[41;117H   [24;21H[41;129H3,14-21[24;21H[?12l[?25h[?25l[41;117H~@k[24;21H[41;117H   [23;17H[41;129H2,10-17[23;17H[?12l[?25h[?25l[41;117H~@k[23;17H[41;117H   [22;9H[16;25H[46m{[22;9H}[m[41;129H1,2-9  [22;9H[?12l[?25h[?25l[41;117H~@k[22;9H[41;117H   [21;17H[16;25H{[18;27H[46m{[21;17H}[m[22;9H}[41;129H0,3-17[21;17H[?12l[?25h[?25l[41;117H~@k[21;17H[41;117H   [20;24H[18;27H{[21;17H}[41;128H29,3-24[20;24H[?12l[?25h[?25l[41;117H~@k[20;24H[41;117H   [19;24H[41;129H8[19;24H[?12l[?25h[?25l[41;117H~@k[19;24H[41;117H   [18;23H[41;129H7,9-23[18;23H[?12l[?25h[?25l[41;117H~@k[18;23H[41;117H   [17;23H[41;129H6[17;23H[?12l[?25h[?25l[41;117H~@k[17;23H[41;117H   [16;23H[41;129H5,16-23[16;23H[?12l[?25h[?25l[41;117H~@k[16;23H[41;117H   [15;6H[41;129H4,6    [15;6H[?12l[?25h[?25l[41;117H~@k[15;6H[41;117H   [14;9H[11;19H[34m[46m{[14;9H}[m[41;129H3,2-9[14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [13;23H[11;19H[34m{[m[13;23H[34m[46m([45C)[m[14;9H[34m}[m[41;129H2,9-23[13;23H[?12l[?25h[?25l[41;117H~@k[13;23H[41;117H   [12;23H[13;23H[34m([45C)[m[41;129H1[12;23H[?12l[?25h[?25l[41;117H~@k[12;23H[41;117H   [11;19H[34m[46m{[14;9H}[m[41;129H0,12-19[11;19H[?12l[?25h[?25l[41;117H~@k[11;19H[41;117H   [10;23H[11;19H[34m{[14;9H}[m[41;128H19,16-23[10;23H[?12l[?25h[?25l[41;117H~@k[10;23H[41;117H   [9;9H[6;19H[34m[46m{[9;9H}[m[41;129H8,2-9  [9;9H[?12l[?25h[?25l[41;117H~@k[9;9H[41;117H   [8;23H[6;19H[34m{[m[8;23H[34m[46m([43C)[m[9;9H[34m}[m[41;129H7,9-23[8;23H[?12l[?25h[?25l[41;117H~@k[8;23H[41;117H   [7;23H[8;23H[34m([43C)[m[41;129H6[7;23H[?12l[?25h[?25l[41;117H~@k[7;23H[41;117H   [6;19H[34m[46m{[9;9H}[m[41;129H5,12-19[6;19H[?12l[?25h[?25l[41;117H~@k[6;19H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[7;19H[34m{[10;9H}[m[41;127H[K[41;127H114,16-23     98%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;5H[1;40r[1;1H[L[1;41r[1;17H}[41;127H[K[41;127H113,5[9C97%[6;5H[?12l[?25h[?25l[41;117H~@k[6;5H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;25Hflag = [31m0[m;[41;127H[K[41;127H112,16-23     96%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;9H[1;40r[1;1H[L[1;41r[1;25Hcheck = edid_tag1.edid_block[[31m95[m];[41;127H[K[41;127H111,2-9[7C95%[6;9H[?12l[?25h[?25l[41;117H~@k[6;9H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;25Hget_projector_id(fwr,fw);[6;23H[46m([4C)[m[41;127H[K[41;127H110,9-23      94%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;17H[33mif[m(flag){[7;23H([4C)[41;127H[K[41;127H109,9-23      93%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;17H[1;40r[1;1H[L[1;41r[1;9H[33mwhile[m(!hdmi_gpio_val){[2;25H[46m{[6;17H}[m[41;127H[K[41;127H108,3-17      92%[6;17H[?12l[?25h[?25l[41;117H~@k[6;17H[41;117H   [6;24H[1;40r[1;1H[L[1;41r[1;9H}[3;25H{[7;17H}[41;127H[K[41;127H107,3-24      91%[6;24H[?12l[?25h[?25l[41;117H~@k[6;24H[41;117H   [6;24H[1;40r[1;1H[L[1;41r[1;17Hmsleep([31m1000[m);[41;127H[K[41;127H106,3-24      90%[6;24H[?12l[?25h[?25l[41;117H~@k[6;24H[41;117H   [6;24H[1;40r[1;1H[L[1;41r[1;17Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H105,3-24      90%[6;24H[?12l[?25h[?25l[41;117H~@k[6;24H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9H[33mwhile[m(hdmi_gpio_val){[41;127H[K[41;127H104,9-23      89%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9Hhdmi_gpio_val = gpio_get_value(hdmi_gpio);[41;127H[K[41;127H103,16-23     88%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;9H[1;40r[1;1H[L[1;41r[1;1H[33mwhile[m([31m1[m){[3;29H[46m{[6;9H}[m[41;127H[K[41;127H102,2-9[7C87%[6;9H[?12l[?25h[?25l[41;117H~@k[6;9H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9Hgpio_export(hdmi_gpio,[31mfalse[m);[4;29H{[6;23H[46m([4C)[m[7;9H}[41;127H[K[41;127H101,9-23      86%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9Hgpio_direction_input(hdmi_gpio);[7;23H([4C)[41;127H[K[41;127H100,9-23      85%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9Hgpio_request(hdmi_gpio,[31m"sysfs"[m);[41;127H[K[41;127H99,16-23      84%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9H}[41;127H[K[41;127H98,16-23      83%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;9H[1;40r[1;1H[L[1;41r[1;17H[33mreturn[m -[31mENODEV[m;[41;127H[K[41;127H97,9[10C82%[6;9H[?12l[?25h[?25l[41;117H~@k[6;9H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;17Hprintk(KERN_INFO [31m"hdmi hotplug gpio invalid"[m);[41;127H[K[41;127H96,16-23      81%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9H[33mif[m(!gpio_is_valid(hdmi_gpio)){[41;127H[K[41;127H95,16-23      80%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[41;127H[K[41;127H94,16-23      80%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;9H[1;40r[1;1H[L[1;41r[1;17Hpr_err([31m"error [m[35m%d\n[m[31m"[m, error);[3;38H[46m{[6;9H}[m[41;127H[K[41;127H93,2-9[8C79%[6;9H[?12l[?25h[?25l[41;117H~@k[6;9H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9H[33mif[m (error)[4;38H{[7;9H}[41;127H[K[41;127H92,9-23[7C78%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[1;9Herror = misc_register(&hdmi_dev);[6;23H[46m([37C)[m[41;127H[K[41;127H91,9-23[7C77%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;23H[1;40r[1;1H[L[1;41r[7;23H([37C)[41;127H[K[41;127H90,16-23      76%[6;23H[?12l[?25h[?25l[41;117H~@k[6;23H[41;117H   [6;8H[1;40r[1;1H[L[1;41r[1;9Hpr_info([31m"[m[35m\n[m[31m"[m);[41;127H[K[41;127H89,1-8[8C75%[6;8H[?12l[?25h[?25l[41;117H~@k[6;8H[41;117H   [7;23H[41;127H90,16-23[7;23H[?12l[?25h[?25l[41;117H~@k[7;23H[41;117H   [8;23H[46m([37C)[m[41;128H1,9-23 [8;23H[?12l[?25h[?25l[41;117H~@k[8;23H[41;117H   [9;23H[8;23H([37C)[41;128H2[9;23H[?12l[?25h[?25l[41;117H~@k[9;23H[41;117H   [10;9H[7;38H[46m{[10;9H}[m[41;128H3,2-9 [10;9H[?12l[?25h[?25l[41;117H~@k[10;9H[41;117H   [11;23H[7;38H{[10;9H}[41;128H4,16-23[11;23H[?12l[?25h[?25l[41;117H~@k[11;23H[41;117H   [12;23H[41;128H5[12;23H[?12l[?25h[?25l[41;117H~@k[12;23H[41;117H   [13;23H[41;128H6[13;23H[?12l[?25h[?25l[41;117H~@k[13;23H[41;117H   [14;9H[41;128H7,9    [14;9H[?12l[?25h[?25l[41;117H~@k[14;9H[41;117H   [15;23H[41;128H8,16-23[15;23H[?12l[?25h[?25l[41;117H~@k[15;23H[41;117H   [16;23H[41;128H9[16;23H[?12l[?25h[?25l[41;117H~@k[16;23H[41;117H   [17;23H[41;127H100,9[17;23H[?12l[?25h[?25l[41;117H~@k[17;23H[41;117H   [18;23H[46m([4C)[m[41;129H1[18;23H[?12l[?25h[?25l[41;117H~@k[18;23H[41;117H   [19;9H[16;29H[46m{[m[18;23H([4C)[19;9H[46m}[m[41;129H2,2-9 [19;9H[?12l[?25h[?25l[41;117H~@k[19;9H[41;117H   [20;23H[16;29H{[19;9H}[41;129H3,16-23[20;23H[?12l[?25h[?25l[41;117H~@k[20;23H[41;117H   [21;23H[41;129H4,9-23 [21;23H[?12l[?25h[?25l[41;117H~@k[21;23H[41;117H   [22;24H[41;129H5,3-24[22;24H[?12l[?25h[?25l[41;117H~@k[22;24H[41;117H   [23;24H[41;129H6[23;24H[?12l[?25h[?25l[41;117H~@k[23;24H[41;117H   [24;24H[41;129H7[24;24H[?12l[?25h[?25l[41;117H~@k[24;24H[41;117H   [25;17H[21;25H[46m{[25;17H}[m[41;129H8,3-17[25;17H[?12l[?25h[?25l[41;117H~@k[25;17H[41;117H   [26;23H[21;25H{[25;17H}[41;129H9,9-23[26;23H[?12l[?25h[?25l[41;117H~@k[26;23H[41;117H   [27;23H[46m([4C)[m[41;128H10[27;23H[?12l[?25h[?25l[41;117H~@k[27;23H[41;117H   [28;9H[20;30H[46m{[m[27;23H([4C)[28;9H[46m}[m[41;129H1,2-9 [28;9H[?12l[?25h[?25l[41;117H~@k[28;9H[41;117H   [29;23H[20;30H{[28;9H}[41;129H2,16-23[29;23H[?12l[?25h[?25l[41;117H~@k[29;23H[41;117H   [30;5H[41;129H3,5    [30;5H[?12l[?25h[?25l[41;117H~@k[30;5H[41;117H   [31;23H[41;129H4,16-23[31;23H[?12l[?25h[?25l[41;117H~@k[31;23H[41;117H   [32;19H[34m[46m{[35;9H}[m[41;129H5,12-19[32;19H[?12l[?25h[?25l[41;117H~@k[32;19H[41;117H   [33;23H[32;19H[34m{[35;9H}[m[41;129H6,9-23 [33;23H[?12l[?25h[?25l[41;117H~@k[33;23H[41;117H   [34;23H[34m[46m([43C)[m[41;129H7[34;23H[?12l[?25h[?25l[41;117H~@k[34;23H[41;117H   [35;9H[32;19H[34m[46m{[m[34;23H[34m([43C)[m[35;9H[34m[46m}[m[41;129H8,2-9 [35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;23H[1;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;1H[35m#endif[m[41;127H[K[41;127H119,16-23     76%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;19H[1;40r[40;1H
[1;41r[35;19H[34m[46m{[38;9H}[m[40;9H[33mif[m(check == [31m'L'[m){[41;127H[K[41;127H120,12-19     77%[35;19H[?12l[?25h[?25l[41;117H~@k[35;19H[41;117H   [35;23H[1;40r[40;1H
[1;41r[34;19H[34m{[37;9H}[m[40;17Herror = kobject_uevent_env(&dev->kobj,KOBJ_CHANGE,envp);[41;127H[K[41;127H121,9-23      78%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[35;23H[34m[46m([45C)[m[40;17H[33mif[m (error){[41;127H[K[41;127H122,9-23      79%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;9H[1;40r[40;1H
[1;41r[32;19H[34m[46m{[m[34;23H[34m([45C)[m[35;9H[34m[46m}[m[40;25Hkobject_put(&dev->kobj);[41;127H[K[41;127H123,2-9[7C80%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;6H[1;40r[40;1H
[1;41r[31;19H[34m{[34;9H}[m[40;25Hpr_err([31m"No kobject_uevent [m[35m%d\n[m[31m"[m, error);[41;127H[K[41;127H124,6[9C80%[35;6H[?12l[?25h[?25l[41;117H~@k[35;6H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;17H}[41;127H[K[41;127H125,16-23     81%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;9H}[41;127H[K[41;127H126,9-23      82%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;23H[1;40r[40;1H
[1;41r[40;9Hflag = [31m1[m;[41;127H[K[41;127H127,9-23      83%[35;23H[?12l[?25h[?25l[41;117H~@k[35;23H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;9Hmsleep([31m1000[m);[41;127H[K[41;127H128,3-24      84%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;24H[1;40r[40;1H
[1;41r[40;1H}[41;127H[K[41;127H129,3-24      85%[35;24H[?12l[?25h[?25l[41;117H~@k[35;24H[41;117H   [35;17H[1;40r[40;1H
[1;41r[32;27H[46m{[35;17H}[m[40;9H[33mreturn[m error;[41;127H[K[41;127H130,3-17      86%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;9H[1;40r[40;1H
[1;41r[29;25H[46m{[m[31;27H{[34;17H}[35;9H[46m}[m[40;1H}[41;127H[K[41;127H131,2-9[7C87%[35;9H[?12l[?25h[?25l[41;117H~@k[35;9H[41;117H   [35;17H[1;40r[40;1H
[1;41r[28;25H{[34;9H}[41;127H[K[41;127H132,10-17     88%[35;17H[?12l[?25h[?25l[41;117H~@k[35;17H[41;117H   [35;21H[1;40r[40;1H
[1;41r[40;1H[32mstatic[m [32mvoid[m __exit module_end([32mvoid[m)[41;127H[K[41;127H133,14-21     89%[35;21H[?12l[?25h[?25l[41;117H~@k[35;21H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;1H{[41;127H[K[41;127H134,1[9C90%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;21H[1;40r[40;1H
[1;41r[40;9Hmisc_deregister(&hdmi_dev);[41;127H[K[41;127H135,14-21     90%[35;21H[?12l[?25h[?25l[41;117H~@k[35;21H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;9Hgpio_unexport(hdmi_gpio);[41;127H[K[41;127H136,1[9C91%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [35;1H[1;40r[40;1H
[1;41r[40;9Hgpio_free(hdmi_gpio);[41;127H[K[41;127H137,0-1[7C92%[35;1H[?12l[?25h[?25l[41;117H~@k[35;1H[41;117H   [